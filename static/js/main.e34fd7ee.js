/*! For license information please see main.e34fd7ee.js.LICENSE.txt */
(()=>{var e={393:function(e,t,n){!function(e,t){"use strict";function n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function r(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function a(e,t){if(null==e)return{};var n,r,i=s(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function l(e,t){return c(e)||u(e,t)||d(e,t)||f()}function c(e){if(Array.isArray(e))return e}function u(e,t){var n=e&&("undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,i,o=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);s=!0);}catch(l){a=!0,i=l}finally{try{s||null==n.return||n.return()}finally{if(a)throw i}}return o}}function d(e,t){if(e){if("string"===typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function p(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var m,g,y,v,w={exports:{}};function b(){return g?m:(g=1,m="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}function _(){if(v)return y;v=1;var e=b();function t(){}function n(){}return n.resetWarningCache=t,y=function(){function r(t,n,r,i,o,s){if(s!==e){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function i(){return r}r.isRequired=r;var o={array:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:t};return o.PropTypes=o,o}}w.exports=_()();var S=p(w.exports),E=function(e,n,r){var i=!!r,o=t.useRef(r);t.useEffect((function(){o.current=r}),[r]),t.useEffect((function(){if(!i||!e)return function(){};var t=function(){o.current&&o.current.apply(o,arguments)};return e.on(n,t),function(){e.off(n,t)}}),[i,n,e,o])},k=function(e){var n=t.useRef(e);return t.useEffect((function(){n.current=e}),[e]),n.current},I=function(e){return null!==e&&"object"===i(e)},T=function(e){return I(e)&&"function"===typeof e.then},C=function(e){return I(e)&&"function"===typeof e.elements&&"function"===typeof e.createToken&&"function"===typeof e.createPaymentMethod&&"function"===typeof e.confirmCardPayment},x="[object Object]",A=function e(t,n){if(!I(t)||!I(n))return t===n;var r=Array.isArray(t);if(r!==Array.isArray(n))return!1;var i=Object.prototype.toString.call(t)===x;if(i!==(Object.prototype.toString.call(n)===x))return!1;if(!i&&!r)return t===n;var o=Object.keys(t),s=Object.keys(n);if(o.length!==s.length)return!1;for(var a={},l=0;l<o.length;l+=1)a[o[l]]=!0;for(var c=0;c<s.length;c+=1)a[s[c]]=!0;var u=Object.keys(a);if(u.length!==o.length)return!1;var d=t,h=n,f=function(t){return e(d[t],h[t])};return u.every(f)},R=function(e,t,n){return I(e)?Object.keys(e).reduce((function(i,s){var a=!I(t)||!A(e[s],t[s]);return n.includes(s)?(a&&console.warn("Unsupported prop change: options.".concat(s," is not a mutable property.")),i):a?r(r({},i||{}),{},o({},s,e[s])):i}),null):null},P="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",O=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:P;if(null===e||C(e))return e;throw new Error(t)},N=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:P;if(T(e))return{tag:"async",stripePromise:Promise.resolve(e).then((function(e){return O(e,t)}))};var n=O(e,t);return null===n?{tag:"empty"}:{tag:"sync",stripe:n}},D=function(e){e&&e._registerWrapper&&e.registerAppInfo&&(e._registerWrapper({name:"react-stripe-js",version:"2.9.0"}),e.registerAppInfo({name:"react-stripe-js",version:"2.9.0",url:"https://stripe.com/docs/stripe-js/react"}))},L=t.createContext(null);L.displayName="ElementsContext";var M=function(e,t){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e},F=function(e){var n=e.stripe,r=e.options,i=e.children,o=t.useMemo((function(){return N(n)}),[n]),s=l(t.useState((function(){return{stripe:"sync"===o.tag?o.stripe:null,elements:"sync"===o.tag?o.stripe.elements(r):null}})),2),a=s[0],c=s[1];t.useEffect((function(){var e=!0,t=function(e){c((function(t){return t.stripe?t:{stripe:e,elements:e.elements(r)}}))};return"async"!==o.tag||a.stripe?"sync"!==o.tag||a.stripe||t(o.stripe):o.stripePromise.then((function(n){n&&e&&t(n)})),function(){e=!1}}),[o,a,r]);var u=k(n);t.useEffect((function(){null!==u&&u!==n&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")}),[u,n]);var d=k(r);return t.useEffect((function(){if(a.elements){var e=R(r,d,["clientSecret","fonts"]);e&&a.elements.update(e)}}),[r,d,a.elements]),t.useEffect((function(){D(a.stripe)}),[a.stripe]),t.createElement(L.Provider,{value:a},i)};F.propTypes={stripe:S.any,options:S.object};var j=function(e){var n=t.useContext(L);return M(n,e)},U=function(){return j("calls useElements()").elements},V=function(e){return(0,e.children)(j("mounts <ElementsConsumer>"))};V.propTypes={children:S.func.isRequired};var z=["on","session"],B=t.createContext(null);B.displayName="CheckoutSdkContext";var q=function(e,t){if(!e)throw new Error("Could not find CheckoutProvider context; You need to wrap the part of your app that ".concat(t," in an <CheckoutProvider> provider."));return e},W=t.createContext(null);W.displayName="CheckoutContext";var H=function(e,t){if(!e)return null;e.on,e.session;var n=a(e,z);return r(r({},n),t||e.session())},K="Invalid prop `stripe` supplied to `CheckoutProvider`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",G=function(e){var n=e.stripe,r=e.options,i=e.children,o=t.useMemo((function(){return N(n,K)}),[n]),s=l(t.useState(null),2),a=s[0],c=s[1],u=l(t.useState((function(){return{stripe:"sync"===o.tag?o.stripe:null,checkoutSdk:null}})),2),d=u[0],h=u[1],f=function(e,t){h((function(n){return n.stripe&&n.checkoutSdk?n:{stripe:e,checkoutSdk:t}}))},p=t.useRef(!1);t.useEffect((function(){var e=!0;return"async"!==o.tag||d.stripe?"sync"===o.tag&&o.stripe&&!p.current&&(p.current=!0,o.stripe.initCheckout(r).then((function(e){e&&(f(o.stripe,e),e.on("change",c))}))):o.stripePromise.then((function(t){t&&e&&!p.current&&(p.current=!0,t.initCheckout(r).then((function(e){e&&(f(t,e),e.on("change",c))})))})),function(){e=!1}}),[o,d,r,c]);var m=k(n);t.useEffect((function(){null!==m&&m!==n&&console.warn("Unsupported prop change on CheckoutProvider: You cannot change the `stripe` prop after setting it.")}),[m,n]);var g=k(r);t.useEffect((function(){var e,t;if(d.checkoutSdk){!r.clientSecret||I(g)||A(r.clientSecret,g.clientSecret)||console.warn("Unsupported prop change: options.clientSecret is not a mutable property.");var n=null===g||void 0===g||null===(e=g.elementsOptions)||void 0===e?void 0:e.appearance,i=null===r||void 0===r||null===(t=r.elementsOptions)||void 0===t?void 0:t.appearance;i&&!A(i,n)&&d.checkoutSdk.changeAppearance(i)}}),[r,g,d.checkoutSdk]),t.useEffect((function(){D(d.stripe)}),[d.stripe]);var y=t.useMemo((function(){return H(d.checkoutSdk,a)}),[d.checkoutSdk,a]);return d.checkoutSdk?t.createElement(B.Provider,{value:d},t.createElement(W.Provider,{value:y},i)):null};G.propTypes={stripe:S.any,options:S.shape({clientSecret:S.string.isRequired,elementsOptions:S.object}).isRequired};var Q=function(e){var n=t.useContext(B);return q(n,e)},$=function(e){var n=t.useContext(B),r=t.useContext(L);if(n&&r)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CheckoutProvider> and <Elements> providers."));return n?q(n,e):M(r,e)},J=function(){Q("calls useCheckout()");var e=t.useContext(W);if(!e)throw new Error("Could not find Checkout Context; You need to wrap the part of your app that calls useCheckout() in an <CheckoutProvider> provider.");return e},Y=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},X=function(e,n){var r="".concat(Y(e),"Element"),i=n?function(e){$("mounts <".concat(r,">"));var n=e.id,i=e.className;return t.createElement("div",{id:n,className:i})}:function(n){var i,o=n.id,s=n.className,a=n.options,c=void 0===a?{}:a,u=n.onBlur,d=n.onFocus,h=n.onReady,f=n.onChange,p=n.onEscape,m=n.onClick,g=n.onLoadError,y=n.onLoaderStart,v=n.onNetworksChange,w=n.onConfirm,b=n.onCancel,_=n.onShippingAddressChange,S=n.onShippingRateChange,I=$("mounts <".concat(r,">")),T="elements"in I?I.elements:null,C="checkoutSdk"in I?I.checkoutSdk:null,x=l(t.useState(null),2),A=x[0],P=x[1],O=t.useRef(null),N=t.useRef(null);E(A,"blur",u),E(A,"focus",d),E(A,"escape",p),E(A,"click",m),E(A,"loaderror",g),E(A,"loaderstart",y),E(A,"networkschange",v),E(A,"confirm",w),E(A,"cancel",b),E(A,"shippingaddresschange",_),E(A,"shippingratechange",S),E(A,"change",f),h&&(i="expressCheckout"===e?h:function(){h(A)}),E(A,"ready",i),t.useLayoutEffect((function(){if(null===O.current&&null!==N.current&&(T||C)){var t=null;C?t=C.createElement(e,c):T&&(t=T.create(e,c)),O.current=t,P(t),t&&t.mount(N.current)}}),[T,C,c]);var D=k(c);return t.useEffect((function(){if(O.current){var e=R(c,D,["paymentRequest"]);e&&"update"in O.current&&O.current.update(e)}}),[c,D]),t.useLayoutEffect((function(){return function(){if(O.current&&"function"===typeof O.current.destroy)try{O.current.destroy(),O.current=null}catch(e){}}}),[]),t.createElement("div",{id:o,className:s,ref:N})};return i.propTypes={id:S.string,className:S.string,onChange:S.func,onBlur:S.func,onFocus:S.func,onReady:S.func,onEscape:S.func,onClick:S.func,onLoadError:S.func,onLoaderStart:S.func,onNetworksChange:S.func,onConfirm:S.func,onCancel:S.func,onShippingAddressChange:S.func,onShippingRateChange:S.func,options:S.object},i.displayName=r,i.__elementType=e,i},Z="undefined"===typeof window,ee=t.createContext(null);ee.displayName="EmbeddedCheckoutProviderContext";var te=function(){var e=t.useContext(ee);if(!e)throw new Error("<EmbeddedCheckout> must be used within <EmbeddedCheckoutProvider>");return e},ne="Invalid prop `stripe` supplied to `EmbeddedCheckoutProvider`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",re=function(e){var n=e.stripe,r=e.options,i=e.children,o=t.useMemo((function(){return N(n,ne)}),[n]),s=t.useRef(null),a=t.useRef(null),c=l(t.useState({embeddedCheckout:null}),2),u=c[0],d=c[1];t.useEffect((function(){if(!a.current&&!s.current){var e=function(e){a.current||s.current||(a.current=e,s.current=a.current.initEmbeddedCheckout(r).then((function(e){d({embeddedCheckout:e})})))};"async"!==o.tag||a.current||!r.clientSecret&&!r.fetchClientSecret?"sync"!==o.tag||a.current||!r.clientSecret&&!r.fetchClientSecret||e(o.stripe):o.stripePromise.then((function(t){t&&e(t)}))}}),[o,r,u,a]),t.useEffect((function(){return function(){u.embeddedCheckout?(s.current=null,u.embeddedCheckout.destroy()):s.current&&s.current.then((function(){s.current=null,u.embeddedCheckout&&u.embeddedCheckout.destroy()}))}}),[u.embeddedCheckout]),t.useEffect((function(){D(a)}),[a]);var h=k(n);t.useEffect((function(){null!==h&&h!==n&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the `stripe` prop after setting it.")}),[h,n]);var f=k(r);return t.useEffect((function(){null!=f&&(null!=r?(void 0===r.clientSecret&&void 0===r.fetchClientSecret&&console.warn("Invalid props passed to EmbeddedCheckoutProvider: You must provide one of either `options.fetchClientSecret` or `options.clientSecret`."),null!=f.clientSecret&&r.clientSecret!==f.clientSecret&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the client secret after setting it. Unmount and create a new instance of EmbeddedCheckoutProvider instead."),null!=f.fetchClientSecret&&r.fetchClientSecret!==f.fetchClientSecret&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change fetchClientSecret after setting it. Unmount and create a new instance of EmbeddedCheckoutProvider instead."),null!=f.onComplete&&r.onComplete!==f.onComplete&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the onComplete option after setting it."),null!=f.onShippingDetailsChange&&r.onShippingDetailsChange!==f.onShippingDetailsChange&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the onShippingDetailsChange option after setting it."),null!=f.onLineItemsChange&&r.onLineItemsChange!==f.onLineItemsChange&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the onLineItemsChange option after setting it.")):console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot unset options after setting them."))}),[f,r]),t.createElement(ee.Provider,{value:u},i)},ie=function(e){var n=e.id,r=e.className,i=te().embeddedCheckout,o=t.useRef(!1),s=t.useRef(null);return t.useLayoutEffect((function(){return!o.current&&i&&null!==s.current&&(i.mount(s.current),o.current=!0),function(){if(o.current&&i)try{i.unmount(),o.current=!1}catch(e){}}}),[i]),t.createElement("div",{ref:s,id:n,className:r})},oe=function(e){var n=e.id,r=e.className;return te(),t.createElement("div",{id:n,className:r})},se=Z?oe:ie,ae=function(){return $("calls useStripe()").stripe},le=X("auBankAccount",Z),ce=X("card",Z),ue=X("cardNumber",Z),de=X("cardExpiry",Z),he=X("cardCvc",Z),fe=X("fpxBank",Z),pe=X("iban",Z),me=X("idealBank",Z),ge=X("p24Bank",Z),ye=X("epsBank",Z),ve=X("payment",Z),we=X("expressCheckout",Z),be=X("currencySelector",Z),_e=X("paymentRequestButton",Z),Se=X("linkAuthentication",Z),Ee=X("address",Z),ke=X("shippingAddress",Z),Ie=X("paymentMethodMessaging",Z),Te=X("affirmMessage",Z),Ce=X("afterpayClearpayMessage",Z);e.AddressElement=Ee,e.AffirmMessageElement=Te,e.AfterpayClearpayMessageElement=Ce,e.AuBankAccountElement=le,e.CardCvcElement=he,e.CardElement=ce,e.CardExpiryElement=de,e.CardNumberElement=ue,e.CheckoutProvider=G,e.CurrencySelectorElement=be,e.Elements=F,e.ElementsConsumer=V,e.EmbeddedCheckout=se,e.EmbeddedCheckoutProvider=re,e.EpsBankElement=ye,e.ExpressCheckoutElement=we,e.FpxBankElement=fe,e.IbanElement=pe,e.IdealBankElement=me,e.LinkAuthenticationElement=Se,e.P24BankElement=ge,e.PaymentElement=ve,e.PaymentMethodMessagingElement=Ie,e.PaymentRequestButtonElement=_e,e.ShippingAddressElement=ke,e.useCheckout=J,e.useElements=U,e.useStripe=ae}(t,n(43))},175:(e,t)=>{"use strict";const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,r=/^[\u0021-\u003A\u003C-\u007E]*$/,i=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,o=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,a=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function l(e,t,n){do{const n=e.charCodeAt(t);if(32!==n&&9!==n)return t}while(++t<n);return n}function c(e,t,n){for(;t>n;){const n=e.charCodeAt(--t);if(32!==n&&9!==n)return t+1}return n}function u(e){if(-1===e.indexOf("%"))return e;try{return decodeURIComponent(e)}catch(t){return e}}},328:function(e,t,n){var r,i;r=function(){var e,t,n="2.0.6",r={},i={},o={currentLocale:"en",zeroFormat:null,nullFormat:null,defaultFormat:"0,0",scalePercentBy100:!0},s={currentLocale:o.currentLocale,zeroFormat:o.zeroFormat,nullFormat:o.nullFormat,defaultFormat:o.defaultFormat,scalePercentBy100:o.scalePercentBy100};function a(e,t){this._input=e,this._value=t}return(e=function(n){var i,o,l,c;if(e.isNumeral(n))i=n.value();else if(0===n||"undefined"===typeof n)i=0;else if(null===n||t.isNaN(n))i=null;else if("string"===typeof n)if(s.zeroFormat&&n===s.zeroFormat)i=0;else if(s.nullFormat&&n===s.nullFormat||!n.replace(/[^0-9]+/g,"").length)i=null;else{for(o in r)if((c="function"===typeof r[o].regexps.unformat?r[o].regexps.unformat():r[o].regexps.unformat)&&n.match(c)){l=r[o].unformat;break}i=(l=l||e._.stringToNumber)(n)}else i=Number(n)||null;return new a(n,i)}).version=n,e.isNumeral=function(e){return e instanceof a},e._=t={numberToFormat:function(t,n,r){var o,s,a,l,c,u,d,h=i[e.options.currentLocale],f=!1,p=!1,m=0,g="",y=1e12,v=1e9,w=1e6,b=1e3,_="",S=!1;if(t=t||0,s=Math.abs(t),e._.includes(n,"(")?(f=!0,n=n.replace(/[\(|\)]/g,"")):(e._.includes(n,"+")||e._.includes(n,"-"))&&(c=e._.includes(n,"+")?n.indexOf("+"):t<0?n.indexOf("-"):-1,n=n.replace(/[\+|\-]/g,"")),e._.includes(n,"a")&&(o=!!(o=n.match(/a(k|m|b|t)?/))&&o[1],e._.includes(n," a")&&(g=" "),n=n.replace(new RegExp(g+"a[kmbt]?"),""),s>=y&&!o||"t"===o?(g+=h.abbreviations.trillion,t/=y):s<y&&s>=v&&!o||"b"===o?(g+=h.abbreviations.billion,t/=v):s<v&&s>=w&&!o||"m"===o?(g+=h.abbreviations.million,t/=w):(s<w&&s>=b&&!o||"k"===o)&&(g+=h.abbreviations.thousand,t/=b)),e._.includes(n,"[.]")&&(p=!0,n=n.replace("[.]",".")),a=t.toString().split(".")[0],l=n.split(".")[1],u=n.indexOf(","),m=(n.split(".")[0].split(",")[0].match(/0/g)||[]).length,l?(e._.includes(l,"[")?(l=(l=l.replace("]","")).split("["),_=e._.toFixed(t,l[0].length+l[1].length,r,l[1].length)):_=e._.toFixed(t,l.length,r),a=_.split(".")[0],_=e._.includes(_,".")?h.delimiters.decimal+_.split(".")[1]:"",p&&0===Number(_.slice(1))&&(_="")):a=e._.toFixed(t,0,r),g&&!o&&Number(a)>=1e3&&g!==h.abbreviations.trillion)switch(a=String(Number(a)/1e3),g){case h.abbreviations.thousand:g=h.abbreviations.million;break;case h.abbreviations.million:g=h.abbreviations.billion;break;case h.abbreviations.billion:g=h.abbreviations.trillion}if(e._.includes(a,"-")&&(a=a.slice(1),S=!0),a.length<m)for(var E=m-a.length;E>0;E--)a="0"+a;return u>-1&&(a=a.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+h.delimiters.thousands)),0===n.indexOf(".")&&(a=""),d=a+_+(g||""),f?d=(f&&S?"(":"")+d+(f&&S?")":""):c>=0?d=0===c?(S?"-":"+")+d:d+(S?"-":"+"):S&&(d="-"+d),d},stringToNumber:function(e){var t,n,r,o=i[s.currentLocale],a=e,l={thousand:3,million:6,billion:9,trillion:12};if(s.zeroFormat&&e===s.zeroFormat)n=0;else if(s.nullFormat&&e===s.nullFormat||!e.replace(/[^0-9]+/g,"").length)n=null;else{for(t in n=1,"."!==o.delimiters.decimal&&(e=e.replace(/\./g,"").replace(o.delimiters.decimal,".")),l)if(r=new RegExp("[^a-zA-Z]"+o.abbreviations[t]+"(?:\\)|(\\"+o.currency.symbol+")?(?:\\))?)?$"),a.match(r)){n*=Math.pow(10,l[t]);break}n*=(e.split("-").length+Math.min(e.split("(").length-1,e.split(")").length-1))%2?1:-1,e=e.replace(/[^0-9\.]+/g,""),n*=Number(e)}return n},isNaN:function(e){return"number"===typeof e&&isNaN(e)},includes:function(e,t){return-1!==e.indexOf(t)},insert:function(e,t,n){return e.slice(0,n)+t+e.slice(n)},reduce:function(e,t){if(null===this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!==typeof t)throw new TypeError(t+" is not a function");var n,r=Object(e),i=r.length>>>0,o=0;if(3===arguments.length)n=arguments[2];else{for(;o<i&&!(o in r);)o++;if(o>=i)throw new TypeError("Reduce of empty array with no initial value");n=r[o++]}for(;o<i;o++)o in r&&(n=t(n,r[o],o,r));return n},multiplier:function(e){var t=e.toString().split(".");return t.length<2?1:Math.pow(10,t[1].length)},correctionFactor:function(){return Array.prototype.slice.call(arguments).reduce((function(e,n){var r=t.multiplier(n);return e>r?e:r}),1)},toFixed:function(e,t,n,r){var i,o,s,a,l=e.toString().split("."),c=t-(r||0);return i=2===l.length?Math.min(Math.max(l[1].length,c),t):c,s=Math.pow(10,i),a=(n(e+"e+"+i)/s).toFixed(i),r>t-i&&(o=new RegExp("\\.?0{1,"+(r-(t-i))+"}$"),a=a.replace(o,"")),a}},e.options=s,e.formats=r,e.locales=i,e.locale=function(e){return e&&(s.currentLocale=e.toLowerCase()),s.currentLocale},e.localeData=function(e){if(!e)return i[s.currentLocale];if(e=e.toLowerCase(),!i[e])throw new Error("Unknown locale : "+e);return i[e]},e.reset=function(){for(var e in o)s[e]=o[e]},e.zeroFormat=function(e){s.zeroFormat="string"===typeof e?e:null},e.nullFormat=function(e){s.nullFormat="string"===typeof e?e:null},e.defaultFormat=function(e){s.defaultFormat="string"===typeof e?e:"0.0"},e.register=function(e,t,n){if(t=t.toLowerCase(),this[e+"s"][t])throw new TypeError(t+" "+e+" already registered.");return this[e+"s"][t]=n,n},e.validate=function(t,n){var r,i,o,s,a,l,c,u;if("string"!==typeof t&&(t+="",console.warn&&console.warn("Numeral.js: Value is not string. It has been co-erced to: ",t)),(t=t.trim()).match(/^\d+$/))return!0;if(""===t)return!1;try{c=e.localeData(n)}catch(d){c=e.localeData(e.locale())}return o=c.currency.symbol,a=c.abbreviations,r=c.delimiters.decimal,i="."===c.delimiters.thousands?"\\.":c.delimiters.thousands,(null===(u=t.match(/^[^\d]+/))||(t=t.substr(1),u[0]===o))&&(null===(u=t.match(/[^\d]+$/))||(t=t.slice(0,-1),u[0]===a.thousand||u[0]===a.million||u[0]===a.billion||u[0]===a.trillion))&&(l=new RegExp(i+"{2}"),!t.match(/[^\d.,]/g)&&!((s=t.split(r)).length>2)&&(s.length<2?!!s[0].match(/^\d+.*\d$/)&&!s[0].match(l):1===s[0].length?!!s[0].match(/^\d+$/)&&!s[0].match(l)&&!!s[1].match(/^\d+$/):!!s[0].match(/^\d+.*\d$/)&&!s[0].match(l)&&!!s[1].match(/^\d+$/)))},e.fn=a.prototype={clone:function(){return e(this)},format:function(t,n){var i,o,a,l=this._value,c=t||s.defaultFormat;if(n=n||Math.round,0===l&&null!==s.zeroFormat)o=s.zeroFormat;else if(null===l&&null!==s.nullFormat)o=s.nullFormat;else{for(i in r)if(c.match(r[i].regexps.format)){a=r[i].format;break}o=(a=a||e._.numberToFormat)(l,c,n)}return o},value:function(){return this._value},input:function(){return this._input},set:function(e){return this._value=Number(e),this},add:function(e){var n=t.correctionFactor.call(null,this._value,e);function r(e,t,r,i){return e+Math.round(n*t)}return this._value=t.reduce([this._value,e],r,0)/n,this},subtract:function(e){var n=t.correctionFactor.call(null,this._value,e);function r(e,t,r,i){return e-Math.round(n*t)}return this._value=t.reduce([e],r,Math.round(this._value*n))/n,this},multiply:function(e){function n(e,n,r,i){var o=t.correctionFactor(e,n);return Math.round(e*o)*Math.round(n*o)/Math.round(o*o)}return this._value=t.reduce([this._value,e],n,1),this},divide:function(e){function n(e,n,r,i){var o=t.correctionFactor(e,n);return Math.round(e*o)/Math.round(n*o)}return this._value=t.reduce([this._value,e],n),this},difference:function(t){return Math.abs(e(this._value).subtract(t).value())}},e.register("locale","en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(e){var t=e%10;return 1===~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th"},currency:{symbol:"$"}}),e.register("format","bps",{regexps:{format:/(BPS)/,unformat:/(BPS)/},format:function(t,n,r){var i,o=e._.includes(n," BPS")?" ":"";return t*=1e4,n=n.replace(/\s?BPS/,""),i=e._.numberToFormat(t,n,r),e._.includes(i,")")?((i=i.split("")).splice(-1,0,o+"BPS"),i=i.join("")):i=i+o+"BPS",i},unformat:function(t){return+(1e-4*e._.stringToNumber(t)).toFixed(15)}}),function(){var t={base:1e3,suffixes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]},n={base:1024,suffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},r=t.suffixes.concat(n.suffixes.filter((function(e){return t.suffixes.indexOf(e)<0}))).join("|");r="("+r.replace("B","B(?!PS)")+")",e.register("format","bytes",{regexps:{format:/([0\s]i?b)/,unformat:new RegExp(r)},format:function(r,i,o){var s,a,l,c=e._.includes(i,"ib")?n:t,u=e._.includes(i," b")||e._.includes(i," ib")?" ":"";for(i=i.replace(/\s?i?b/,""),s=0;s<=c.suffixes.length;s++)if(a=Math.pow(c.base,s),l=Math.pow(c.base,s+1),null===r||0===r||r>=a&&r<l){u+=c.suffixes[s],a>0&&(r/=a);break}return e._.numberToFormat(r,i,o)+u},unformat:function(r){var i,o,s=e._.stringToNumber(r);if(s){for(i=t.suffixes.length-1;i>=0;i--){if(e._.includes(r,t.suffixes[i])){o=Math.pow(t.base,i);break}if(e._.includes(r,n.suffixes[i])){o=Math.pow(n.base,i);break}}s*=o||1}return s}})}(),e.register("format","currency",{regexps:{format:/(\$)/},format:function(t,n,r){var i,o,s=e.locales[e.options.currentLocale],a={before:n.match(/^([\+|\-|\(|\s|\$]*)/)[0],after:n.match(/([\+|\-|\)|\s|\$]*)$/)[0]};for(n=n.replace(/\s?\$\s?/,""),i=e._.numberToFormat(t,n,r),t>=0?(a.before=a.before.replace(/[\-\(]/,""),a.after=a.after.replace(/[\-\)]/,"")):t<0&&!e._.includes(a.before,"-")&&!e._.includes(a.before,"(")&&(a.before="-"+a.before),o=0;o<a.before.length;o++)switch(a.before[o]){case"$":i=e._.insert(i,s.currency.symbol,o);break;case" ":i=e._.insert(i," ",o+s.currency.symbol.length-1)}for(o=a.after.length-1;o>=0;o--)switch(a.after[o]){case"$":i=o===a.after.length-1?i+s.currency.symbol:e._.insert(i,s.currency.symbol,-(a.after.length-(1+o)));break;case" ":i=o===a.after.length-1?i+" ":e._.insert(i," ",-(a.after.length-(1+o)+s.currency.symbol.length-1))}return i}}),e.register("format","exponential",{regexps:{format:/(e\+|e-)/,unformat:/(e\+|e-)/},format:function(t,n,r){var i=("number"!==typeof t||e._.isNaN(t)?"0e+0":t.toExponential()).split("e");return n=n.replace(/e[\+|\-]{1}0/,""),e._.numberToFormat(Number(i[0]),n,r)+"e"+i[1]},unformat:function(t){var n=e._.includes(t,"e+")?t.split("e+"):t.split("e-"),r=Number(n[0]),i=Number(n[1]);function o(t,n,r,i){var o=e._.correctionFactor(t,n);return t*o*(n*o)/(o*o)}return i=e._.includes(t,"e-")?i*=-1:i,e._.reduce([r,Math.pow(10,i)],o,1)}}),e.register("format","ordinal",{regexps:{format:/(o)/},format:function(t,n,r){var i=e.locales[e.options.currentLocale],o=e._.includes(n," o")?" ":"";return n=n.replace(/\s?o/,""),o+=i.ordinal(t),e._.numberToFormat(t,n,r)+o}}),e.register("format","percentage",{regexps:{format:/(%)/,unformat:/(%)/},format:function(t,n,r){var i,o=e._.includes(n," %")?" ":"";return e.options.scalePercentBy100&&(t*=100),n=n.replace(/\s?\%/,""),i=e._.numberToFormat(t,n,r),e._.includes(i,")")?((i=i.split("")).splice(-1,0,o+"%"),i=i.join("")):i=i+o+"%",i},unformat:function(t){var n=e._.stringToNumber(t);return e.options.scalePercentBy100?.01*n:n}}),e.register("format","time",{regexps:{format:/(:)/,unformat:/(:)/},format:function(e,t,n){var r=Math.floor(e/60/60),i=Math.floor((e-60*r*60)/60),o=Math.round(e-60*r*60-60*i);return r+":"+(i<10?"0"+i:i)+":"+(o<10?"0"+o:o)},unformat:function(e){var t=e.split(":"),n=0;return 3===t.length?(n+=60*Number(t[0])*60,n+=60*Number(t[1]),n+=Number(t[2])):2===t.length&&(n+=60*Number(t[0]),n+=Number(t[1])),Number(n)}}),e},void 0===(i="function"===typeof r?r.call(t,n,t,e):r)||(e.exports=i)},497:(e,t,n)=>{"use strict";var r=n(218);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,s){if(s!==r){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},173:(e,t,n)=>{e.exports=n(497)()},218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},730:(e,t,n)=>{"use strict";var r=n(43),i=n(853);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(a[e]=t,e=0;e<t.length;e++)s.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,o,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function w(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),S=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),C=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),O=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var N=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var M,F=Object.assign;function j(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var U=!1;function V(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),o=r.stack.split("\n"),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(1!==s||1!==a)do{if(s--,0>--a||i[s]!==o[a]){var l="\n"+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=s&&0<=a);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function z(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case S:return"Portal";case I:return"Profiler";case k:return"StrictMode";case A:return"Suspense";case R:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case x:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case O:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function J(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function X(e,t){Y(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function oe(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ye=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function we(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function _e(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,Ee=null,ke=null;function Ie(e){if(e=wi(e)){if("function"!==typeof Se)throw Error(o(280));var t=e.stateNode;t&&(t=_i(t),Se(e.stateNode,e.type,t))}}function Te(e){Ee?ke?ke.push(e):ke=[e]:Ee=e}function Ce(){if(Ee){var e=Ee,t=ke;if(ke=Ee=null,Ie(e),t)for(e=0;e<t.length;e++)Ie(t[e])}}function xe(e,t){return e(t)}function Ae(){}var Re=!1;function Pe(e,t,n){if(Re)return e(t,n);Re=!0;try{return xe(e,t,n)}finally{Re=!1,(null!==Ee||null!==ke)&&(Ae(),Ce())}}function Oe(e,t){var n=e.stateNode;if(null===n)return null;var r=_i(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Ne=!1;if(u)try{var De={};Object.defineProperty(De,"passive",{get:function(){Ne=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(ue){Ne=!1}function Le(e,t,n,r,i,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Me=!1,Fe=null,je=!1,Ue=null,Ve={onError:function(e){Me=!0,Fe=e}};function ze(e,t,n,r,i,o,s,a,l){Me=!1,Fe=null,Le.apply(Ve,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(Be(e)!==e)throw Error(o(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return We(i),e;if(s===r)return We(i),t;s=s.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,$e=i.unstable_shouldYield,Je=i.unstable_requestPaint,Ye=i.unstable_now,Xe=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null;var st=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/lt|0)|0},at=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=268435455&n;if(0!==s){var a=s&~i;0!==a?r=dt(a):0!==(o&=s)&&(r=dt(o))}else 0!==(s=n&~i)?r=dt(s):0!==o&&(r=dt(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-st(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-st(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var wt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var _t,St,Et,kt,It,Tt=!1,Ct=[],xt=null,At=null,Rt=null,Pt=new Map,Ot=new Map,Nt=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":xt=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":Rt=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ot.delete(t.pointerId)}}function Mt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=wi(t))&&St(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=vi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void It(e.priority,(function(){Et(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=wi(n))&&St(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ut(e,t,n){jt(e)&&n.delete(t)}function Vt(){Tt=!1,null!==xt&&jt(xt)&&(xt=null),null!==At&&jt(At)&&(At=null),null!==Rt&&jt(Rt)&&(Rt=null),Pt.forEach(Ut),Ot.forEach(Ut)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,Tt||(Tt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function Bt(e){function t(t){return zt(t,e)}if(0<Ct.length){zt(Ct[0],e);for(var n=1;n<Ct.length;n++){var r=Ct[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==xt&&zt(xt,e),null!==At&&zt(At,e),null!==Rt&&zt(Rt,e),Pt.forEach(t),Ot.forEach(t),n=0;n<Nt.length;n++)(r=Nt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Nt.length&&null===(n=Nt[0]).blockedOn;)Ft(n),null===n.blockedOn&&Nt.shift()}var qt=b.ReactCurrentBatchConfig,Wt=!0;function Ht(e,t,n,r){var i=wt,o=qt.transition;qt.transition=null;try{wt=1,Gt(e,t,n,r)}finally{wt=i,qt.transition=o}}function Kt(e,t,n,r){var i=wt,o=qt.transition;qt.transition=null;try{wt=4,Gt(e,t,n,r)}finally{wt=i,qt.transition=o}}function Gt(e,t,n,r){if(Wt){var i=$t(e,t,n,r);if(null===i)Wr(e,t,r,Qt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return xt=Mt(xt,e,t,n,r,i),!0;case"dragenter":return At=Mt(At,e,t,n,r,i),!0;case"mouseover":return Rt=Mt(Rt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Pt.set(o,Mt(Pt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Ot.set(o,Mt(Ot.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var o=wi(i);if(null!==o&&_t(o),null===(o=$t(e,t,n,r))&&Wr(e,t,r,Qt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Qt=null;function $t(e,t,n,r){if(Qt=null,null!==(e=vi(e=_e(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Jt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Yt=null,Xt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Xt,r=n.length,i="value"in Yt?Yt.value:Yt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[o-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,i,o){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,an,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=on(cn),dn=F({},cn,{view:0,detail:0}),hn=on(dn),fn=F({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:In,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(sn=e.screenX-ln.screenX,an=e.screenY-ln.screenY):an=sn=0,ln=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:an}}),pn=on(fn),mn=on(F({},fn,{dataTransfer:0})),gn=on(F({},dn,{relatedTarget:0})),yn=on(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wn=on(vn),bn=on(F({},cn,{data:0})),_n={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=En[e])&&!!t[e]}function In(){return kn}var Tn=F({},dn,{key:function(e){if(e.key){var t=_n[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:In,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=on(Tn),xn=on(F({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=on(F({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:In})),Rn=on(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=F({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),On=on(Pn),Nn=[9,13,27,32],Dn=u&&"CompositionEvent"in window,Ln=null;u&&"documentMode"in document&&(Ln=document.documentMode);var Mn=u&&"TextEvent"in window&&!Ln,Fn=u&&(!Dn||Ln&&8<Ln&&11>=Ln),jn=String.fromCharCode(32),Un=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Nn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Hn(e,t,n,r){Te(r),0<(t=Kr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Gn=null;function Qn(e){jr(e,0)}function $n(e){if(G(bi(e)))return e}function Jn(e,t){if("change"===e)return t}var Yn=!1;if(u){var Xn;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Xn=Zn}else Xn=!1;Yn=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Gn=Kn=null)}function nr(e){if("value"===e.propertyName&&$n(Gn)){var t=[];Hn(t,Gn,e,_e(e)),Pe(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Gn)}function or(e,t){if("click"===e)return $n(t)}function sr(e,t){if("input"===e||"change"===e)return $n(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!ar(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=ur(n,o);var s=ur(n,r);i&&s&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,yr=null,vr=null,wr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;wr||null==gr||gr!==Q(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&lr(vr,r)||(vr=r,0<(r=Kr(yr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function _r(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Sr={animationend:_r("Animation","AnimationEnd"),animationiteration:_r("Animation","AnimationIteration"),animationstart:_r("Animation","AnimationStart"),transitionend:_r("Transition","TransitionEnd")},Er={},kr={};function Ir(e){if(Er[e])return Er[e];if(!Sr[e])return e;var t,n=Sr[e];for(t in n)if(n.hasOwnProperty(t)&&t in kr)return Er[e]=n[t];return e}u&&(kr=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);var Tr=Ir("animationend"),Cr=Ir("animationiteration"),xr=Ir("animationstart"),Ar=Ir("transitionend"),Rr=new Map,Pr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Or(e,t){Rr.set(e,t),l(t,[e])}for(var Nr=0;Nr<Pr.length;Nr++){var Dr=Pr[Nr];Or(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Or(Tr,"onAnimationEnd"),Or(Cr,"onAnimationIteration"),Or(xr,"onAnimationStart"),Or("dblclick","onDoubleClick"),Or("focusin","onFocus"),Or("focusout","onBlur"),Or(Ar,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,s,a,l,c){if(ze.apply(this,arguments),Me){if(!Me)throw Error(o(198));var u=Fe;Me=!1,Fe=null,je||(je=!0,Ue=u)}}(r,t,void 0,e),e.currentTarget=null}function jr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;Fr(i,a,c),o=l}else for(s=0;s<r.length;s++){if(l=(a=r[s]).instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;Fr(i,a,c),o=l}}}if(je)throw e=Ue,je=!1,Ue=null,e}function Ur(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[zr]){e[zr]=!0,s.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Vr("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Jt(t)){case 1:var i=Ht;break;case 4:i=Kt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Ne||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===s)for(s=r.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;s=s.return}for(;null!==a;){if(null===(s=vi(a)))return;if(5===(l=s.tag)||6===l){r=o=s;continue e}a=a.parentNode}}r=r.return}Pe((function(){var r=o,i=_e(n),s=[];e:{var a=Rr.get(e);if(void 0!==a){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Cn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=An;break;case Tr:case Cr:case xr:l=yn;break;case Ar:l=Rn;break;case"scroll":l=hn;break;case"wheel":l=On;break;case"copy":case"cut":case"paste":l=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=xn}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==a?a+"Capture":null:a;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&(null!=(m=Oe(p,h))&&u.push(Hr(p,m,f)))),d)break;p=p.return}0<u.length&&(a=new l(a,c,null,n,i),s.push({event:a,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!vi(c)&&!c[pi])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?vi(c):null)&&(c!==(d=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=xn,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?a:bi(l),f=null==c?a:bi(c),(a=new u(m,p+"leave",l,n,i)).target=d,a.relatedTarget=f,m=null,vi(i)===r&&((u=new u(h,p+"enter",c,n,i)).target=f,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,p=0,f=u=l;f;f=Gr(f))p++;for(f=0,m=h;m;m=Gr(m))f++;for(;0<p-f;)u=Gr(u),p--;for(;0<f-p;)h=Gr(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=Gr(u),h=Gr(h)}u=null}else u=null;null!==l&&Qr(s,a,l,u,!1),null!==c&&null!==d&&Qr(s,d,c,u,!0)}if("select"===(l=(a=r?bi(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=Jn;else if(Wn(a))if(Yn)g=sr;else{g=ir;var y=rr}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=or);switch(g&&(g=g(e,r))?Hn(s,g,n,i):(y&&y(e,a,r),"focusout"===e&&(y=a._wrapperState)&&y.controlled&&"number"===a.type&&ee(a,"number",a.value)),y=r?bi(r):window,e){case"focusin":(Wn(y)||"true"===y.contentEditable)&&(gr=y,yr=r,vr=null);break;case"focusout":vr=yr=gr=null;break;case"mousedown":wr=!0;break;case"contextmenu":case"mouseup":case"dragend":wr=!1,br(s,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":br(s,n,i)}var v;if(Dn)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else Bn?Vn(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(Fn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==w?"onCompositionEnd"===w&&Bn&&(v=en()):(Xt="value"in(Yt=i)?Yt.value:Yt.textContent,Bn=!0)),0<(y=Kr(r,w)).length&&(w=new bn(w,e,null,n,i),s.push({event:w,listeners:y}),v?w.data=v:null!==(v=zn(n))&&(w.data=v))),(v=Mn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Un=!0,jn);case"textInput":return(e=t.data)===jn&&Un?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Dn&&Vn(e,t)?(e=en(),Zt=Xt=Yt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),s.push({event:i,listeners:r}),i.data=v))}jr(s,t)}))}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Oe(e,n))&&r.unshift(Hr(e,o,i)),null!=(o=Oe(e,t))&&r.push(Hr(e,o,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var o=t._reactName,s=[];null!==n&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==c&&(a=c,i?null!=(l=Oe(n,o))&&s.unshift(Hr(n,l,a)):i||null!=(l=Oe(n,o))&&s.push(Hr(n,l,a))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var $r=/\r\n?/g,Jr=/\u0000|\uFFFD/g;function Yr(e){return("string"===typeof e?e:""+e).replace($r,"\n").replace(Jr,"")}function Xr(e,t,n){if(t=Yr(t),Yr(e)!==t&&n)throw Error(o(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,si="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(e){return oi.resolve(null).then(e).catch(ai)}:ri;function ai(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),hi="__reactFiber$"+di,fi="__reactProps$"+di,pi="__reactContainer$"+di,mi="__reactEvents$"+di,gi="__reactListeners$"+di,yi="__reactHandles$"+di;function vi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[hi])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function wi(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function _i(e){return e[fi]||null}var Si=[],Ei=-1;function ki(e){return{current:e}}function Ii(e){0>Ei||(e.current=Si[Ei],Si[Ei]=null,Ei--)}function Ti(e,t){Ei++,Si[Ei]=e.current,e.current=t}var Ci={},xi=ki(Ci),Ai=ki(!1),Ri=Ci;function Pi(e,t){var n=e.type.contextTypes;if(!n)return Ci;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Oi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ni(){Ii(Ai),Ii(xi)}function Di(e,t,n){if(xi.current!==Ci)throw Error(o(168));Ti(xi,t),Ti(Ai,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,q(e)||"Unknown",i));return F({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ci,Ri=xi.current,Ti(xi,e),Ti(Ai,Ai.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Li(e,t,Ri),r.__reactInternalMemoizedMergedChildContext=e,Ii(Ai),Ii(xi),Ti(xi,e)):Ii(Ai),Ti(Ai,n)}var ji=null,Ui=!1,Vi=!1;function zi(e){null===ji?ji=[e]:ji.push(e)}function Bi(){if(!Vi&&null!==ji){Vi=!0;var e=0,t=wt;try{var n=ji;for(wt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}ji=null,Ui=!1}catch(i){throw null!==ji&&(ji=ji.slice(e+1)),Ge(Ze,Bi),i}finally{wt=t,Vi=!1}}return null}var qi=[],Wi=0,Hi=null,Ki=0,Gi=[],Qi=0,$i=null,Ji=1,Yi="";function Xi(e,t){qi[Wi++]=Ki,qi[Wi++]=Hi,Hi=e,Ki=t}function Zi(e,t,n){Gi[Qi++]=Ji,Gi[Qi++]=Yi,Gi[Qi++]=$i,$i=e;var r=Ji;e=Yi;var i=32-st(r)-1;r&=~(1<<i),n+=1;var o=32-st(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Ji=1<<32-st(t)+i|n<<i|r,Yi=o+e}else Ji=1<<o|n<<i|r,Yi=e}function eo(e){null!==e.return&&(Xi(e,1),Zi(e,1,0))}function to(e){for(;e===Hi;)Hi=qi[--Wi],qi[Wi]=null,Ki=qi[--Wi],qi[Wi]=null;for(;e===$i;)$i=Gi[--Qi],Gi[Qi]=null,Yi=Gi[--Qi],Gi[Qi]=null,Ji=Gi[--Qi],Gi[Qi]=null}var no=null,ro=null,io=!1,oo=null;function so(e,t){var n=Pc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ao(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==$i?{id:Ji,overflow:Yi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Pc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function lo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function co(e){if(io){var t=ro;if(t){var n=t;if(!ao(e,t)){if(lo(e))throw Error(o(418));t=ci(n.nextSibling);var r=no;t&&ao(e,t)?so(r,n):(e.flags=-4097&e.flags|2,io=!1,no=e)}}else{if(lo(e))throw Error(o(418));e.flags=-4097&e.flags|2,io=!1,no=e}}}function uo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function ho(e){if(e!==no)return!1;if(!io)return uo(e),io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ro)){if(lo(e))throw fo(),Error(o(418));for(;t;)so(e,t),t=ci(t.nextSibling)}if(uo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?ci(e.stateNode.nextSibling):null;return!0}function fo(){for(var e=ro;e;)e=ci(e.nextSibling)}function po(){ro=no=null,io=!1}function mo(e){null===oo?oo=[e]:oo.push(e)}var go=b.ReactCurrentBatchConfig;function yo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,s=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=i.refs;null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function vo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function wo(e){return(0,e._init)(e._payload)}function bo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Nc(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===E?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===O&&wo(o)===t.type)?((r=i(t,n.props)).ref=yo(e,t,n),r.return=e,r):((r=Dc(n.type,n.key,n.props,null,e.mode,r)).ref=yo(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=jc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Lc(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case _:return(n=Dc(t.type,t.key,t.props,null,e.mode,n)).ref=yo(e,null,t),n.return=e,n;case S:return(t=jc(t,e.mode,n)).return=e,t;case O:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Lc(t,e.mode,n,null)).return=e,t;vo(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===i?c(e,t,n,r):null;case S:return n.key===i?u(e,t,n,r):null;case O:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:d(e,t,n,r,null);vo(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case _:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case S:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case O:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return d(t,e=e.get(n)||null,r,i,null);vo(t,r)}return null}function m(i,o,a,l){for(var c=null,u=null,d=o,m=o=0,g=null;null!==d&&m<a.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var y=f(i,d,a[m],l);if(null===y){null===d&&(d=g);break}e&&d&&null===y.alternate&&t(i,d),o=s(y,o,m),null===u?c=y:u.sibling=y,u=y,d=g}if(m===a.length)return n(i,d),io&&Xi(i,m),c;if(null===d){for(;m<a.length;m++)null!==(d=h(i,a[m],l))&&(o=s(d,o,m),null===u?c=d:u.sibling=d,u=d);return io&&Xi(i,m),c}for(d=r(i,d);m<a.length;m++)null!==(g=p(d,i,m,a[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),o=s(g,o,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return t(i,e)})),io&&Xi(i,m),c}function g(i,a,l,c){var u=L(l);if("function"!==typeof u)throw Error(o(150));if(null==(l=u.call(l)))throw Error(o(151));for(var d=u=null,m=a,g=a=0,y=null,v=l.next();null!==m&&!v.done;g++,v=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var w=f(i,m,v.value,c);if(null===w){null===m&&(m=y);break}e&&m&&null===w.alternate&&t(i,m),a=s(w,a,g),null===d?u=w:d.sibling=w,d=w,m=y}if(v.done)return n(i,m),io&&Xi(i,g),u;if(null===m){for(;!v.done;g++,v=l.next())null!==(v=h(i,v.value,c))&&(a=s(v,a,g),null===d?u=v:d.sibling=v,d=v);return io&&Xi(i,g),u}for(m=r(i,m);!v.done;g++,v=l.next())null!==(v=p(m,i,g,v.value,c))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),a=s(v,a,g),null===d?u=v:d.sibling=v,d=v);return e&&m.forEach((function(e){return t(i,e)})),io&&Xi(i,g),u}return function e(r,o,s,l){if("object"===typeof s&&null!==s&&s.type===E&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case _:e:{for(var c=s.key,u=o;null!==u;){if(u.key===c){if((c=s.type)===E){if(7===u.tag){n(r,u.sibling),(o=i(u,s.props.children)).return=r,r=o;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===O&&wo(c)===u.type){n(r,u.sibling),(o=i(u,s.props)).ref=yo(r,u,s),o.return=r,r=o;break e}n(r,u);break}t(r,u),u=u.sibling}s.type===E?((o=Lc(s.props.children,r.mode,l,s.key)).return=r,r=o):((l=Dc(s.type,s.key,s.props,null,r.mode,l)).ref=yo(r,o,s),l.return=r,r=l)}return a(r);case S:e:{for(u=s.key;null!==o;){if(o.key===u){if(4===o.tag&&o.stateNode.containerInfo===s.containerInfo&&o.stateNode.implementation===s.implementation){n(r,o.sibling),(o=i(o,s.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=jc(s,r.mode,l)).return=r,r=o}return a(r);case O:return e(r,o,(u=s._init)(s._payload),l)}if(te(s))return m(r,o,s,l);if(L(s))return g(r,o,s,l);vo(r,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,s)).return=r,r=o):(n(r,o),(o=Fc(s,r.mode,l)).return=r,r=o),a(r)):n(r,o)}}var _o=bo(!0),So=bo(!1),Eo=ki(null),ko=null,Io=null,To=null;function Co(){To=Io=ko=null}function xo(e){var t=Eo.current;Ii(Eo),e._currentValue=t}function Ao(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ro(e,t){ko=e,To=Io=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(wa=!0),e.firstContext=null)}function Po(e){var t=e._currentValue;if(To!==e)if(e={context:e,memoizedValue:t,next:null},null===Io){if(null===ko)throw Error(o(308));Io=e,ko.dependencies={lanes:0,firstContext:e}}else Io=Io.next=e;return t}var Oo=null;function No(e){null===Oo?Oo=[e]:Oo.push(e)}function Do(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,No(t)):(n.next=i.next,i.next=n),t.interleaved=n,Lo(e,r)}function Lo(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Mo=!1;function Fo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function jo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Uo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Vo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&xl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Lo(e,n)}return null===(i=r.interleaved)?(t.next=t,No(r)):(t.next=i.next,i.next=t),r.interleaved=t,Lo(e,n)}function zo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function Bo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=s:o=o.next=s,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function qo(e,t,n,r){var i=e.updateQueue;Mo=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,c=l.next;l.next=null,null===s?o=c:s.next=c,s=l;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(null!==o){var d=i.baseState;for(s=0,u=c=l=null,a=o;;){var h=a.lane,f=a.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,m=a;switch(h=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=m.payload)?p.call(f,d,h):p)||void 0===h)break e;d=F({},d,h);break e;case 2:Mo=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,s|=h;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(h=a).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{s|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Ml|=s,e.lanes=s,e.memoizedState=d}}function Wo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var Ho={},Ko=ki(Ho),Go=ki(Ho),Qo=ki(Ho);function $o(e){if(e===Ho)throw Error(o(174));return e}function Jo(e,t){switch(Ti(Qo,t),Ti(Go,e),Ti(Ko,Ho),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ii(Ko),Ti(Ko,t)}function Yo(){Ii(Ko),Ii(Go),Ii(Qo)}function Xo(e){$o(Qo.current);var t=$o(Ko.current),n=le(t,e.type);t!==n&&(Ti(Go,e),Ti(Ko,n))}function Zo(e){Go.current===e&&(Ii(Ko),Ii(Go))}var es=ki(0);function ts(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ns=[];function rs(){for(var e=0;e<ns.length;e++)ns[e]._workInProgressVersionPrimary=null;ns.length=0}var is=b.ReactCurrentDispatcher,os=b.ReactCurrentBatchConfig,ss=0,as=null,ls=null,cs=null,us=!1,ds=!1,hs=0,fs=0;function ps(){throw Error(o(321))}function ms(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function gs(e,t,n,r,i,s){if(ss=s,as=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,is.current=null===e||null===e.memoizedState?Zs:ea,e=n(r,i),ds){s=0;do{if(ds=!1,hs=0,25<=s)throw Error(o(301));s+=1,cs=ls=null,t.updateQueue=null,is.current=ta,e=n(r,i)}while(ds)}if(is.current=Xs,t=null!==ls&&null!==ls.next,ss=0,cs=ls=as=null,us=!1,t)throw Error(o(300));return e}function ys(){var e=0!==hs;return hs=0,e}function vs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===cs?as.memoizedState=cs=e:cs=cs.next=e,cs}function ws(){if(null===ls){var e=as.alternate;e=null!==e?e.memoizedState:null}else e=ls.next;var t=null===cs?as.memoizedState:cs.next;if(null!==t)cs=t,ls=e;else{if(null===e)throw Error(o(310));e={memoizedState:(ls=e).memoizedState,baseState:ls.baseState,baseQueue:ls.baseQueue,queue:ls.queue,next:null},null===cs?as.memoizedState=cs=e:cs=cs.next=e}return cs}function bs(e,t){return"function"===typeof t?t(e):t}function _s(e){var t=ws(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=ls,i=r.baseQueue,s=n.pending;if(null!==s){if(null!==i){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(null!==i){s=i.next,r=r.baseState;var l=a=null,c=null,u=s;do{var d=u.lane;if((ss&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,a=r):c=c.next=h,as.lanes|=d,Ml|=d}u=u.next}while(null!==u&&u!==s);null===c?a=r:c.next=l,ar(r,t.memoizedState)||(wa=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{s=i.lane,as.lanes|=s,Ml|=s,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ss(e){var t=ws(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{s=e(s,a.action),a=a.next}while(a!==i);ar(s,t.memoizedState)||(wa=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Es(){}function ks(e,t){var n=as,r=ws(),i=t(),s=!ar(r.memoizedState,i);if(s&&(r.memoizedState=i,wa=!0),r=r.queue,Ms(Cs.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||null!==cs&&1&cs.memoizedState.tag){if(n.flags|=2048,Ps(9,Ts.bind(null,n,r,i,t),void 0,null),null===Al)throw Error(o(349));0!==(30&ss)||Is(n,t,i)}return i}function Is(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=as.updateQueue)?(t={lastEffect:null,stores:null},as.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ts(e,t,n,r){t.value=n,t.getSnapshot=r,xs(t)&&As(e)}function Cs(e,t,n){return n((function(){xs(t)&&As(e)}))}function xs(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function As(e){var t=Lo(e,1);null!==t&&nc(t,e,1,-1)}function Rs(e){var t=vs();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bs,lastRenderedState:e},t.queue=e,e=e.dispatch=Qs.bind(null,as,e),[t.memoizedState,e]}function Ps(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=as.updateQueue)?(t={lastEffect:null,stores:null},as.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Os(){return ws().memoizedState}function Ns(e,t,n,r){var i=vs();as.flags|=e,i.memoizedState=Ps(1|t,n,void 0,void 0===r?null:r)}function Ds(e,t,n,r){var i=ws();r=void 0===r?null:r;var o=void 0;if(null!==ls){var s=ls.memoizedState;if(o=s.destroy,null!==r&&ms(r,s.deps))return void(i.memoizedState=Ps(t,n,o,r))}as.flags|=e,i.memoizedState=Ps(1|t,n,o,r)}function Ls(e,t){return Ns(8390656,8,e,t)}function Ms(e,t){return Ds(2048,8,e,t)}function Fs(e,t){return Ds(4,2,e,t)}function js(e,t){return Ds(4,4,e,t)}function Us(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Vs(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ds(4,4,Us.bind(null,t,e),n)}function zs(){}function Bs(e,t){var n=ws();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ms(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function qs(e,t){var n=ws();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ms(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ws(e,t,n){return 0===(21&ss)?(e.baseState&&(e.baseState=!1,wa=!0),e.memoizedState=n):(ar(n,t)||(n=mt(),as.lanes|=n,Ml|=n,e.baseState=!0),t)}function Hs(e,t){var n=wt;wt=0!==n&&4>n?n:4,e(!0);var r=os.transition;os.transition={};try{e(!1),t()}finally{wt=n,os.transition=r}}function Ks(){return ws().memoizedState}function Gs(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},$s(e))Js(t,n);else if(null!==(n=Do(e,t,n,r))){nc(n,e,r,ec()),Ys(n,t,r)}}function Qs(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if($s(e))Js(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,ar(a,s)){var l=t.interleaved;return null===l?(i.next=i,No(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Do(e,t,i,r))&&(nc(n,e,r,i=ec()),Ys(n,t,r))}}function $s(e){var t=e.alternate;return e===as||null!==t&&t===as}function Js(e,t){ds=us=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ys(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var Xs={readContext:Po,useCallback:ps,useContext:ps,useEffect:ps,useImperativeHandle:ps,useInsertionEffect:ps,useLayoutEffect:ps,useMemo:ps,useReducer:ps,useRef:ps,useState:ps,useDebugValue:ps,useDeferredValue:ps,useTransition:ps,useMutableSource:ps,useSyncExternalStore:ps,useId:ps,unstable_isNewReconciler:!1},Zs={readContext:Po,useCallback:function(e,t){return vs().memoizedState=[e,void 0===t?null:t],e},useContext:Po,useEffect:Ls,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ns(4194308,4,Us.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ns(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ns(4,2,e,t)},useMemo:function(e,t){var n=vs();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=vs();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Gs.bind(null,as,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},vs().memoizedState=e},useState:Rs,useDebugValue:zs,useDeferredValue:function(e){return vs().memoizedState=e},useTransition:function(){var e=Rs(!1),t=e[0];return e=Hs.bind(null,e[1]),vs().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=as,i=vs();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Al)throw Error(o(349));0!==(30&ss)||Is(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Ls(Cs.bind(null,r,s,e),[e]),r.flags|=2048,Ps(9,Ts.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=vs(),t=Al.identifierPrefix;if(io){var n=Yi;t=":"+t+"R"+(n=(Ji&~(1<<32-st(Ji)-1)).toString(32)+n),0<(n=hs++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=fs++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ea={readContext:Po,useCallback:Bs,useContext:Po,useEffect:Ms,useImperativeHandle:Vs,useInsertionEffect:Fs,useLayoutEffect:js,useMemo:qs,useReducer:_s,useRef:Os,useState:function(){return _s(bs)},useDebugValue:zs,useDeferredValue:function(e){return Ws(ws(),ls.memoizedState,e)},useTransition:function(){return[_s(bs)[0],ws().memoizedState]},useMutableSource:Es,useSyncExternalStore:ks,useId:Ks,unstable_isNewReconciler:!1},ta={readContext:Po,useCallback:Bs,useContext:Po,useEffect:Ms,useImperativeHandle:Vs,useInsertionEffect:Fs,useLayoutEffect:js,useMemo:qs,useReducer:Ss,useRef:Os,useState:function(){return Ss(bs)},useDebugValue:zs,useDeferredValue:function(e){var t=ws();return null===ls?t.memoizedState=e:Ws(t,ls.memoizedState,e)},useTransition:function(){return[Ss(bs)[0],ws().memoizedState]},useMutableSource:Es,useSyncExternalStore:ks,useId:Ks,unstable_isNewReconciler:!1};function na(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ra(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ia={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),o=Uo(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Vo(e,o,i))&&(nc(t,e,i,r),zo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),o=Uo(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Vo(e,o,i))&&(nc(t,e,i,r),zo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Uo(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Vo(e,i,r))&&(nc(t,e,r,n),zo(t,e,r))}};function oa(e,t,n,r,i,o,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,s):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,o))}function sa(e,t,n){var r=!1,i=Ci,o=t.contextType;return"object"===typeof o&&null!==o?o=Po(o):(i=Oi(t)?Ri:xi.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Pi(e,i):Ci),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ia,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function aa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ia.enqueueReplaceState(t,t.state,null)}function la(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Fo(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=Po(o):(o=Oi(t)?Ri:xi.current,i.context=Pi(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(ra(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ia.enqueueReplaceState(i,i.state,null),qo(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function ca(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function ua(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function da(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ha="function"===typeof WeakMap?WeakMap:Map;function fa(e,t,n){(n=Uo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Wl||(Wl=!0,Hl=r),da(0,t)},n}function pa(e,t,n){(n=Uo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){da(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){da(0,t),"function"!==typeof r&&(null===Kl?Kl=new Set([this]):Kl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ma(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ha;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ic.bind(null,e,t,n),t.then(e,e))}function ga(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ya(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Uo(-1,1)).tag=2,Vo(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var va=b.ReactCurrentOwner,wa=!1;function ba(e,t,n,r){t.child=null===e?So(t,null,n,r):_o(t,e.child,n,r)}function _a(e,t,n,r,i){n=n.render;var o=t.ref;return Ro(t,i),r=gs(e,t,n,r,o,i),n=ys(),null===e||wa?(io&&n&&eo(t),t.flags|=1,ba(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wa(e,t,i))}function Sa(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Oc(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Dc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Ea(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var s=o.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(s,r)&&e.ref===t.ref)return Wa(e,t,i)}return t.flags|=1,(e=Nc(o,r)).ref=t.ref,e.return=t,t.child=e}function Ea(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(lr(o,r)&&e.ref===t.ref){if(wa=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,Wa(e,t,i);0!==(131072&e.flags)&&(wa=!0)}}return Ta(e,t,n,r,i)}function ka(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ti(Nl,Ol),Ol|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ti(Nl,Ol),Ol|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Ti(Nl,Ol),Ol|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ti(Nl,Ol),Ol|=r;return ba(e,t,i,n),t.child}function Ia(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ta(e,t,n,r,i){var o=Oi(n)?Ri:xi.current;return o=Pi(t,o),Ro(t,i),n=gs(e,t,n,r,o,i),r=ys(),null===e||wa?(io&&r&&eo(t),t.flags|=1,ba(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wa(e,t,i))}function Ca(e,t,n,r,i){if(Oi(n)){var o=!0;Mi(t)}else o=!1;if(Ro(t,i),null===t.stateNode)qa(e,t),sa(t,n,r),la(t,n,r,i),r=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,c=n.contextType;"object"===typeof c&&null!==c?c=Po(c):c=Pi(t,c=Oi(n)?Ri:xi.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof s.getSnapshotBeforeUpdate;d||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==r||l!==c)&&aa(t,s,r,c),Mo=!1;var h=t.memoizedState;s.state=h,qo(t,r,s,i),l=t.memoizedState,a!==r||h!==l||Ai.current||Mo?("function"===typeof u&&(ra(t,n,u,r),l=t.memoizedState),(a=Mo||oa(t,n,a,r,h,l,c))?(d||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,jo(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:na(t.type,a),s.props=c,d=t.pendingProps,h=s.context,"object"===typeof(l=n.contextType)&&null!==l?l=Po(l):l=Pi(t,l=Oi(n)?Ri:xi.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==d||h!==l)&&aa(t,s,r,l),Mo=!1,h=t.memoizedState,s.state=h,qo(t,r,s,i);var p=t.memoizedState;a!==d||h!==p||Ai.current||Mo?("function"===typeof f&&(ra(t,n,f,r),p=t.memoizedState),(c=Mo||oa(t,n,c,r,h,p,l)||!1)?(u||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,p,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=l,r=c):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return xa(e,t,n,r,o,i)}function xa(e,t,n,r,i,o){Ia(e,t);var s=0!==(128&t.flags);if(!r&&!s)return i&&Fi(t,n,!1),Wa(e,t,o);r=t.stateNode,va.current=t;var a=s&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=_o(t,e.child,null,o),t.child=_o(t,null,a,o)):ba(e,t,a,o),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Aa(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),Jo(e,t.containerInfo)}function Ra(e,t,n,r,i){return po(),mo(i),t.flags|=256,ba(e,t,n,r),t.child}var Pa,Oa,Na,Da,La={dehydrated:null,treeContext:null,retryLane:0};function Ma(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fa(e,t,n){var r,i=t.pendingProps,s=es.current,a=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&s)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),Ti(es,1&s),null===e)return co(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,a?(i=t.mode,a=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=Mc(l,i,0,null),e=Lc(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Ma(n),t.memoizedState=La,e):ja(t,l));if(null!==(s=e.memoizedState)&&null!==(r=s.dehydrated))return function(e,t,n,r,i,s,a){if(n)return 256&t.flags?(t.flags&=-257,Ua(e,t,a,r=ua(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Mc({mode:"visible",children:r.children},i,0,null),(s=Lc(s,i,a,null)).flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,0!==(1&t.mode)&&_o(t,e.child,null,a),t.child.memoizedState=Ma(a),t.memoizedState=La,s);if(0===(1&t.mode))return Ua(e,t,a,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Ua(e,t,a,r=ua(s=Error(o(419)),r,void 0))}if(l=0!==(a&e.childLanes),wa||l){if(null!==(r=Al)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|a))?0:i)&&i!==s.retryLane&&(s.retryLane=i,Lo(e,i),nc(r,e,i,-1))}return mc(),Ua(e,t,a,r=ua(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Cc.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,ro=ci(i.nextSibling),no=t,io=!0,oo=null,null!==e&&(Gi[Qi++]=Ji,Gi[Qi++]=Yi,Gi[Qi++]=$i,Ji=e.id,Yi=e.overflow,$i=t),t=ja(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,s,n);if(a){a=i.fallback,l=t.mode,r=(s=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==s?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Nc(s,c)).subtreeFlags=14680064&s.subtreeFlags,null!==r?a=Nc(r,a):(a=Lc(a,l,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,l=null===(l=e.child.memoizedState)?Ma(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=La,i}return e=(a=e.child).sibling,i=Nc(a,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function ja(e,t){return(t=Mc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ua(e,t,n,r){return null!==r&&mo(r),_o(t,e.child,null,n),(e=ja(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Va(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ao(e.return,t,n)}function za(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Ba(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(ba(e,t,r.children,n),0!==(2&(r=es.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Va(e,n,t);else if(19===e.tag)Va(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ti(es,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ts(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),za(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ts(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}za(t,!0,n,null,o);break;case"together":za(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qa(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wa(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ml|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Nc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Nc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ha(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ka(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ga(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ka(t),null;case 1:case 17:return Oi(t.type)&&Ni(),Ka(t),null;case 3:return r=t.stateNode,Yo(),Ii(Ai),Ii(xi),rs(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ho(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(sc(oo),oo=null))),Oa(e,t),Ka(t),null;case 5:Zo(t);var i=$o(Qo.current);if(n=t.type,null!==e&&null!=t.stateNode)Na(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Ka(t),null}if(e=$o(Ko.current),ho(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[hi]=t,r[fi]=s,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":J(r,s),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ur("invalid",r);break;case"textarea":ie(r,s),Ur("invalid",r)}for(var l in ve(n,s),i=null,s)if(s.hasOwnProperty(l)){var c=s[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==s.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==s.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",""+c]):a.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Ur("scroll",r)}switch(n){case"input":K(r),Z(r,s,!0);break;case"textarea":K(r),se(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[hi]=t,e[fi]=r,Pa(e,t,!1,!1),t.stateNode=e;e:{switch(l=we(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":J(e,r),i=$(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(s in ve(n,i),c=i)if(c.hasOwnProperty(s)){var u=c[s];"style"===s?ge(e,u):"dangerouslySetInnerHTML"===s?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===s?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(a.hasOwnProperty(s)?null!=u&&"onScroll"===s&&Ur("scroll",e):null!=u&&w(e,s,u,l))}switch(n){case"input":K(e),Z(e,r,!1);break;case"textarea":K(e),se(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ne(e,!!r.multiple,s,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ka(t),null;case 6:if(e&&null!=t.stateNode)Da(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=$o(Qo.current),$o(Ko.current),ho(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(s=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Xr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&e.mode))}s&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Ka(t),null;case 13:if(Ii(es),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(io&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))fo(),po(),t.flags|=98560,s=!1;else if(s=ho(t),null!==r&&null!==r.dehydrated){if(null===e){if(!s)throw Error(o(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(o(317));s[hi]=t}else po(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ka(t),s=!1}else null!==oo&&(sc(oo),oo=null),s=!0;if(!s)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&es.current)?0===Dl&&(Dl=3):mc())),null!==t.updateQueue&&(t.flags|=4),Ka(t),null);case 4:return Yo(),Oa(e,t),null===e&&Br(t.stateNode.containerInfo),Ka(t),null;case 10:return xo(t.type._context),Ka(t),null;case 19:if(Ii(es),null===(s=t.memoizedState))return Ka(t),null;if(r=0!==(128&t.flags),null===(l=s.rendering))if(r)Ha(s,!1);else{if(0!==Dl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ts(e))){for(t.flags|=128,Ha(s,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=14680066,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ti(es,1&es.current|2),t.child}e=e.sibling}null!==s.tail&&Ye()>Bl&&(t.flags|=128,r=!0,Ha(s,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ts(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ha(s,!0),null===s.tail&&"hidden"===s.tailMode&&!l.alternate&&!io)return Ka(t),null}else 2*Ye()-s.renderingStartTime>Bl&&1073741824!==n&&(t.flags|=128,r=!0,Ha(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=s.last)?n.sibling=l:t.child=l,s.last=l)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Ye(),t.sibling=null,n=es.current,Ti(es,r?1&n|2:1&n),t):(Ka(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ol)&&(Ka(t),6&t.subtreeFlags&&(t.flags|=8192)):Ka(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Qa(e,t){switch(to(t),t.tag){case 1:return Oi(t.type)&&Ni(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Yo(),Ii(Ai),Ii(xi),rs(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Zo(t),null;case 13:if(Ii(es),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));po()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ii(es),null;case 4:return Yo(),null;case 10:return xo(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Pa=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Oa=function(){},Na=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,$o(Ko.current);var o,s=null;switch(n){case"input":i=$(e,i),r=$(e,r),s=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),s=[];break;case"textarea":i=re(e,i),r=re(e,r),s=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ve(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(a.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(s||(s=[]),s.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(s=s||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(s=s||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(a.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Ur("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}},Da=function(e,t,n,r){n!==r&&(t.flags|=4)};var $a=!1,Ja=!1,Ya="function"===typeof WeakSet?WeakSet:Set,Xa=null;function Za(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){kc(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){kc(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&el(t,n,o)}i=i.next}while(i!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function il(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ol(e){var t=e.alternate;null!==t&&(e.alternate=null,ol(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[fi],delete t[mi],delete t[gi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sl(e){return 5===e.tag||3===e.tag||4===e.tag}function al(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var ul=null,dl=!1;function hl(e,t,n){for(n=n.child;null!==n;)fl(e,t,n),n=n.sibling}function fl(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(a){}switch(n.tag){case 5:Ja||Za(n,t);case 6:var r=ul,i=dl;ul=null,hl(e,t,n),dl=i,null!==(ul=r)&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Bt(e)):li(ul,n.stateNode));break;case 4:r=ul,i=dl,ul=n.stateNode.containerInfo,dl=!0,hl(e,t,n),ul=r,dl=i;break;case 0:case 11:case 14:case 15:if(!Ja&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,void 0!==s&&(0!==(2&o)||0!==(4&o))&&el(n,t,s),i=i.next}while(i!==r)}hl(e,t,n);break;case 1:if(!Ja&&(Za(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){kc(n,t,a)}hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:1&n.mode?(Ja=(r=Ja)||null!==n.memoizedState,hl(e,t,n),Ja=r):hl(e,t,n);break;default:hl(e,t,n)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ya),t.forEach((function(t){var r=xc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,dl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===ul)throw Error(o(160));fl(s,a,i),ul=null,dl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){kc(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),yl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(g){kc(e,e.return,g)}try{nl(5,e,e.return)}catch(g){kc(e,e.return,g)}}break;case 1:ml(t,e),yl(e),512&r&&null!==n&&Za(n,n.return);break;case 5:if(ml(t,e),yl(e),512&r&&null!==n&&Za(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(g){kc(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var s=e.memoizedProps,a=null!==n?n.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===s.type&&null!=s.name&&Y(i,s),we(l,a);var u=we(l,s);for(a=0;a<c.length;a+=2){var d=c[a],h=c[a+1];"style"===d?ge(i,h):"dangerouslySetInnerHTML"===d?de(i,h):"children"===d?he(i,h):w(i,d,h,u)}switch(l){case"input":X(i,s);break;case"textarea":oe(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;null!=p?ne(i,!!s.multiple,p,!1):f!==!!s.multiple&&(null!=s.defaultValue?ne(i,!!s.multiple,s.defaultValue,!0):ne(i,!!s.multiple,s.multiple?[]:"",!1))}i[fi]=s}catch(g){kc(e,e.return,g)}}break;case 6:if(ml(t,e),yl(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(g){kc(e,e.return,g)}}break;case 3:if(ml(t,e),yl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(g){kc(e,e.return,g)}break;case 4:default:ml(t,e),yl(e);break;case 13:ml(t,e),yl(e),8192&(i=e.child).flags&&(s=null!==i.memoizedState,i.stateNode.isHidden=s,!s||null!==i.alternate&&null!==i.alternate.memoizedState||(zl=Ye())),4&r&&pl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Ja=(u=Ja)||d,ml(t,e),Ja=u):ml(t,e),yl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Xa=e,d=e.child;null!==d;){for(h=Xa=d;null!==Xa;){switch(p=(f=Xa).child,f.tag){case 0:case 11:case 14:case 15:nl(4,f,f.return);break;case 1:Za(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){kc(r,n,g)}}break;case 5:Za(f,f.return);break;case 22:if(null!==f.memoizedState){_l(h);continue}}null!==p?(p.return=f,Xa=p):_l(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,u?"function"===typeof(s=i.style).setProperty?s.setProperty("display","none","important"):s.display="none":(l=h.stateNode,a=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",a))}catch(g){kc(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){kc(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ml(t,e),yl(e),4&r&&pl(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(sl(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cl(e,al(e),i);break;case 3:case 4:var s=r.stateNode.containerInfo;ll(e,al(e),s);break;default:throw Error(o(161))}}catch(a){kc(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vl(e,t,n){Xa=e,wl(e,t,n)}function wl(e,t,n){for(var r=0!==(1&e.mode);null!==Xa;){var i=Xa,o=i.child;if(22===i.tag&&r){var s=null!==i.memoizedState||$a;if(!s){var a=i.alternate,l=null!==a&&null!==a.memoizedState||Ja;a=$a;var c=Ja;if($a=s,(Ja=l)&&!c)for(Xa=i;null!==Xa;)l=(s=Xa).child,22===s.tag&&null!==s.memoizedState?Sl(i):null!==l?(l.return=s,Xa=l):Sl(i);for(;null!==o;)Xa=o,wl(o,t,n),o=o.sibling;Xa=i,$a=a,Ja=c}bl(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,Xa=o):bl(e)}}function bl(e){for(;null!==Xa;){var t=Xa;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ja||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ja)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:na(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&Wo(t,s,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Wo(t,a,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Bt(h)}}}break;default:throw Error(o(163))}Ja||512&t.flags&&il(t)}catch(f){kc(t,t.return,f)}}if(t===e){Xa=null;break}if(null!==(n=t.sibling)){n.return=t.return,Xa=n;break}Xa=t.return}}function _l(e){for(;null!==Xa;){var t=Xa;if(t===e){Xa=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Xa=n;break}Xa=t.return}}function Sl(e){for(;null!==Xa;){var t=Xa;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){kc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){kc(t,i,l)}}var o=t.return;try{il(t)}catch(l){kc(t,o,l)}break;case 5:var s=t.return;try{il(t)}catch(l){kc(t,s,l)}}}catch(l){kc(t,t.return,l)}if(t===e){Xa=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Xa=a;break}Xa=t.return}}var El,kl=Math.ceil,Il=b.ReactCurrentDispatcher,Tl=b.ReactCurrentOwner,Cl=b.ReactCurrentBatchConfig,xl=0,Al=null,Rl=null,Pl=0,Ol=0,Nl=ki(0),Dl=0,Ll=null,Ml=0,Fl=0,jl=0,Ul=null,Vl=null,zl=0,Bl=1/0,ql=null,Wl=!1,Hl=null,Kl=null,Gl=!1,Ql=null,$l=0,Jl=0,Yl=null,Xl=-1,Zl=0;function ec(){return 0!==(6&xl)?Ye():-1!==Xl?Xl:Xl=Ye()}function tc(e){return 0===(1&e.mode)?1:0!==(2&xl)&&0!==Pl?Pl&-Pl:null!==go.transition?(0===Zl&&(Zl=mt()),Zl):0!==(e=wt)?e:e=void 0===(e=window.event)?16:Jt(e.type)}function nc(e,t,n,r){if(50<Jl)throw Jl=0,Yl=null,Error(o(185));yt(e,n,r),0!==(2&xl)&&e===Al||(e===Al&&(0===(2&xl)&&(Fl|=n),4===Dl&&ac(e,Pl)),rc(e,r),1===n&&0===xl&&0===(1&t.mode)&&(Bl=Ye()+500,Ui&&Bi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-st(o),a=1<<s,l=i[s];-1===l?0!==(a&n)&&0===(a&r)||(i[s]=ft(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}(e,t);var r=ht(e,e===Al?Pl:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Ui=!0,zi(e)}(lc.bind(null,e)):zi(lc.bind(null,e)),si((function(){0===(6&xl)&&Bi()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Ac(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Xl=-1,Zl=0,0!==(6&xl))throw Error(o(327));var n=e.callbackNode;if(Sc()&&e.callbackNode!==n)return null;var r=ht(e,e===Al?Pl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var i=xl;xl|=2;var s=pc();for(Al===e&&Pl===t||(ql=null,Bl=Ye()+500,hc(e,t));;)try{vc();break}catch(l){fc(e,l)}Co(),Il.current=s,xl=i,null!==Rl?t=0:(Al=null,Pl=0,t=Dl)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=oc(e,i))),1===t)throw n=Ll,hc(e,0),ac(e,r),rc(e,Ye()),n;if(6===t)ac(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!ar(o(),i))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gc(e,r))&&(0!==(s=pt(e))&&(r=s,t=oc(e,s))),1===t))throw n=Ll,hc(e,0),ac(e,r),rc(e,Ye()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:_c(e,Vl,ql);break;case 3:if(ac(e,r),(130023424&r)===r&&10<(t=zl+500-Ye())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(_c.bind(null,e,Vl,ql),t);break}_c(e,Vl,ql);break;case 4:if(ac(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-st(r);s=1<<a,(a=t[a])>i&&(i=a),r&=~s}if(r=i,10<(r=(120>(r=Ye()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*kl(r/1960))-r)){e.timeoutHandle=ri(_c.bind(null,e,Vl,ql),r);break}_c(e,Vl,ql);break;default:throw Error(o(329))}}}return rc(e,Ye()),e.callbackNode===n?ic.bind(null,e):null}function oc(e,t){var n=Ul;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Vl,Vl=n,null!==t&&sc(t)),e}function sc(e){null===Vl?Vl=e:Vl.push.apply(Vl,e)}function ac(e,t){for(t&=~jl,t&=~Fl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(0!==(6&xl))throw Error(o(327));Sc();var t=ht(e,0);if(0===(1&t))return rc(e,Ye()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Ll,hc(e,0),ac(e,t),rc(e,Ye()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,_c(e,Vl,ql),rc(e,Ye()),null}function cc(e,t){var n=xl;xl|=1;try{return e(t)}finally{0===(xl=n)&&(Bl=Ye()+500,Ui&&Bi())}}function uc(e){null!==Ql&&0===Ql.tag&&0===(6&xl)&&Sc();var t=xl;xl|=1;var n=Cl.transition,r=wt;try{if(Cl.transition=null,wt=1,e)return e()}finally{wt=r,Cl.transition=n,0===(6&(xl=t))&&Bi()}}function dc(){Ol=Nl.current,Ii(Nl)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Rl)for(n=Rl.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ni();break;case 3:Yo(),Ii(Ai),Ii(xi),rs();break;case 5:Zo(r);break;case 4:Yo();break;case 13:case 19:Ii(es);break;case 10:xo(r.type._context);break;case 22:case 23:dc()}n=n.return}if(Al=e,Rl=e=Nc(e.current,null),Pl=Ol=t,Dl=0,Ll=null,jl=Fl=Ml=0,Vl=Ul=null,null!==Oo){for(t=0;t<Oo.length;t++)if(null!==(r=(n=Oo[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var s=o.next;o.next=i,r.next=s}n.pending=r}Oo=null}return e}function fc(e,t){for(;;){var n=Rl;try{if(Co(),is.current=Xs,us){for(var r=as.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}us=!1}if(ss=0,cs=ls=as=null,ds=!1,hs=0,Tl.current=null,null===n||null===n.return){Dl=1,Ll=t,Rl=null;break}e:{var s=e,a=n.return,l=n,c=t;if(t=Pl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=ga(a);if(null!==p){p.flags&=-257,ya(p,a,l,0,t),1&p.mode&&ma(s,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){ma(s,u,t),mc();break e}c=Error(o(426))}else if(io&&1&l.mode){var y=ga(a);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),ya(y,a,l,0,t),mo(ca(c,l));break e}}s=c=ca(c,l),4!==Dl&&(Dl=2),null===Ul?Ul=[s]:Ul.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,Bo(s,fa(0,c,t));break e;case 1:l=c;var v=s.type,w=s.stateNode;if(0===(128&s.flags)&&("function"===typeof v.getDerivedStateFromError||null!==w&&"function"===typeof w.componentDidCatch&&(null===Kl||!Kl.has(w)))){s.flags|=65536,t&=-t,s.lanes|=t,Bo(s,pa(s,l,t));break e}}s=s.return}while(null!==s)}bc(n)}catch(b){t=b,Rl===n&&null!==n&&(Rl=n=n.return);continue}break}}function pc(){var e=Il.current;return Il.current=Xs,null===e?Xs:e}function mc(){0!==Dl&&3!==Dl&&2!==Dl||(Dl=4),null===Al||0===(268435455&Ml)&&0===(268435455&Fl)||ac(Al,Pl)}function gc(e,t){var n=xl;xl|=2;var r=pc();for(Al===e&&Pl===t||(ql=null,hc(e,t));;)try{yc();break}catch(i){fc(e,i)}if(Co(),xl=n,Il.current=r,null!==Rl)throw Error(o(261));return Al=null,Pl=0,Dl}function yc(){for(;null!==Rl;)wc(Rl)}function vc(){for(;null!==Rl&&!$e();)wc(Rl)}function wc(e){var t=El(e.alternate,e,Ol);e.memoizedProps=e.pendingProps,null===t?bc(e):Rl=t,Tl.current=null}function bc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ga(n,t,Ol)))return void(Rl=n)}else{if(null!==(n=Qa(n,t)))return n.flags&=32767,void(Rl=n);if(null===e)return Dl=6,void(Rl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Rl=t);Rl=t=e}while(null!==t);0===Dl&&(Dl=5)}function _c(e,t,n){var r=wt,i=Cl.transition;try{Cl.transition=null,wt=1,function(e,t,n,r){do{Sc()}while(null!==Ql);if(0!==(6&xl))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-st(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,s),e===Al&&(Rl=Al=null,Pl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gl||(Gl=!0,Ac(tt,(function(){return Sc(),null}))),s=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||s){s=Cl.transition,Cl.transition=null;var a=wt;wt=1;var l=xl;xl|=4,Tl.current=null,function(e,t){if(ei=Wt,fr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(_){n=null;break e}var a=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(l=a+i),h!==s||0!==r&&3!==h.nodeType||(c=a+r),3===h.nodeType&&(a+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===i&&(l=a),f===s&&++d===r&&(c=a),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Wt=!1,Xa=t;null!==Xa;)if(e=(t=Xa).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Xa=e;else for(;null!==Xa;){t=Xa;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,y=m.memoizedState,v=t.stateNode,w=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:na(t.type,g),y);v.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(o(163))}}catch(_){kc(t,t.return,_)}if(null!==(e=t.sibling)){e.return=t.return,Xa=e;break}Xa=t.return}m=tl,tl=!1}(e,n),gl(n,e),pr(ti),Wt=!!ei,ti=ei=null,e.current=n,vl(n,e,i),Je(),xl=l,wt=a,Cl.transition=s}else e.current=n;if(Gl&&(Gl=!1,Ql=e,$l=i),s=e.pendingLanes,0===s&&(Kl=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Ye()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Wl)throw Wl=!1,e=Hl,Hl=null,e;0!==(1&$l)&&0!==e.tag&&Sc(),s=e.pendingLanes,0!==(1&s)?e===Yl?Jl++:(Jl=0,Yl=e):Jl=0,Bi()}(e,t,n,r)}finally{Cl.transition=i,wt=r}return null}function Sc(){if(null!==Ql){var e=bt($l),t=Cl.transition,n=wt;try{if(Cl.transition=null,wt=16>e?16:e,null===Ql)var r=!1;else{if(e=Ql,Ql=null,$l=0,0!==(6&xl))throw Error(o(331));var i=xl;for(xl|=4,Xa=e.current;null!==Xa;){var s=Xa,a=s.child;if(0!==(16&Xa.flags)){var l=s.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Xa=u;null!==Xa;){var d=Xa;switch(d.tag){case 0:case 11:case 15:nl(8,d,s)}var h=d.child;if(null!==h)h.return=d,Xa=h;else for(;null!==Xa;){var f=(d=Xa).sibling,p=d.return;if(ol(d),d===u){Xa=null;break}if(null!==f){f.return=p,Xa=f;break}Xa=p}}}var m=s.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}Xa=s}}if(0!==(2064&s.subtreeFlags)&&null!==a)a.return=s,Xa=a;else e:for(;null!==Xa;){if(0!==(2048&(s=Xa).flags))switch(s.tag){case 0:case 11:case 15:nl(9,s,s.return)}var v=s.sibling;if(null!==v){v.return=s.return,Xa=v;break e}Xa=s.return}}var w=e.current;for(Xa=w;null!==Xa;){var b=(a=Xa).child;if(0!==(2064&a.subtreeFlags)&&null!==b)b.return=a,Xa=b;else e:for(a=w;null!==Xa;){if(0!==(2048&(l=Xa).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(S){kc(l,l.return,S)}if(l===a){Xa=null;break e}var _=l.sibling;if(null!==_){_.return=l.return,Xa=_;break e}Xa=l.return}}if(xl=i,Bi(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(S){}r=!0}return r}finally{wt=n,Cl.transition=t}}return!1}function Ec(e,t,n){e=Vo(e,t=fa(0,t=ca(n,t),1),1),t=ec(),null!==e&&(yt(e,1,t),rc(e,t))}function kc(e,t,n){if(3===e.tag)Ec(e,e,n);else for(;null!==t;){if(3===t.tag){Ec(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Kl||!Kl.has(r))){t=Vo(t,e=pa(t,e=ca(n,e),1),1),e=ec(),null!==t&&(yt(t,1,e),rc(t,e));break}}t=t.return}}function Ic(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Al===e&&(Pl&n)===n&&(4===Dl||3===Dl&&(130023424&Pl)===Pl&&500>Ye()-zl?hc(e,0):jl|=n),rc(e,t)}function Tc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=ec();null!==(e=Lo(e,t))&&(yt(e,t,n),rc(e,n))}function Cc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tc(e,n)}function xc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Tc(e,n)}function Ac(e,t){return Ge(e,t)}function Rc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pc(e,t,n,r){return new Rc(e,t,n,r)}function Oc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Nc(e,t){var n=e.alternate;return null===n?((n=Pc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Dc(e,t,n,r,i,s){var a=2;if(r=e,"function"===typeof e)Oc(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case E:return Lc(n.children,i,s,t);case k:a=8,i|=8;break;case I:return(e=Pc(12,n,t,2|i)).elementType=I,e.lanes=s,e;case A:return(e=Pc(13,n,t,i)).elementType=A,e.lanes=s,e;case R:return(e=Pc(19,n,t,i)).elementType=R,e.lanes=s,e;case N:return Mc(n,i,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:a=10;break e;case C:a=9;break e;case x:a=11;break e;case P:a=14;break e;case O:a=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Pc(a,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function Lc(e,t,n,r){return(e=Pc(7,e,r,t)).lanes=n,e}function Mc(e,t,n,r){return(e=Pc(22,e,r,t)).elementType=N,e.lanes=n,e.stateNode={isHidden:!1},e}function Fc(e,t,n){return(e=Pc(6,e,null,t)).lanes=n,e}function jc(e,t,n){return(t=Pc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vc(e,t,n,r,i,o,s,a,l){return e=new Uc(e,t,n,a,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Pc(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fo(o),e}function zc(e){if(!e)return Ci;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Oi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Oi(n))return Li(e,n,t)}return t}function Bc(e,t,n,r,i,o,s,a,l){return(e=Vc(n,r,!0,e,0,o,0,a,l)).context=zc(null),n=e.current,(o=Uo(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Vo(n,o,i),e.current.lanes=i,yt(e,i,r),rc(e,r),e}function qc(e,t,n,r){var i=t.current,o=ec(),s=tc(i);return n=zc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Uo(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Vo(i,t,s))&&(nc(e,i,s,o),zo(e,i,s)),s}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Kc(e,t){Hc(e,t),(e=e.alternate)&&Hc(e,t)}El=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ai.current)wa=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return wa=!1,function(e,t,n){switch(t.tag){case 3:Aa(t),po();break;case 5:Xo(t);break;case 1:Oi(t.type)&&Mi(t);break;case 4:Jo(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ti(Eo,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ti(es,1&es.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fa(e,t,n):(Ti(es,1&es.current),null!==(e=Wa(e,t,n))?e.sibling:null);Ti(es,1&es.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Ba(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ti(es,es.current),r)break;return null;case 22:case 23:return t.lanes=0,ka(e,t,n)}return Wa(e,t,n)}(e,t,n);wa=0!==(131072&e.flags)}else wa=!1,io&&0!==(1048576&t.flags)&&Zi(t,Ki,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qa(e,t),e=t.pendingProps;var i=Pi(t,xi.current);Ro(t,n),i=gs(null,t,r,e,i,n);var s=ys();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Oi(r)?(s=!0,Mi(t)):s=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Fo(t),i.updater=ia,t.stateNode=i,i._reactInternals=t,la(t,r,e,n),t=xa(null,t,r,!0,s,n)):(t.tag=0,io&&s&&eo(t),ba(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qa(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Oc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===x)return 11;if(e===P)return 14}return 2}(r),e=na(r,e),i){case 0:t=Ta(null,t,r,e,n);break e;case 1:t=Ca(null,t,r,e,n);break e;case 11:t=_a(null,t,r,e,n);break e;case 14:t=Sa(null,t,r,na(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ta(e,t,r,i=t.elementType===r?i:na(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ca(e,t,r,i=t.elementType===r?i:na(r,i),n);case 3:e:{if(Aa(t),null===e)throw Error(o(387));r=t.pendingProps,i=(s=t.memoizedState).element,jo(e,t),qo(t,r,null,n);var a=t.memoizedState;if(r=a.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Ra(e,t,r,n,i=ca(Error(o(423)),t));break e}if(r!==i){t=Ra(e,t,r,n,i=ca(Error(o(424)),t));break e}for(ro=ci(t.stateNode.containerInfo.firstChild),no=t,io=!0,oo=null,n=So(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(po(),r===i){t=Wa(e,t,n);break e}ba(e,t,r,n)}t=t.child}return t;case 5:return Xo(t),null===e&&co(t),r=t.type,i=t.pendingProps,s=null!==e?e.memoizedProps:null,a=i.children,ni(r,i)?a=null:null!==s&&ni(r,s)&&(t.flags|=32),Ia(e,t),ba(e,t,a,n),t.child;case 6:return null===e&&co(t),null;case 13:return Fa(e,t,n);case 4:return Jo(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=_o(t,null,r,n):ba(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,_a(e,t,r,i=t.elementType===r?i:na(r,i),n);case 7:return ba(e,t,t.pendingProps,n),t.child;case 8:case 12:return ba(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value,Ti(Eo,r._currentValue),r._currentValue=a,null!==s)if(ar(s.value,a)){if(s.children===i.children&&!Ai.current){t=Wa(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var l=s.dependencies;if(null!==l){a=s.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===s.tag){(c=Uo(-1,n&-n)).tag=2;var u=s.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),Ao(s.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===s.tag)a=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(a=s.return))throw Error(o(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Ao(a,n,t),a=s.sibling}else a=s.child;if(null!==a)a.return=s;else for(a=s;null!==a;){if(a===t){a=null;break}if(null!==(s=a.sibling)){s.return=a.return,a=s;break}a=a.return}s=a}ba(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ro(t,n),r=r(i=Po(i)),t.flags|=1,ba(e,t,r,n),t.child;case 14:return i=na(r=t.type,t.pendingProps),Sa(e,t,r,i=na(r.type,i),n);case 15:return Ea(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:na(r,i),qa(e,t),t.tag=1,Oi(r)?(e=!0,Mi(t)):e=!1,Ro(t,n),sa(t,r,i),la(t,r,i,n),xa(null,t,r,!0,e,n);case 19:return Ba(e,t,n);case 22:return ka(e,t,n)}throw Error(o(156,t.tag))};var Gc="function"===typeof reportError?reportError:function(e){console.error(e)};function Qc(e){this._internalRoot=e}function $c(e){this._internalRoot=e}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Xc(){}function Zc(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if("function"===typeof i){var a=i;i=function(){var e=Wc(s);a.call(e)}}qc(t,s,e,i)}else s=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=Wc(s);o.call(e)}}var s=Bc(t,r,e,0,null,!1,0,"",Xc);return e._reactRootContainer=s,e[pi]=s.current,Br(8===e.nodeType?e.parentNode:e),uc(),s}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var a=r;r=function(){var e=Wc(l);a.call(e)}}var l=Vc(e,0,!1,null,0,!1,0,"",Xc);return e._reactRootContainer=l,e[pi]=l.current,Br(8===e.nodeType?e.parentNode:e),uc((function(){qc(t,l,n,r)})),l}(n,t,e,i,r);return Wc(s)}$c.prototype.render=Qc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));qc(e,t,null,null)},$c.prototype.unmount=Qc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc((function(){qc(null,e,null,null)})),t[pi]=null}},$c.prototype.unstable_scheduleHydration=function(e){if(e){var t=kt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Nt.length&&0!==t&&t<Nt[n].priority;n++);Nt.splice(n,0,e),0===n&&Ft(e)}},_t=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(vt(t,1|n),rc(t,Ye()),0===(6&xl)&&(Bl=Ye()+500,Bi()))}break;case 13:uc((function(){var t=Lo(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Kc(e,1)}},St=function(e){if(13===e.tag){var t=Lo(e,134217728);if(null!==t)nc(t,e,134217728,ec());Kc(e,134217728)}},Et=function(e){if(13===e.tag){var t=tc(e),n=Lo(e,t);if(null!==n)nc(n,e,t,ec());Kc(e,t)}},kt=function(){return wt},It=function(e,t){var n=wt;try{return wt=e,t()}finally{wt=n}},Se=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=_i(r);if(!i)throw Error(o(90));G(r),X(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},xe=cc,Ae=uc;var eu={usingClientEntryPoint:!1,Events:[wi,bi,_i,Te,Ce,cc]},tu={findFiberByHostInstance:vi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{it=ru.inject(nu),ot=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jc(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Jc(e))throw Error(o(299));var n=!1,r="",i=Gc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Vc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new Qc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!Yc(t))throw Error(o(200));return Zc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Jc(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,s="",a=Gc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=Bc(t,null,e,1,null!=n?n:null,i,0,s,a),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new $c(t)},t.render=function(e,t,n){if(!Yc(t))throw Error(o(200));return Zc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Yc(e))throw Error(o(40));return!!e._reactRootContainer&&(uc((function(){Zc(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Yc(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return Zc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},391:(e,t,n)=>{"use strict";var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)},251:function(e,t,n){var r,i,o;i=[t,n(75)],r=function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(t);function r(e){return e&&e.__esModule?e:{default:e}}e.default=n.default},void 0===(o="function"===typeof r?r.apply(t,i):r)||(e.exports=o)},75:function(e,t,n){var r,i,o;i=[t,n(43),n(173)],r=function(e,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setHasSupportToCaptureOption=f;var r=o(t),i=o(n);function o(e){return e&&e.__esModule?e:{default:e}}var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function a(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function d(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h=!1;function f(e){h=e}try{addEventListener("test",null,Object.defineProperty({},"capture",{get:function(){f(!0)}}))}catch(y){}function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{capture:!0};return h?e:e.capture}function m(e){if("touches"in e){var t=e.touches[0];return{x:t.pageX,y:t.pageY}}return{x:e.screenX,y:e.screenY}}var g=function(e){function t(){var e;l(this,t);for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r)));return o._handleSwipeStart=o._handleSwipeStart.bind(o),o._handleSwipeMove=o._handleSwipeMove.bind(o),o._handleSwipeEnd=o._handleSwipeEnd.bind(o),o._onMouseDown=o._onMouseDown.bind(o),o._onMouseMove=o._onMouseMove.bind(o),o._onMouseUp=o._onMouseUp.bind(o),o._setSwiperRef=o._setSwiperRef.bind(o),o}return d(t,e),c(t,[{key:"componentDidMount",value:function(){this.swiper&&this.swiper.addEventListener("touchmove",this._handleSwipeMove,p({capture:!0,passive:!1}))}},{key:"componentWillUnmount",value:function(){this.swiper&&this.swiper.removeEventListener("touchmove",this._handleSwipeMove,p({capture:!0,passive:!1}))}},{key:"_onMouseDown",value:function(e){this.props.allowMouseEvents&&(this.mouseDown=!0,document.addEventListener("mouseup",this._onMouseUp),document.addEventListener("mousemove",this._onMouseMove),this._handleSwipeStart(e))}},{key:"_onMouseMove",value:function(e){this.mouseDown&&this._handleSwipeMove(e)}},{key:"_onMouseUp",value:function(e){this.mouseDown=!1,document.removeEventListener("mouseup",this._onMouseUp),document.removeEventListener("mousemove",this._onMouseMove),this._handleSwipeEnd(e)}},{key:"_handleSwipeStart",value:function(e){var t=m(e),n=t.x,r=t.y;this.moveStart={x:n,y:r},this.props.onSwipeStart(e)}},{key:"_handleSwipeMove",value:function(e){if(this.moveStart){var t=m(e),n=t.x,r=t.y,i=n-this.moveStart.x,o=r-this.moveStart.y;this.moving=!0,this.props.onSwipeMove({x:i,y:o},e)&&e.cancelable&&e.preventDefault(),this.movePosition={deltaX:i,deltaY:o}}}},{key:"_handleSwipeEnd",value:function(e){this.props.onSwipeEnd(e);var t=this.props.tolerance;this.moving&&this.movePosition&&(this.movePosition.deltaX<-t?this.props.onSwipeLeft(1,e):this.movePosition.deltaX>t&&this.props.onSwipeRight(1,e),this.movePosition.deltaY<-t?this.props.onSwipeUp(1,e):this.movePosition.deltaY>t&&this.props.onSwipeDown(1,e)),this.moveStart=null,this.moving=!1,this.movePosition=null}},{key:"_setSwiperRef",value:function(e){this.swiper=e,this.props.innerRef(e)}},{key:"render",value:function(){var e=this.props,t=(e.tagName,e.className),n=e.style,i=e.children,o=(e.allowMouseEvents,e.onSwipeUp,e.onSwipeDown,e.onSwipeLeft,e.onSwipeRight,e.onSwipeStart,e.onSwipeMove,e.onSwipeEnd,e.innerRef,e.tolerance,a(e,["tagName","className","style","children","allowMouseEvents","onSwipeUp","onSwipeDown","onSwipeLeft","onSwipeRight","onSwipeStart","onSwipeMove","onSwipeEnd","innerRef","tolerance"]));return r.default.createElement(this.props.tagName,s({ref:this._setSwiperRef,onMouseDown:this._onMouseDown,onTouchStart:this._handleSwipeStart,onTouchEnd:this._handleSwipeEnd,className:t,style:n},o),i)}}]),t}(t.Component);g.displayName="ReactSwipe",g.propTypes={tagName:i.default.string,className:i.default.string,style:i.default.object,children:i.default.node,allowMouseEvents:i.default.bool,onSwipeUp:i.default.func,onSwipeDown:i.default.func,onSwipeLeft:i.default.func,onSwipeRight:i.default.func,onSwipeStart:i.default.func,onSwipeMove:i.default.func,onSwipeEnd:i.default.func,innerRef:i.default.func,tolerance:i.default.number.isRequired},g.defaultProps={tagName:"div",allowMouseEvents:!1,onSwipeUp:function(){},onSwipeDown:function(){},onSwipeLeft:function(){},onSwipeRight:function(){},onSwipeStart:function(){},onSwipeMove:function(){},onSwipeEnd:function(){},innerRef:function(){},tolerance:0},e.default=g},void 0===(o="function"===typeof r?r.apply(t,i):r)||(e.exports=o)},178:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=function(e,t,n){var r=0===e?e:e+t;return"translate3d"+("("+("horizontal"===n?[r,0,0]:[0,r,0]).join(",")+")")}},226:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fadeAnimationHandler=t.slideStopSwipingHandler=t.slideSwipeAnimationHandler=t.slideAnimationHandler=void 0;var r,i=n(43),o=(r=n(178))&&r.__esModule?r:{default:r},s=n(564);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.slideAnimationHandler=function(e,t){var n={},r=t.selectedItem,a=r,c=i.Children.count(e.children)-1;if(e.infiniteLoop&&(r<0||r>c))return a<0?e.centerMode&&e.centerSlidePercentage&&"horizontal"===e.axis?n.itemListStyle=(0,s.setPosition)(-(c+2)*e.centerSlidePercentage-(100-e.centerSlidePercentage)/2,e.axis):n.itemListStyle=(0,s.setPosition)(100*-(c+2),e.axis):a>c&&(n.itemListStyle=(0,s.setPosition)(0,e.axis)),n;var u=(0,s.getPosition)(r,e),d=(0,o.default)(u,"%",e.axis),h=e.transitionTime+"ms";return n.itemListStyle={WebkitTransform:d,msTransform:d,OTransform:d,transform:d},t.swiping||(n.itemListStyle=l(l({},n.itemListStyle),{},{WebkitTransitionDuration:h,MozTransitionDuration:h,OTransitionDuration:h,transitionDuration:h,msTransitionDuration:h})),n};t.slideSwipeAnimationHandler=function(e,t,n,r){var o={},a="horizontal"===t.axis,l=i.Children.count(t.children),c=(0,s.getPosition)(n.selectedItem,t),u=t.infiniteLoop?(0,s.getPosition)(l-1,t)-100:(0,s.getPosition)(l-1,t),d=a?e.x:e.y,h=d;0===c&&d>0&&(h=0),c===u&&d<0&&(h=0);var f=c+100/(n.itemSize/h),p=Math.abs(d)>t.swipeScrollTolerance;return t.infiniteLoop&&p&&(0===n.selectedItem&&f>-100?f-=100*l:n.selectedItem===l-1&&f<100*-l&&(f+=100*l)),(!t.preventMovementUntilSwipeScrollTolerance||p||n.swipeMovementStarted)&&(n.swipeMovementStarted||r({swipeMovementStarted:!0}),o.itemListStyle=(0,s.setPosition)(f,t.axis)),p&&!n.cancelClick&&r({cancelClick:!0}),o};t.slideStopSwipingHandler=function(e,t){var n=(0,s.getPosition)(t.selectedItem,e);return{itemListStyle:(0,s.setPosition)(n,e.axis)}};t.fadeAnimationHandler=function(e,t){var n=e.transitionTime+"ms",r="ease-in-out",i={position:"absolute",display:"block",zIndex:-2,minHeight:"100%",opacity:0,top:0,right:0,left:0,bottom:0,transitionTimingFunction:r,msTransitionTimingFunction:r,MozTransitionTimingFunction:r,WebkitTransitionTimingFunction:r,OTransitionTimingFunction:r};return t.swiping||(i=l(l({},i),{},{WebkitTransitionDuration:n,MozTransitionDuration:n,OTransitionDuration:n,transitionDuration:n,msTransitionDuration:n})),{slideStyle:i,selectedStyle:l(l({},i),{},{opacity:1,position:"relative"}),prevStyle:l({},i)}}},481:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==f(e)&&"function"!==typeof e)return{default:e};var t=h();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(43)),i=d(n(251)),o=d(n(656)),s=d(n(169)),a=d(n(559)),l=d(n(386)),c=n(564),u=n(226);function d(e){return e&&e.__esModule?e:{default:e}}function h(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return h=function(){return e},e}function f(e){return f="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function p(){return p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p.apply(this,arguments)}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t){return v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},v(e,t)}function w(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_(e);if(t){var i=_(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===f(t)||"function"===typeof t))return t;return b(e)}(this,n)}}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e){return _=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},_(e)}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(f,e);var t,n,d,h=w(f);function f(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),S(b(t=h.call(this,e)),"thumbsRef",void 0),S(b(t),"carouselWrapperRef",void 0),S(b(t),"listRef",void 0),S(b(t),"itemsRef",void 0),S(b(t),"timer",void 0),S(b(t),"animationHandler",void 0),S(b(t),"setThumbsRef",(function(e){t.thumbsRef=e})),S(b(t),"setCarouselWrapperRef",(function(e){t.carouselWrapperRef=e})),S(b(t),"setListRef",(function(e){t.listRef=e})),S(b(t),"setItemsRef",(function(e,n){t.itemsRef||(t.itemsRef=[]),t.itemsRef[n]=e})),S(b(t),"autoPlay",(function(){r.Children.count(t.props.children)<=1||(t.clearAutoPlay(),t.props.autoPlay&&(t.timer=setTimeout((function(){t.increment()}),t.props.interval)))})),S(b(t),"clearAutoPlay",(function(){t.timer&&clearTimeout(t.timer)})),S(b(t),"resetAutoPlay",(function(){t.clearAutoPlay(),t.autoPlay()})),S(b(t),"stopOnHover",(function(){t.setState({isMouseEntered:!0},t.clearAutoPlay)})),S(b(t),"startOnLeave",(function(){t.setState({isMouseEntered:!1},t.autoPlay)})),S(b(t),"isFocusWithinTheCarousel",(function(){return!!t.carouselWrapperRef&&!((0,a.default)().activeElement!==t.carouselWrapperRef&&!t.carouselWrapperRef.contains((0,a.default)().activeElement))})),S(b(t),"navigateWithKeyboard",(function(e){if(t.isFocusWithinTheCarousel()){var n="horizontal"===t.props.axis,r=n?37:38;(n?39:40)===e.keyCode?t.increment():r===e.keyCode&&t.decrement()}})),S(b(t),"updateSizes",(function(){if(t.state.initialized&&t.itemsRef&&0!==t.itemsRef.length){var e="horizontal"===t.props.axis,n=t.itemsRef[0];if(n){var r=e?n.clientWidth:n.clientHeight;t.setState({itemSize:r}),t.thumbsRef&&t.thumbsRef.updateSizes()}}})),S(b(t),"setMountState",(function(){t.setState({hasMount:!0}),t.updateSizes()})),S(b(t),"handleClickItem",(function(e,n){0!==r.Children.count(t.props.children)&&(t.state.cancelClick?t.setState({cancelClick:!1}):(t.props.onClickItem(e,n),e!==t.state.selectedItem&&t.setState({selectedItem:e})))})),S(b(t),"handleOnChange",(function(e,n){r.Children.count(t.props.children)<=1||t.props.onChange(e,n)})),S(b(t),"handleClickThumb",(function(e,n){t.props.onClickThumb(e,n),t.moveTo(e)})),S(b(t),"onSwipeStart",(function(e){t.setState({swiping:!0}),t.props.onSwipeStart(e)})),S(b(t),"onSwipeEnd",(function(e){t.setState({swiping:!1,cancelClick:!1,swipeMovementStarted:!1}),t.props.onSwipeEnd(e),t.clearAutoPlay(),t.state.autoPlay&&t.autoPlay()})),S(b(t),"onSwipeMove",(function(e,n){t.props.onSwipeMove(n);var r=t.props.swipeAnimationHandler(e,t.props,t.state,t.setState.bind(b(t)));return t.setState(g({},r)),!!Object.keys(r).length})),S(b(t),"decrement",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;t.moveTo(t.state.selectedItem-("number"===typeof e?e:1))})),S(b(t),"increment",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;t.moveTo(t.state.selectedItem+("number"===typeof e?e:1))})),S(b(t),"moveTo",(function(e){if("number"===typeof e){var n=r.Children.count(t.props.children)-1;e<0&&(e=t.props.infiniteLoop?n:0),e>n&&(e=t.props.infiniteLoop?0:n),t.selectItem({selectedItem:e}),t.state.autoPlay&&!1===t.state.isMouseEntered&&t.resetAutoPlay()}})),S(b(t),"onClickNext",(function(){t.increment(1)})),S(b(t),"onClickPrev",(function(){t.decrement(1)})),S(b(t),"onSwipeForward",(function(){t.increment(1),t.props.emulateTouch&&t.setState({cancelClick:!0})})),S(b(t),"onSwipeBackwards",(function(){t.decrement(1),t.props.emulateTouch&&t.setState({cancelClick:!0})})),S(b(t),"changeItem",(function(e){return function(n){(0,c.isKeyboardEvent)(n)&&"Enter"!==n.key||t.moveTo(e)}})),S(b(t),"selectItem",(function(e){t.setState(g({previousItem:t.state.selectedItem},e),(function(){t.setState(t.animationHandler(t.props,t.state))})),t.handleOnChange(e.selectedItem,r.Children.toArray(t.props.children)[e.selectedItem])})),S(b(t),"getInitialImage",(function(){var e=t.props.selectedItem,n=t.itemsRef&&t.itemsRef[e];return(n&&n.getElementsByTagName("img")||[])[0]})),S(b(t),"getVariableItemHeight",(function(e){var n=t.itemsRef&&t.itemsRef[e];if(t.state.hasMount&&n&&n.children.length){var r=n.children[0].getElementsByTagName("img")||[];if(r.length>0){var i=r[0];if(!i.complete){i.addEventListener("load",(function e(){t.forceUpdate(),i.removeEventListener("load",e)}))}}var o=(r[0]||n.children[0]).clientHeight;return o>0?o:null}return null}));var n={initialized:!1,previousItem:e.selectedItem,selectedItem:e.selectedItem,hasMount:!1,isMouseEntered:!1,autoPlay:e.autoPlay,swiping:!1,swipeMovementStarted:!1,cancelClick:!1,itemSize:1,itemListStyle:{},slideStyle:{},selectedStyle:{},prevStyle:{}};return t.animationHandler="function"===typeof e.animationHandler&&e.animationHandler||"fade"===e.animationHandler&&u.fadeAnimationHandler||u.slideAnimationHandler,t.state=g(g({},n),t.animationHandler(e,n)),t}return t=f,(n=[{key:"componentDidMount",value:function(){this.props.children&&this.setupCarousel()}},{key:"componentDidUpdate",value:function(e,t){e.children||!this.props.children||this.state.initialized||this.setupCarousel(),!e.autoFocus&&this.props.autoFocus&&this.forceFocus(),t.swiping&&!this.state.swiping&&this.setState(g({},this.props.stopSwipingHandler(this.props,this.state))),e.selectedItem===this.props.selectedItem&&e.centerMode===this.props.centerMode||(this.updateSizes(),this.moveTo(this.props.selectedItem)),e.autoPlay!==this.props.autoPlay&&(this.props.autoPlay?this.setupAutoPlay():this.destroyAutoPlay(),this.setState({autoPlay:this.props.autoPlay}))}},{key:"componentWillUnmount",value:function(){this.destroyCarousel()}},{key:"setupCarousel",value:function(){var e=this;this.bindEvents(),this.state.autoPlay&&r.Children.count(this.props.children)>1&&this.setupAutoPlay(),this.props.autoFocus&&this.forceFocus(),this.setState({initialized:!0},(function(){var t=e.getInitialImage();t&&!t.complete?t.addEventListener("load",e.setMountState):e.setMountState()}))}},{key:"destroyCarousel",value:function(){this.state.initialized&&(this.unbindEvents(),this.destroyAutoPlay())}},{key:"setupAutoPlay",value:function(){this.autoPlay();var e=this.carouselWrapperRef;this.props.stopOnHover&&e&&(e.addEventListener("mouseenter",this.stopOnHover),e.addEventListener("mouseleave",this.startOnLeave))}},{key:"destroyAutoPlay",value:function(){this.clearAutoPlay();var e=this.carouselWrapperRef;this.props.stopOnHover&&e&&(e.removeEventListener("mouseenter",this.stopOnHover),e.removeEventListener("mouseleave",this.startOnLeave))}},{key:"bindEvents",value:function(){(0,l.default)().addEventListener("resize",this.updateSizes),(0,l.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.props.useKeyboardArrows&&(0,a.default)().addEventListener("keydown",this.navigateWithKeyboard)}},{key:"unbindEvents",value:function(){(0,l.default)().removeEventListener("resize",this.updateSizes),(0,l.default)().removeEventListener("DOMContentLoaded",this.updateSizes);var e=this.getInitialImage();e&&e.removeEventListener("load",this.setMountState),this.props.useKeyboardArrows&&(0,a.default)().removeEventListener("keydown",this.navigateWithKeyboard)}},{key:"forceFocus",value:function(){var e;null===(e=this.carouselWrapperRef)||void 0===e||e.focus()}},{key:"renderItems",value:function(e){var t=this;return this.props.children?r.Children.map(this.props.children,(function(n,i){var s=i===t.state.selectedItem,a=i===t.state.previousItem,l=s&&t.state.selectedStyle||a&&t.state.prevStyle||t.state.slideStyle||{};t.props.centerMode&&"horizontal"===t.props.axis&&(l=g(g({},l),{},{minWidth:t.props.centerSlidePercentage+"%"})),t.state.swiping&&t.state.swipeMovementStarted&&(l=g(g({},l),{},{pointerEvents:"none"}));var c={ref:function(e){return t.setItemsRef(e,i)},key:"itemKey"+i+(e?"clone":""),className:o.default.ITEM(!0,i===t.state.selectedItem,i===t.state.previousItem),onClick:t.handleClickItem.bind(t,i,n),style:l};return r.default.createElement("li",c,t.props.renderItem(n,{isSelected:i===t.state.selectedItem,isPrevious:i===t.state.previousItem}))})):[]}},{key:"renderControls",value:function(){var e=this,t=this.props,n=t.showIndicators,i=t.labels,o=t.renderIndicator,s=t.children;return n?r.default.createElement("ul",{className:"control-dots"},r.Children.map(s,(function(t,n){return o&&o(e.changeItem(n),n===e.state.selectedItem,n,i.item)}))):null}},{key:"renderStatus",value:function(){return this.props.showStatus?r.default.createElement("p",{className:"carousel-status"},this.props.statusFormatter(this.state.selectedItem+1,r.Children.count(this.props.children))):null}},{key:"renderThumbs",value:function(){return this.props.showThumbs&&this.props.children&&0!==r.Children.count(this.props.children)?r.default.createElement(s.default,{ref:this.setThumbsRef,onSelectItem:this.handleClickThumb,selectedItem:this.state.selectedItem,transitionTime:this.props.transitionTime,thumbWidth:this.props.thumbWidth,labels:this.props.labels,emulateTouch:this.props.emulateTouch},this.props.renderThumbs(this.props.children)):null}},{key:"render",value:function(){var e=this;if(!this.props.children||0===r.Children.count(this.props.children))return null;var t=this.props.swipeable&&r.Children.count(this.props.children)>1,n="horizontal"===this.props.axis,s=this.props.showArrows&&r.Children.count(this.props.children)>1,a=s&&(this.state.selectedItem>0||this.props.infiniteLoop)||!1,l=s&&(this.state.selectedItem<r.Children.count(this.props.children)-1||this.props.infiniteLoop)||!1,c=this.renderItems(!0),u=c.shift(),d=c.pop(),h={className:o.default.SLIDER(!0,this.state.swiping),onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:this.state.itemListStyle,tolerance:this.props.swipeScrollTolerance},f={};if(n){if(h.onSwipeLeft=this.onSwipeForward,h.onSwipeRight=this.onSwipeBackwards,this.props.dynamicHeight){var m=this.getVariableItemHeight(this.state.selectedItem);f.height=m||"auto"}}else h.onSwipeUp="natural"===this.props.verticalSwipe?this.onSwipeBackwards:this.onSwipeForward,h.onSwipeDown="natural"===this.props.verticalSwipe?this.onSwipeForward:this.onSwipeBackwards,h.style=g(g({},h.style),{},{height:this.state.itemSize}),f.height=this.state.itemSize;return r.default.createElement("div",{"aria-label":this.props.ariaLabel,className:o.default.ROOT(this.props.className),ref:this.setCarouselWrapperRef,tabIndex:this.props.useKeyboardArrows?0:void 0},r.default.createElement("div",{className:o.default.CAROUSEL(!0),style:{width:this.props.width}},this.renderControls(),this.props.renderArrowPrev(this.onClickPrev,a,this.props.labels.leftArrow),r.default.createElement("div",{className:o.default.WRAPPER(!0,this.props.axis),style:f},t?r.default.createElement(i.default,p({tagName:"ul",innerRef:this.setListRef},h,{allowMouseEvents:this.props.emulateTouch}),this.props.infiniteLoop&&d,this.renderItems(),this.props.infiniteLoop&&u):r.default.createElement("ul",{className:o.default.SLIDER(!0,this.state.swiping),ref:function(t){return e.setListRef(t)},style:this.state.itemListStyle||{}},this.props.infiniteLoop&&d,this.renderItems(),this.props.infiniteLoop&&u)),this.props.renderArrowNext(this.onClickNext,l,this.props.labels.rightArrow),this.renderStatus()),this.renderThumbs())}}])&&y(t.prototype,n),d&&y(t,d),f}(r.default.Component);t.default=E,S(E,"displayName","Carousel"),S(E,"defaultProps",{ariaLabel:void 0,axis:"horizontal",centerSlidePercentage:80,interval:3e3,labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},onClickItem:c.noop,onClickThumb:c.noop,onChange:c.noop,onSwipeStart:function(){},onSwipeEnd:function(){},onSwipeMove:function(){return!1},preventMovementUntilSwipeScrollTolerance:!1,renderArrowPrev:function(e,t,n){return r.default.createElement("button",{type:"button","aria-label":n,className:o.default.ARROW_PREV(!t),onClick:e})},renderArrowNext:function(e,t,n){return r.default.createElement("button",{type:"button","aria-label":n,className:o.default.ARROW_NEXT(!t),onClick:e})},renderIndicator:function(e,t,n,i){return r.default.createElement("li",{className:o.default.DOT(t),onClick:e,onKeyDown:e,value:n,key:n,role:"button",tabIndex:0,"aria-label":"".concat(i," ").concat(n+1)})},renderItem:function(e){return e},renderThumbs:function(e){var t=r.Children.map(e,(function(e){var t=e;if("img"!==e.type&&(t=r.Children.toArray(e.props.children).find((function(e){return"img"===e.type}))),t)return t}));return 0===t.filter((function(e){return e})).length?(console.warn("No images found! Can't build the thumb list without images. If you don't need thumbs, set showThumbs={false} in the Carousel. Note that it's not possible to get images rendered inside custom components. More info at https://github.com/leandrowd/react-responsive-carousel/blob/master/TROUBLESHOOTING.md"),[]):t},statusFormatter:c.defaultStatusFormatter,selectedItem:0,showArrows:!0,showIndicators:!0,showStatus:!0,showThumbs:!0,stopOnHover:!0,swipeScrollTolerance:5,swipeable:!0,transitionTime:350,verticalSwipe:"standard",width:"100%",animationHandler:"slide",swipeAnimationHandler:u.slideSwipeAnimationHandler,stopSwipingHandler:u.slideStopSwipingHandler})},96:()=>{},564:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setPosition=t.getPosition=t.isKeyboardEvent=t.defaultStatusFormatter=t.noop=void 0;var r,i=n(43),o=(r=n(178))&&r.__esModule?r:{default:r};t.noop=function(){};t.defaultStatusFormatter=function(e,t){return"".concat(e," of ").concat(t)};t.isKeyboardEvent=function(e){return!!e&&e.hasOwnProperty("key")};t.getPosition=function(e,t){if(t.infiniteLoop&&++e,0===e)return 0;var n=i.Children.count(t.children);if(t.centerMode&&"horizontal"===t.axis){var r=-e*t.centerSlidePercentage,o=n-1;return e&&(e!==o||t.infiniteLoop)?r+=(100-t.centerSlidePercentage)/2:e===o&&(r+=100-t.centerSlidePercentage),r}return 100*-e};t.setPosition=function(e,t){var n={};return["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach((function(r){n[r]=(0,o.default)(e,"%",t)})),n}},169:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==d(e)&&"function"!==typeof e)return{default:e};var t=u();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(43)),i=c(n(656)),o=n(256),s=c(n(178)),a=c(n(251)),l=c(n(386));function c(e){return e&&e.__esModule?e:{default:e}}function u(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}function d(e){return d="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function h(){return h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h.apply(this,arguments)}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function m(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var i=y(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===d(t)||"function"===typeof t))return t;return g(e)}(this,n)}}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(d,e);var t,n,c,u=m(d);function d(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d),v(g(t=u.call(this,e)),"itemsWrapperRef",void 0),v(g(t),"itemsListRef",void 0),v(g(t),"thumbsRef",void 0),v(g(t),"setItemsWrapperRef",(function(e){t.itemsWrapperRef=e})),v(g(t),"setItemsListRef",(function(e){t.itemsListRef=e})),v(g(t),"setThumbsRef",(function(e,n){t.thumbsRef||(t.thumbsRef=[]),t.thumbsRef[n]=e})),v(g(t),"updateSizes",(function(){if(t.props.children&&t.itemsWrapperRef&&t.thumbsRef){var e=r.Children.count(t.props.children),n=t.itemsWrapperRef.clientWidth,i=t.props.thumbWidth?t.props.thumbWidth:(0,o.outerWidth)(t.thumbsRef[0]),s=Math.floor(n/i),a=s<e,l=a?e-s:0;t.setState((function(e,n){return{itemSize:i,visibleItems:s,firstItem:a?t.getFirstItem(n.selectedItem):0,lastPosition:l,showArrows:a}}))}})),v(g(t),"handleClickItem",(function(e,n,r){if(!function(e){return e.hasOwnProperty("key")}(r)||"Enter"===r.key){var i=t.props.onSelectItem;"function"===typeof i&&i(e,n)}})),v(g(t),"onSwipeStart",(function(){t.setState({swiping:!0})})),v(g(t),"onSwipeEnd",(function(){t.setState({swiping:!1})})),v(g(t),"onSwipeMove",(function(e){var n=e.x;if(!t.state.itemSize||!t.itemsWrapperRef||!t.state.visibleItems)return!1;var i=r.Children.count(t.props.children),o=-100*t.state.firstItem/t.state.visibleItems;0===o&&n>0&&(n=0),o===100*-Math.max(i-t.state.visibleItems,0)/t.state.visibleItems&&n<0&&(n=0);var a=o+100/(t.itemsWrapperRef.clientWidth/n);return t.itemsListRef&&["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach((function(e){t.itemsListRef.style[e]=(0,s.default)(a,"%",t.props.axis)})),!0})),v(g(t),"slideRight",(function(e){t.moveTo(t.state.firstItem-("number"===typeof e?e:1))})),v(g(t),"slideLeft",(function(e){t.moveTo(t.state.firstItem+("number"===typeof e?e:1))})),v(g(t),"moveTo",(function(e){e=(e=e<0?0:e)>=t.state.lastPosition?t.state.lastPosition:e,t.setState({firstItem:e})})),t.state={selectedItem:e.selectedItem,swiping:!1,showArrows:!1,firstItem:0,visibleItems:0,lastPosition:0},t}return t=d,(n=[{key:"componentDidMount",value:function(){this.setupThumbs()}},{key:"componentDidUpdate",value:function(e){this.props.selectedItem!==this.state.selectedItem&&this.setState({selectedItem:this.props.selectedItem,firstItem:this.getFirstItem(this.props.selectedItem)}),this.props.children!==e.children&&this.updateSizes()}},{key:"componentWillUnmount",value:function(){this.destroyThumbs()}},{key:"setupThumbs",value:function(){(0,l.default)().addEventListener("resize",this.updateSizes),(0,l.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.updateSizes()}},{key:"destroyThumbs",value:function(){(0,l.default)().removeEventListener("resize",this.updateSizes),(0,l.default)().removeEventListener("DOMContentLoaded",this.updateSizes)}},{key:"getFirstItem",value:function(e){var t=e;return e>=this.state.lastPosition&&(t=this.state.lastPosition),e<this.state.firstItem+this.state.visibleItems&&(t=this.state.firstItem),e<this.state.firstItem&&(t=e),t}},{key:"renderItems",value:function(){var e=this;return this.props.children.map((function(t,n){var o=i.default.ITEM(!1,n===e.state.selectedItem),s={key:n,ref:function(t){return e.setThumbsRef(t,n)},className:o,onClick:e.handleClickItem.bind(e,n,e.props.children[n]),onKeyDown:e.handleClickItem.bind(e,n,e.props.children[n]),"aria-label":"".concat(e.props.labels.item," ").concat(n+1),style:{width:e.props.thumbWidth}};return r.default.createElement("li",h({},s,{role:"button",tabIndex:0}),t)}))}},{key:"render",value:function(){var e=this;if(!this.props.children)return null;var t,n=r.Children.count(this.props.children)>1,o=this.state.showArrows&&this.state.firstItem>0,l=this.state.showArrows&&this.state.firstItem<this.state.lastPosition,c=-this.state.firstItem*(this.state.itemSize||0),u=(0,s.default)(c,"px",this.props.axis),d=this.props.transitionTime+"ms";return t={WebkitTransform:u,MozTransform:u,MsTransform:u,OTransform:u,transform:u,msTransform:u,WebkitTransitionDuration:d,MozTransitionDuration:d,MsTransitionDuration:d,OTransitionDuration:d,transitionDuration:d,msTransitionDuration:d},r.default.createElement("div",{className:i.default.CAROUSEL(!1)},r.default.createElement("div",{className:i.default.WRAPPER(!1),ref:this.setItemsWrapperRef},r.default.createElement("button",{type:"button",className:i.default.ARROW_PREV(!o),onClick:function(){return e.slideRight()},"aria-label":this.props.labels.leftArrow}),n?r.default.createElement(a.default,{tagName:"ul",className:i.default.SLIDER(!1,this.state.swiping),onSwipeLeft:this.slideLeft,onSwipeRight:this.slideRight,onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:t,innerRef:this.setItemsListRef,allowMouseEvents:this.props.emulateTouch},this.renderItems()):r.default.createElement("ul",{className:i.default.SLIDER(!1,this.state.swiping),ref:function(t){return e.setItemsListRef(t)},style:t},this.renderItems()),r.default.createElement("button",{type:"button",className:i.default.ARROW_NEXT(!l),onClick:function(){return e.slideLeft()},"aria-label":this.props.labels.rightArrow})))}}])&&f(t.prototype,n),c&&f(t,c),d}(r.Component);t.default=w,v(w,"displayName","Thumbs"),v(w,"defaultProps",{axis:"horizontal",labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},selectedItem:0,thumbWidth:80,transitionTime:350})},656:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(139))&&r.__esModule?r:{default:r};var o={ROOT:function(e){return(0,i.default)(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({"carousel-root":!0},e||"",!!e))},CAROUSEL:function(e){return(0,i.default)({carousel:!0,"carousel-slider":e})},WRAPPER:function(e,t){return(0,i.default)({"thumbs-wrapper":!e,"slider-wrapper":e,"axis-horizontal":"horizontal"===t,"axis-vertical":"horizontal"!==t})},SLIDER:function(e,t){return(0,i.default)({thumbs:!e,slider:e,animated:!t})},ITEM:function(e,t,n){return(0,i.default)({thumb:!e,slide:e,selected:t,previous:n})},ARROW_PREV:function(e){return(0,i.default)({"control-arrow control-prev":!0,"control-disabled":e})},ARROW_NEXT:function(e){return(0,i.default)({"control-arrow control-next":!0,"control-disabled":e})},DOT:function(e){return(0,i.default)({dot:!0,selected:e})}};t.default=o},256:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.outerWidth=void 0;t.outerWidth=function(e){var t=e.offsetWidth,n=getComputedStyle(e);return t+=parseInt(n.marginLeft)+parseInt(n.marginRight)}},577:(e,t,n)=>{"use strict";Object.defineProperty(t,"FN",{enumerable:!0,get:function(){return r.default}});var r=s(n(481)),i=n(96),o=s(n(169));function s(e){return e&&e.__esModule?e:{default:e}}},559:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=function(){return document}},386:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=function(){return window}},153:(e,t,n)=>{"use strict";var r=n(43),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)s.call(t,r)&&!l.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:o,_owner:a.current}}t.Fragment=o,t.jsx=c,t.jsxs=c},202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function v(){}function w(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var b=w.prototype=new v;b.constructor=w,m(b,y.prototype),b.isPureReactComponent=!0;var _=Array.isArray,S=Object.prototype.hasOwnProperty,E={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function I(e,t,r){var i,o={},s=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)S.call(t,i)&&!k.hasOwnProperty(i)&&(o[i]=t[i]);var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===o[i]&&(o[i]=l[i]);return{$$typeof:n,type:e,key:s,ref:a,props:o,_owner:E.current}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function x(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,i,o,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return s=s(l=e),e=""===o?"."+x(l,0):o,_(s)?(i="",null!=e&&(i=e.replace(C,"$&/")+"/"),A(s,t,i,"",(function(e){return e}))):null!=s&&(T(s)&&(s=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,i+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(C,"$&/")+"/")+e)),t.push(s)),1;if(l=0,o=""===o?".":o+":",_(e))for(var c=0;c<e.length;c++){var u=o+x(a=e[c],c);l+=A(a,t,i,u,s)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(a=e.next()).done;)l+=A(a=a.value,t,i,u=o+x(a,c++),s);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function R(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O={current:null},N={transition:null},D={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:N,ReactCurrentOwner:E};function L(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:R,forEach:function(e,t,n){R(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return R(e,(function(){t++})),t},toArray:function(e){return R(e,(function(e){return e}))||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=s,t.PureComponent=w,t.StrictMode=o,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.act=L,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),o=e.key,s=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,a=E.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)S.call(t,c)&&!k.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:o,ref:s,props:i,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=I,t.createFactory=function(e){var t=I.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=N.transition;N.transition={};try{e()}finally{N.transition=t}},t.unstable_act=L,t.useCallback=function(e,t){return O.current.useCallback(e,t)},t.useContext=function(e){return O.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return O.current.useDeferredValue(e)},t.useEffect=function(e,t){return O.current.useEffect(e,t)},t.useId=function(){return O.current.useId()},t.useImperativeHandle=function(e,t,n){return O.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return O.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return O.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return O.current.useMemo(e,t)},t.useReducer=function(e,t,n){return O.current.useReducer(e,t,n)},t.useRef=function(e){return O.current.useRef(e)},t.useState=function(e){return O.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return O.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return O.current.useTransition()},t.version="18.3.1"},43:(e,t,n)=>{"use strict";e.exports=n(202)},579:(e,t,n)=>{"use strict";e.exports=n(153)},234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,s=i>>>1;r<s;){var a=2*(r+1)-1,l=e[a],c=a+1,u=e[c];if(0>o(l,n))c<i&&0>o(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[a]=n,r=a);else{if(!(c<i&&0>o(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,w="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function _(e){if(g=!1,b(e),!m)if(null!==r(c))m=!0,N(S);else{var t=r(u);null!==t&&D(_,t.startTime-e)}}function S(e,n){m=!1,g&&(g=!1,v(T),T=-1),p=!0;var o=f;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!A());){var s=h.callback;if("function"===typeof s){h.callback=null,f=h.priorityLevel;var a=s(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?h.callback=a:h===r(c)&&i(c),b(n)}else i(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&D(_,d.startTime-n),l=!1}return l}finally{h=null,f=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E,k=!1,I=null,T=-1,C=5,x=-1;function A(){return!(t.unstable_now()-x<C)}function R(){if(null!==I){var e=t.unstable_now();x=e;var n=!0;try{n=I(!0,e)}finally{n?E():(k=!1,I=null)}}else k=!1}if("function"===typeof w)E=function(){w(R)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,O=P.port2;P.port1.onmessage=R,E=function(){O.postMessage(null)}}else E=function(){y(R,0)};function N(e){I=e,k||(k=!0,E())}function D(e,n){T=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,N(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:o,expirationTime:a=o+a,sortIndex:-1},o>s?(e.sortIndex=o,n(u,e),null===r(c)&&e===r(u)&&(g?(v(T),T=-1):g=!0,D(_,o-s))):(e.sortIndex=a,n(c,e),m||p||(m=!0,N(S))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},853:(e,t,n)=>{"use strict";e.exports=n(234)},139:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=s(e,o(n)))}return e}function o(e){if("string"===typeof e||"number"===typeof e)return e;if("object"!==typeof e)return"";if(Array.isArray(e))return i.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)r.call(e,n)&&e[n]&&(t=s(t,n));return t}function s(e,t){return t?e?e+" "+t:e+t:e}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var s={};e=e||[null,t({}),t([]),t(t)];for(var a=2&i&&r;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>s[e]=()=>r[e]));return s.default=()=>r,n.d(o,s),o}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/Amazonclone_final/",(()=>{"use strict";var e={};n.r(e),n.d(e,{FirebaseError:()=>bn,SDK_VERSION:()=>Zr,_DEFAULT_ENTRY_NAME:()=>Fr,_addComponent:()=>Br,_addOrOverwriteComponent:()=>qr,_apps:()=>Ur,_clearComponents:()=>$r,_components:()=>zr,_getProvider:()=>Hr,_isFirebaseApp:()=>Gr,_isFirebaseServerApp:()=>Qr,_registerComponent:()=>Wr,_removeServiceInstance:()=>Kr,_serverApps:()=>Vr,deleteApp:()=>ii,getApp:()=>ni,getApps:()=>ri,initializeApp:()=>ei,initializeServerApp:()=>ti,onLog:()=>si,registerVersion:()=>oi,setLogLevel:()=>ai});var t={};n.r(t),n.d(t,{hasBrowserEnv:()=>ek,hasStandardBrowserEnv:()=>nk,hasStandardBrowserWebWorkerEnv:()=>rk,navigator:()=>tk,origin:()=>ik});var r=n(43),i=n.t(r,2),o=n(391);function s(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function l(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==a(t)?t:t+""}function c(e,t,n){return(t=l(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n(175);const h=["page"],f=["page","matches"],p=["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],m=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],g=["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"];var y="popstate";function v(){return I((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return S("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:E(t)}),null,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function w(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function b(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function _(e,t){return{usr:e.state,key:e.key,idx:t}}function S(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return d(d({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?k(t):t),{},{state:n,key:t&&t.key||r||Math.random().toString(36).substring(2,10)})}function E(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function k(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function I(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a="POP",l=null,c=u();function u(){return(s.state||{idx:null}).idx}function h(){a="POP";let e=u(),t=null==e?null:e-c;c=e,l&&l({action:a,location:p.location,delta:t})}function f(e){let t="null"!==i.location.origin?i.location.origin:i.location.href,n="string"===typeof e?e:E(e);return n=n.replace(/ $/,"%20"),w(t,"No window.location.(origin|href) available to create URL for href: ".concat(n)),new URL(n,t)}null==c&&(c=0,s.replaceState(d(d({},s.state),{},{idx:c}),""));let p={get action(){return a},get location(){return e(i,s)},listen(e){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(y,h),l=e,()=>{i.removeEventListener(y,h),l=null}},createHref:e=>t(i,e),createURL:f,encodeLocation(e){let t=f(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){a="PUSH";let r=S(p.location,e,t);n&&n(r,e),c=u()+1;let d=_(r,c),h=p.createHref(r);try{s.pushState(d,"",h)}catch(f){if(f instanceof DOMException&&"DataCloneError"===f.name)throw f;i.location.assign(h)}o&&l&&l({action:a,location:p.location,delta:1})},replace:function(e,t){a="REPLACE";let r=S(p.location,e,t);n&&n(r,e),c=u();let i=_(r,c),d=p.createHref(r);s.replaceState(i,"",d),o&&l&&l({action:a,location:p.location,delta:0})},go:e=>s.go(e)};return p}function T(e,t){return C(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function C(e,t,n,r){let i=z(("string"===typeof t?k(t):t).pathname||"/",n);if(null==i)return null;let o=x(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(o);let s=null;for(let a=0;null==s&&a<o.length;++a){let e=V(i);s=j(o[a],e,r)}return s}function x(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=(e,i,o)=>{let s={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};s.relativePath.startsWith("/")&&(w(s.relativePath.startsWith(r),'Absolute route path "'.concat(s.relativePath,'" nested under path "').concat(r,'" is not valid. An absolute child route path must start with the combined path of all its parent routes.')),s.relativePath=s.relativePath.slice(r.length));let a=K([r,s.relativePath]),l=n.concat(s);e.children&&e.children.length>0&&(w(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'.concat(a,'".')),x(e.children,t,l,a)),(null!=e.path||e.index)&&t.push({path:a,score:F(a,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!==(n=e.path)&&void 0!==n&&n.includes("?"))for(let r of A(e.path))i(e,t,r);else i(e,t)})),t}function A(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===r.length)return i?[o,""]:[o];let s=A(r.join("/")),a=[];return a.push(...s.map((e=>""===e?o:[o,e].join("/")))),i&&a.push(...s),a.map((t=>e.startsWith("/")&&""===t?"/":t))}var R=/^:[\w-]+$/,P=3,O=2,N=1,D=10,L=-2,M=e=>"*"===e;function F(e,t){let n=e.split("/"),r=n.length;return n.some(M)&&(r+=L),t&&(r+=O),n.filter((e=>!M(e))).reduce(((e,t)=>e+(R.test(t)?P:""===t?N:D)),r)}function j(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:r}=e,i={},o="/",s=[];for(let a=0;a<r.length;++a){let e=r[a],l=a===r.length-1,c="/"===o?t:t.slice(o.length)||"/",u=U({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=U({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),s.push({params:i,pathname:K([o,u.pathname]),pathnameBase:G(K([o,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(o=K([o,u.pathnameBase]))}return s}function U(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];b("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'.concat(e,'" will be treated as if it were "').concat(e.replace(/\*$/,"/*"),'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "').concat(e.replace(/\*$/,"/*"),'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let o=new RegExp(i,t?void 0:"i");return[o,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=a[n]||"";s=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}const l=a[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{}),pathname:o,pathnameBase:s,pattern:e}}function V(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return b(!1,'The URL path "'.concat(e,'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (').concat(t,").")),e}}function z(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function B(e,t,n,r){return"Cannot include a '".concat(e,"' character in a manually specified `to.").concat(t,"` field [").concat(JSON.stringify(r),"].  Please separate it out to the `to.").concat(n,'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.')}function q(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function W(e){let t=q(e);return t.map(((e,n)=>n===t.length-1?e.pathname:e.pathnameBase))}function H(e,t,n){let r,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?r=k(e):(r=d({},e),w(!r.pathname||!r.pathname.includes("?"),B("?","pathname","search",r)),w(!r.pathname||!r.pathname.includes("#"),B("#","pathname","hash",r)),w(!r.search||!r.search.includes("#"),B("#","search","hash",r)));let o,s=""===e||""===r.pathname,a=s?"/":r.pathname;if(null==a)o=n;else{let e=t.length-1;if(!i&&a.startsWith("..")){let t=a.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}o=e>=0?t[e]:"/"}let l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:n,search:r="",hash:i=""}="string"===typeof e?k(e):e,o=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:o,search:Q(r),hash:$(i)}}(r,o),c=a&&"/"!==a&&a.endsWith("/"),u=(s||"."===a)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!u||(l.pathname+="/"),l}var K=e=>e.join("/").replace(/\/\/+/g,"/"),G=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Q=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",$=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function J(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var Y=["POST","PUT","PATCH","DELETE"],X=(new Set(Y),["GET",...Y]);new Set(X),Symbol("ResetLoaderData");var Z=r.createContext(null);Z.displayName="DataRouter";var ee=r.createContext(null);ee.displayName="DataRouterState";var te=r.createContext({isTransitioning:!1});te.displayName="ViewTransition";var ne=r.createContext(new Map);ne.displayName="Fetchers";var re=r.createContext(null);re.displayName="Await";var ie=r.createContext(null);ie.displayName="Navigation";var oe=r.createContext(null);oe.displayName="Location";var se=r.createContext({outlet:null,matches:[],isDataRoute:!1});se.displayName="Route";var ae=r.createContext(null);ae.displayName="RouteError";function le(){return null!=r.useContext(oe)}function ce(){return w(le(),"useLocation() may be used only in the context of a <Router> component."),r.useContext(oe).location}var ue="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function de(e){r.useContext(ie).static||r.useLayoutEffect(e)}function he(){let{isDataRoute:e}=r.useContext(se);return e?function(){let{router:e}=Se("useNavigate"),t=ke("useNavigate"),n=r.useRef(!1);de((()=>{n.current=!0}));let i=r.useCallback((async function(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};b(n.current,ue),n.current&&("number"===typeof r?e.navigate(r):await e.navigate(r,d({fromRouteId:t},i)))}),[e,t]);return i}():function(){w(le(),"useNavigate() may be used only in the context of a <Router> component.");let e=r.useContext(Z),{basename:t,navigator:n}=r.useContext(ie),{matches:i}=r.useContext(se),{pathname:o}=ce(),s=JSON.stringify(W(i)),a=r.useRef(!1);de((()=>{a.current=!0}));let l=r.useCallback((function(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(b(a.current,ue),!a.current)return;if("number"===typeof r)return void n.go(r);let l=H(r,JSON.parse(s),o,"path"===i.relative);null==e&&"/"!==t&&(l.pathname="/"===l.pathname?t:K([t,l.pathname])),(i.replace?n.replace:n.push)(l,i.state,i)}),[t,n,s,o,e]);return l}()}r.createContext(null);function fe(){let{matches:e}=r.useContext(se),t=e[e.length-1];return t?t.params:{}}function pe(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:n}=r.useContext(se),{pathname:i}=ce(),o=JSON.stringify(W(n));return r.useMemo((()=>H(e,JSON.parse(o),i,"path"===t)),[e,o,i,t])}function me(e,t,n,i){w(le(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=r.useContext(ie),{matches:s}=r.useContext(se),a=s[s.length-1],l=a?a.params:{},c=a?a.pathname:"/",u=a?a.pathnameBase:"/",h=a&&a.route;{let e=h&&h.path||"";Ce(c,!h||e.endsWith("*")||e.endsWith("*?"),'You rendered descendant <Routes> (or called `useRoutes()`) at "'.concat(c,'" (under <Route path="').concat(e,'">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won\'t match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="').concat(e,'"> to <Route path="').concat("/"===e?"*":"".concat(e,"/*"),'">.'))}let f,p=ce();if(t){var m;let e="string"===typeof t?k(t):t;w("/"===u||(null===(m=e.pathname)||void 0===m?void 0:m.startsWith(u)),'When overriding the location using `<Routes location>` or `useRoutes(routes, location)`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "'.concat(u,'" but pathname "').concat(e.pathname,'" was given in the `location` prop.')),f=e}else f=p;let g=f.pathname||"/",y=g;if("/"!==u){let e=u.replace(/^\//,"").split("/");y="/"+g.replace(/^\//,"").split("/").slice(e.length).join("/")}let v=T(e,{pathname:y});b(h||null!=v,'No routes matched location "'.concat(f.pathname).concat(f.search).concat(f.hash,'" ')),b(null==v||void 0!==v[v.length-1].route.element||void 0!==v[v.length-1].route.Component||void 0!==v[v.length-1].route.lazy,'Matched leaf route at location "'.concat(f.pathname).concat(f.search).concat(f.hash,'" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.'));let _=be(v&&v.map((e=>Object.assign({},e,{params:Object.assign({},l,e.params),pathname:K([u,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:K([u,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),s,n,i);return t&&_?r.createElement(oe.Provider,{value:{location:d({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:"POP"}},_):_}function ge(){let e=Ie(),t=J(e)?"".concat(e.status," ").concat(e.statusText):e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},s={padding:"2px 4px",backgroundColor:i},a=null;return console.error("Error handled by React Router default ErrorBoundary:",e),a=r.createElement(r.Fragment,null,r.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),r.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",r.createElement("code",{style:s},"ErrorBoundary")," or"," ",r.createElement("code",{style:s},"errorElement")," prop on your route.")),r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:o},n):null,a)}var ye=r.createElement(ge,null),ve=class extends r.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?r.createElement(se.Provider,{value:this.props.routeContext},r.createElement(ae.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function we(e){let{routeContext:t,match:n,children:i}=e,o=r.useContext(Z);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(se.Provider,{value:t},i)}function be(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null==e){if(!n)return null;if(n.errors)e=n.matches;else{if(0!==t.length||n.initialized||!(n.matches.length>0))return null;e=n.matches}}let i=e,o=null===n||void 0===n?void 0:n.errors;if(null!=o){let e=i.findIndex((e=>e.route.id&&void 0!==(null===o||void 0===o?void 0:o[e.route.id])));w(e>=0,"Could not find a matching route for errors on route IDs: ".concat(Object.keys(o).join(","))),i=i.slice(0,Math.min(i.length,e+1))}let s=!1,a=-1;if(n)for(let r=0;r<i.length;r++){let e=i[r];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(a=r),e.route.id){let{loaderData:t,errors:r}=n,o=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!r||void 0===r[e.route.id]);if(e.route.lazy||o){s=!0,i=a>=0?i.slice(0,a+1):[i[0]];break}}}return i.reduceRight(((e,l,c)=>{let u,d=!1,h=null,f=null;n&&(u=o&&l.route.id?o[l.route.id]:void 0,h=l.route.errorElement||ye,s&&(a<0&&0===c?(Ce("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),d=!0,f=null):a===c&&(d=!0,f=l.route.hydrateFallbackElement||null)));let p=t.concat(i.slice(0,c+1)),m=()=>{let t;return t=u?h:d?f:l.route.Component?r.createElement(l.route.Component,null):l.route.element?l.route.element:e,r.createElement(we,{match:l,routeContext:{outlet:e,matches:p,isDataRoute:null!=n},children:t})};return n&&(l.route.ErrorBoundary||l.route.errorElement||0===c)?r.createElement(ve,{location:n.location,revalidation:n.revalidation,component:h,error:u,children:m(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):m()}),null)}function _e(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function Se(e){let t=r.useContext(Z);return w(t,_e(e)),t}function Ee(e){let t=r.useContext(ee);return w(t,_e(e)),t}function ke(e){let t=function(e){let t=r.useContext(se);return w(t,_e(e)),t}(e),n=t.matches[t.matches.length-1];return w(n.route.id,"".concat(e,' can only be used on routes that contain a unique "id"')),n.route.id}function Ie(){var e;let t=r.useContext(ae),n=Ee("useRouteError"),i=ke("useRouteError");return void 0!==t?t:null===(e=n.errors)||void 0===e?void 0:e[i]}var Te={};function Ce(e,t,n){t||Te[e]||(Te[e]=!0,b(!1,n))}r.memo((function(e){let{routes:t,future:n,state:r}=e;return me(t,void 0,r,n)}));function xe(e){w(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Ae(e){let{basename:t="/",children:n=null,location:i,navigationType:o="POP",navigator:s,static:a=!1}=e;w(!le(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),c=r.useMemo((()=>({basename:l,navigator:s,static:a,future:{}})),[l,s,a]);"string"===typeof i&&(i=k(i));let{pathname:u="/",search:d="",hash:h="",state:f=null,key:p="default"}=i,m=r.useMemo((()=>{let e=z(u,l);return null==e?null:{location:{pathname:e,search:d,hash:h,state:f,key:p},navigationType:o}}),[l,u,d,h,f,p,o]);return b(null!=m,'<Router basename="'.concat(l,'"> is not able to match the URL "').concat(u).concat(d).concat(h,"\" because it does not start with the basename, so the <Router> won't render anything.")),null==m?null:r.createElement(ie.Provider,{value:c},r.createElement(oe.Provider,{children:n,value:m}))}function Re(e){let{children:t,location:n}=e;return me(Pe(t),n)}r.Component;function Pe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[];return r.Children.forEach(e,((e,i)=>{if(!r.isValidElement(e))return;let o=[...t,i];if(e.type===r.Fragment)return void n.push.apply(n,Pe(e.props.children,o));w(e.type===xe,"[".concat("string"===typeof e.type?e.type:e.type.name,"] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>")),w(!e.props.index||!e.props.children,"An index route cannot have child routes.");let s={id:e.props.id||o.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(s.children=Pe(e.props.children,o)),n.push(s)})),n}var Oe="get",Ne="application/x-www-form-urlencoded";function De(e){return null!=e&&"string"===typeof e.tagName}var Le=null;var Me=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Fe(e){return null==e||Me.has(e)?e:(b(!1,'"'.concat(e,'" is not a valid `encType` for `<Form>`/`<fetcher.Form>` and will default to "').concat(Ne,'"')),null)}function je(e,t){let n,r,i,o,s;if(De(a=e)&&"form"===a.tagName.toLowerCase()){let s=e.getAttribute("action");r=s?z(s,t):null,n=e.getAttribute("method")||Oe,i=Fe(e.getAttribute("enctype"))||Ne,o=new FormData(e)}else if(function(e){return De(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return De(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let s=e.form;if(null==s)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let a=e.getAttribute("formaction")||s.getAttribute("action");if(r=a?z(a,t):null,n=e.getAttribute("formmethod")||s.getAttribute("method")||Oe,i=Fe(e.getAttribute("formenctype"))||Fe(s.getAttribute("enctype"))||Ne,o=new FormData(s,e),!function(){if(null===Le)try{new FormData(document.createElement("form"),0),Le=!1}catch(e){Le=!0}return Le}()){let{name:t,type:n,value:r}=e;if("image"===n){let e=t?"".concat(t,"."):"";o.append("".concat(e,"x"),"0"),o.append("".concat(e,"y"),"0")}else t&&o.append(t,r)}}else{if(De(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Oe,r=null,i=Ne,s=e}var a;return o&&"text/plain"===i&&(s=o,o=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:o,body:s}}function Ue(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}async function Ve(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error("Error loading route module `".concat(e.module,"`, reloading page...")),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise((()=>{}))}}function ze(e){return null!=e&&"string"===typeof e.page}function Be(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function qe(e,t,n,r,i,o){let s=(e,t)=>!n[t]||e.route.id!==n[t].route.id,a=(e,t)=>{var r;return n[t].pathname!==e.pathname||(null===(r=n[t].route.path)||void 0===r?void 0:r.endsWith("*"))&&n[t].params["*"]!==e.params["*"]};return"assets"===o?t.filter(((e,t)=>s(e,t)||a(e,t))):"data"===o?t.filter(((t,o)=>{let l=r.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(s(t,o)||a(t,o))return!0;if(t.route.shouldRevalidate){var c;let r=t.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:(null===(c=n[0])||void 0===c?void 0:c.params)||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof r)return r}return!0})):[]}function We(e){return[...new Set(e)]}function He(e,t){let n=new Set,r=new Set(t);return e.reduce(((e,i)=>{if(t&&!ze(i)&&"script"===i.as&&i.href&&r.has(i.href))return e;let o=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}(i));return n.has(o)||(n.add(o),e.push({key:o,link:i})),e}),[])}function Ke(e){return{__html:e}}Symbol("SingleFetchRedirect");function Ge(e){let t="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===t.pathname?t.pathname="_root.data":t.pathname="".concat(t.pathname.replace(/\/$/,""),".data"),t}r.Component;function Qe(e){let{error:t,isOutsideRemixApp:n}=e;console.error(t);let i,o=r.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://remix.run/guides/errors for more information."\n        );\n      '}});if(J(t))return r.createElement($e,{title:"Unhandled Thrown Response!"},r.createElement("h1",{style:{fontSize:"24px"}},t.status," ",t.statusText),o);if(t instanceof Error)0;else{let e=null==t?"Unknown Error":"object"===typeof t&&"toString"in t?t.toString():JSON.stringify(t);new Error(e)}return r.createElement($e,{title:"Application Error!",isOutsideRemixApp:n},r.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),r.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},i.stack),o)}function $e(e){var t;let{title:n,renderScripts:i,isOutsideRemixApp:o,children:s}=e,{routeModules:a}=et();return null!==a.root&&void 0!==t&&t.Layout&&!o?s:r.createElement("html",{lang:"en"},r.createElement("head",null,r.createElement("meta",{charSet:"utf-8"}),r.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),r.createElement("title",null,n)),r.createElement("body",null,r.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},s,i?r.createElement(at,null):null)))}function Je(e){return!e}function Ye(){let e=r.useContext(Z);return Ue(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Xe(){let e=r.useContext(ee);return Ue(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Ze=r.createContext(void 0);function et(){let e=r.useContext(Ze);return Ue(e,"You must render this element inside a <HydratedRouter> element"),e}function tt(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function nt(e,t,n){if(n&&!st)return[e[0]];if(t){let n=e.findIndex((e=>void 0!==t[e.route.id]));return e.slice(0,n+1)}return e}function rt(e){let{page:t}=e,n=s(e,h),{router:i}=Ye(),o=r.useMemo((()=>T(i.routes,t,i.basename)),[i.routes,t,i.basename]);return o?r.createElement(ot,d({page:t,matches:o},n)):(console.warn("Tried to prefetch ".concat(t," but no routes matched.")),null)}function it(e){let{manifest:t,routeModules:n}=et(),[i,o]=r.useState([]);return r.useEffect((()=>{let r=!1;return async function(e,t,n){return He((await Promise.all(e.map((async e=>{let r=t.routes[e.route.id];if(r){let e=await Ve(r,n);return e.links?e.links():[]}return[]})))).flat(1).filter(Be).filter((e=>"stylesheet"===e.rel||"preload"===e.rel)).map((e=>"stylesheet"===e.rel?d(d({},e),{},{rel:"prefetch",as:"style"}):d(d({},e),{},{rel:"prefetch"}))))}(e,t,n).then((e=>{r||o(e)})),()=>{r=!0}}),[e,t,n]),i}function ot(e){let{page:t,matches:n}=e,i=s(e,f),o=ce(),{manifest:a,routeModules:l}=et(),{loaderData:c,matches:u}=Xe(),h=r.useMemo((()=>qe(t,n,u,a,o,"data")),[t,n,u,a,o]),p=r.useMemo((()=>qe(t,n,u,a,o,"assets")),[t,n,u,a,o]),m=r.useMemo((()=>{if(t===o.pathname+o.search+o.hash)return[];let e=new Set,r=!1;if(n.forEach((t=>{var n;let i=a.routes[t.route.id];i&&i.hasLoader&&(!h.some((e=>e.route.id===t.route.id))&&t.route.id in c&&null!==(n=l[t.route.id])&&void 0!==n&&n.shouldRevalidate||i.hasClientLoader?r=!0:e.add(t.route.id))})),0===e.size)return[];let i=Ge(t);return r&&e.size>0&&i.searchParams.set("_routes",n.filter((t=>e.has(t.route.id))).map((e=>e.route.id)).join(",")),[i.pathname+i.search]}),[c,o,a,h,n,t,l]),g=r.useMemo((()=>function(e,t){return We(e.map((e=>{let n=t.routes[e.route.id];if(!n)return[];let r=[n.module];return n.imports&&(r=r.concat(n.imports)),r})).flat(1))}(p,a)),[p,a]),y=it(p);return r.createElement(r.Fragment,null,m.map((e=>r.createElement("link",d({key:e,rel:"prefetch",as:"fetch",href:e},i)))),g.map((e=>r.createElement("link",d({key:e,rel:"modulepreload",href:e},i)))),y.map((e=>{let{key:t,link:n}=e;return r.createElement("link",d({key:t},n))})))}Ze.displayName="FrameworkContext";var st=!1;function at(e){let{manifest:t,serverHandoffString:n,isSpaMode:i,renderMeta:o}=et(),{router:s,static:a,staticContext:l}=Ye(),{matches:c}=Xe(),u=Je(i);o&&(o.didRenderScripts=!0);let h=nt(c,null,i);r.useEffect((()=>{0}),[]);let f=r.useMemo((()=>{var i;let o=l?"window.__reactRouterContext = ".concat(n,";").concat("window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());"):" ",c=a?"".concat(null!==t.hmr&&void 0!==i&&i.runtime?"import ".concat(JSON.stringify(t.hmr.runtime),";"):"").concat(u?"":"import ".concat(JSON.stringify(t.url)),";\n").concat(h.map(((e,n)=>"import * as route".concat(n," from ").concat(JSON.stringify(t.routes[e.route.id].module),";"))).join("\n"),"\n  ").concat(u?"window.__reactRouterManifest = ".concat(JSON.stringify(function(e,t){let n=new Set(t.state.matches.map((e=>e.route.id))),r=t.state.location.pathname.split("/").filter(Boolean),i=["/"];for(r.pop();r.length>0;)i.push("/".concat(r.join("/"))),r.pop();i.forEach((e=>{let r=T(t.routes,e,t.basename);r&&r.forEach((e=>n.add(e.route.id)))}));let o=[...n].reduce(((t,n)=>Object.assign(t,{[n]:e.routes[n]})),{});return d(d({},e),{},{routes:o})}(t,s),null,2),";"):"","\n  window.__reactRouterRouteModules = {").concat(h.map(((e,t)=>"".concat(JSON.stringify(e.route.id),":route").concat(t))).join(","),"};\n\nimport(").concat(JSON.stringify(t.entry.module),");"):" ";return r.createElement(r.Fragment,null,r.createElement("script",d(d({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:Ke(o),type:void 0})),r.createElement("script",d(d({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:Ke(c),type:"module",async:!0})))}),[]),p=h.map((e=>{let n=t.routes[e.route.id];return n?(n.imports||[]).concat([n.module]):[]})).flat(1),m=st?[]:t.entry.imports.concat(p);return st?null:r.createElement(r.Fragment,null,u?null:r.createElement("link",{rel:"modulepreload",href:t.url,crossOrigin:e.crossOrigin}),r.createElement("link",{rel:"modulepreload",href:t.entry.module,crossOrigin:e.crossOrigin}),[...new Set(g)].map((t=>r.createElement("link",{key:t,rel:"modulepreload",href:t,crossOrigin:e.crossOrigin}))),f);var g}function lt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach((t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)}))}}var ct="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{ct&&(window.__reactRouterVersion="7.0.2")}catch(HP){}function ut(e){let{basename:t,children:n,window:i}=e,o=r.useRef();null==o.current&&(o.current=v({window:i,v5Compat:!0}));let s=o.current,[a,l]=r.useState({action:s.action,location:s.location}),c=r.useCallback((e=>{r.startTransition((()=>l(e)))}),[l]);return r.useLayoutEffect((()=>s.listen(c)),[s,c]),r.createElement(Ae,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:s})}var dt=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ht=r.forwardRef((function(e,t){let n,{onClick:i,discover:o="render",prefetch:a="none",relative:l,reloadDocument:c,replace:u,state:h,target:f,to:m,preventScrollReset:g,viewTransition:y}=e,v=s(e,p),{basename:_}=r.useContext(ie),S="string"===typeof m&&dt.test(m),k=!1;if("string"===typeof m&&S&&(n=m,ct))try{let e=new URL(window.location.href),t=m.startsWith("//")?new URL(e.protocol+m):new URL(m),n=z(t.pathname,_);t.origin===e.origin&&null!=n?m=n+t.search+t.hash:k=!0}catch(HP){b(!1,'<Link to="'.concat(m,'"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.'))}let I=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};w(le(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=r.useContext(ie),{hash:o,pathname:s,search:a}=pe(e,{relative:t}),l=s;return"/"!==n&&(l="/"===s?n:K([n,s])),i.createHref({pathname:l,search:a,hash:o})}(m,{relative:l}),[T,C,x]=function(e,t){let n=r.useContext(Ze),[i,o]=r.useState(!1),[s,a]=r.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=t,f=r.useRef(null);r.useEffect((()=>{if("render"===e&&a(!0),"viewport"===e){let e=new IntersectionObserver((e=>{e.forEach((e=>{a(e.isIntersecting)}))}),{threshold:.5});return f.current&&e.observe(f.current),()=>{e.disconnect()}}}),[e]),r.useEffect((()=>{if(i){let e=setTimeout((()=>{a(!0)}),100);return()=>{clearTimeout(e)}}}),[i]);let p=()=>{o(!0)},m=()=>{o(!1),a(!1)};return n?"intent"!==e?[s,f,{}]:[s,f,{onFocus:tt(l,p),onBlur:tt(c,m),onMouseEnter:tt(u,p),onMouseLeave:tt(d,m),onTouchStart:tt(h,p)}]:[!1,f,{}]}(a,v),A=function(e){let{target:t,replace:n,state:i,preventScrollReset:o,relative:s,viewTransition:a}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=he(),c=ce(),u=pe(e,{relative:s});return r.useCallback((r=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(r,t)){r.preventDefault();let t=void 0!==n?n:E(c)===E(u);l(e,{replace:t,state:i,preventScrollReset:o,relative:s,viewTransition:a})}}),[c,l,u,n,i,t,e,o,s,a])}(m,{replace:u,state:h,target:f,preventScrollReset:g,relative:l,viewTransition:y});let R=r.createElement("a",d(d(d({},v),x),{},{href:n||I,onClick:k||c?i:function(e){i&&i(e),e.defaultPrevented||A(e)},ref:lt(t,C),target:f,"data-discover":S||"render"!==o?void 0:"true"}));return T&&!S?r.createElement(r.Fragment,null,R,r.createElement(rt,{page:I})):R}));ht.displayName="Link";var ft=r.forwardRef((function(e,t){let{"aria-current":n="page",caseSensitive:i=!1,className:o="",end:a=!1,style:l,to:c,viewTransition:u,children:h}=e,f=s(e,m),p=pe(c,{relative:f.relative}),g=ce(),y=r.useContext(ee),{navigator:v,basename:b}=r.useContext(ie),_=null!=y&&function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.useContext(te);w(null!=n,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=gt("useViewTransitionState"),o=pe(e,{relative:t.relative});if(!n.isTransitioning)return!1;let s=z(n.currentLocation.pathname,i)||n.currentLocation.pathname,a=z(n.nextLocation.pathname,i)||n.nextLocation.pathname;return null!=U(o.pathname,a)||null!=U(o.pathname,s)}(p)&&!0===u,S=v.encodeLocation?v.encodeLocation(p).pathname:p.pathname,E=g.pathname,k=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;i||(E=E.toLowerCase(),k=k?k.toLowerCase():null,S=S.toLowerCase()),k&&b&&(k=z(k,b)||k);const I="/"!==S&&S.endsWith("/")?S.length-1:S.length;let T,C=E===S||!a&&E.startsWith(S)&&"/"===E.charAt(I),x=null!=k&&(k===S||!a&&k.startsWith(S)&&"/"===k.charAt(S.length)),A={isActive:C,isPending:x,isTransitioning:_},R=C?n:void 0;T="function"===typeof o?o(A):[o,C?"active":null,x?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let P="function"===typeof l?l(A):l;return r.createElement(ht,d(d({},f),{},{"aria-current":R,className:T,ref:t,style:P,to:c,viewTransition:u}),"function"===typeof h?h(A):h)}));ft.displayName="NavLink";var pt=r.forwardRef(((e,t)=>{let{discover:n="render",fetcherKey:i,navigate:o,reloadDocument:a,replace:l,state:c,method:u=Oe,action:h,onSubmit:f,relative:p,preventScrollReset:m,viewTransition:y}=e,v=s(e,g),b=wt(),_=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:n}=r.useContext(ie),i=r.useContext(se);w(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),s=d({},pe(e||".",{relative:t})),a=ce();if(null==e){s.search=a.search;let e=new URLSearchParams(s.search),t=e.getAll("index"),n=t.some((e=>""===e));if(n){e.delete("index"),t.filter((e=>e)).forEach((t=>e.append("index",t)));let n=e.toString();s.search=n?"?".concat(n):""}}e&&"."!==e||!o.route.index||(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index");"/"!==n&&(s.pathname="/"===s.pathname?n:K([n,s.pathname]));return E(s)}(h,{relative:p}),S="get"===u.toLowerCase()?"get":"post",k="string"===typeof h&&dt.test(h);return r.createElement("form",d(d({ref:t,method:S,action:_,onSubmit:a?f:e=>{if(f&&f(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,n=(null===t||void 0===t?void 0:t.getAttribute("formmethod"))||u;b(t||e.currentTarget,{fetcherKey:i,method:n,navigate:o,replace:l,state:c,relative:p,preventScrollReset:m,viewTransition:y})}},v),{},{"data-discover":k||"render"!==n?void 0:"true"}))}));function mt(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function gt(e){let t=r.useContext(Z);return w(t,mt(e)),t}pt.displayName="Form";var yt=0,vt=()=>"__".concat(String(++yt),"__");function wt(){let{router:e}=gt("useSubmit"),{basename:t}=r.useContext(ie),n=ke("useRouteId");return r.useCallback((async function(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:o,method:s,encType:a,formData:l,body:c}=je(r,t);if(!1===i.navigate){let t=i.fetcherKey||vt();await e.fetch(t,n,i.action||o,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||s,formEncType:i.encType||a,flushSync:i.flushSync})}else await e.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||s,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})}),[e,t,n])}new TextEncoder;const bt="Header_fixed__iQgk9",_t="Header_header_container__LV2Dt",St="Header_logo_container__k8p1g",Et="Header_delivery__2qK2z",kt="Header_search__YkqdS",It="Header_order_container__ULmG6",Tt="Header_language__OuRwY",Ct="Header_cart__H0jna",xt="Header_lower_container__vq07n";var At={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Rt=r.createContext&&r.createContext(At),Pt=["attr","size","title"];function Ot(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Nt(){return Nt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Nt.apply(this,arguments)}function Dt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Lt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dt(Object(n),!0).forEach((function(t){Mt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Mt(e,t,n){return t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ft(e){return e&&e.map(((e,t)=>r.createElement(e.tag,Lt({key:t},e.attr),Ft(e.child))))}function jt(e){return t=>r.createElement(Ut,Nt({attr:Lt({},e.attr)},t),Ft(e.child))}function Ut(e){var t=t=>{var n,{attr:i,size:o,title:s}=e,a=Ot(e,Pt),l=o||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),r.createElement("svg",Nt({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,a,{className:n,style:Lt(Lt({color:e.color||t.color},t.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),s&&r.createElement("title",null,s),e.children)};return void 0!==Rt?r.createElement(Rt.Consumer,null,(e=>t(e))):t(At)}function Vt(e){return jt({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M515.664-.368C305.76-.368 128 178.4 128 390.176c0 221.76 206.032 448.544 344.624 607.936.528.64 22.929 25.52 50.528 25.52h2.449c27.6 0 49.84-24.88 50.399-25.52 130.064-149.52 320-396.048 320-607.936C896 178.4 757.344-.368 515.664-.368zm12.832 955.552c-1.12 1.12-2.753 2.369-4.193 3.409-1.472-1.008-3.072-2.288-4.255-3.408l-16.737-19.248C371.92 785.2 192 578.785 192 390.176c0-177.008 148.224-326.56 323.664-326.56 218.528 0 316.336 164 316.336 326.56 0 143.184-102.128 333.296-303.504 565.008zm-15.377-761.776c-106.032 0-192 85.968-192 192s85.968 192 192 192 192-85.968 192-192-85.968-192-192-192zm0 320c-70.576 0-129.473-58.816-129.473-129.408 0-70.576 57.424-128 128-128 70.624 0 128 57.424 128 128 .032 70.592-55.903 129.408-126.527 129.408z"},child:[]}]})(e)}function zt(e){return jt({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001q.044.06.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1 1 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0"},child:[]}]})(e)}function Bt(e){return jt({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M904 160H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0 624H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0-312H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8z"},child:[]}]})(e)}var qt=n(579);const Wt=function(){return(0,qt.jsx)("div",{className:xt,children:(0,qt.jsxs)("ul",{children:[(0,qt.jsxs)("li",{children:[(0,qt.jsx)(Bt,{}),(0,qt.jsx)("p",{children:"All"})]}),(0,qt.jsx)("li",{children:"Today's Deals"}),(0,qt.jsx)("li",{children:"Customer Service"}),(0,qt.jsx)("li",{children:"Registry"}),(0,qt.jsx)("li",{children:"Gift Cards"}),(0,qt.jsx)("li",{children:"Sell"})]})})};function Ht(e){return jt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M21.822 7.431A1 1 0 0 0 21 7H7.333L6.179 4.23A1.994 1.994 0 0 0 4.333 3H2v2h2.333l4.744 11.385A1 1 0 0 0 10 17h8c.417 0 .79-.259.937-.648l3-8a1 1 0 0 0-.115-.921zM17.307 15h-6.64l-2.5-6h11.39l-2.25 6z"},child:[]},{tag:"circle",attr:{cx:"10.5",cy:"19.5",r:"1.5"},child:[]},{tag:"circle",attr:{cx:"17.5",cy:"19.5",r:"1.5"},child:[]}]})(e)}const Kt="ADD_TO_BASKET",Gt="REMOVE_FROM_BASKET",Qt="SET_USER",$t="EMPTY_BASKET",Jt={basket:[],user:null},Yt=(0,r.createContext)(),Xt=e=>{let{children:t,reducer:n}=e;return(0,qt.jsx)(Yt.Provider,{value:(0,r.useReducer)(n,Jt),children:t})},Zt=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},en={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],o=i+1<e.length,s=o?e[i+1]:0,a=i+2<e.length,l=a?e[i+2]:0,c=t>>2,u=(3&t)<<4|s>>4;let d=(15&s)<<2|l>>6,h=63&l;a||(h=64,o||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Zt(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0;++i;const s=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==o||null==s||null==a)throw new tn;const l=t<<2|o>>4;if(r.push(l),64!==s){const e=o<<4&240|s>>2;if(r.push(e),64!==a){const e=s<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class tn extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const nn=function(e){return function(e){const t=Zt(e);return en.encodeByteArray(t,!0)}(e).replace(/\./g,"")},rn=function(e){try{return en.decodeString(e,!0)}catch(HP){console.error("base64Decode failed: ",HP)}return null};function on(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=on(e[n],t[n]));return e}function sn(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}const an=()=>{try{return sn().__FIREBASE_DEFAULTS__||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/Amazonclone_final",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(HP){return}const t=e&&rn(e[1]);return t&&JSON.parse(t)})()}catch(HP){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(HP))}},ln=e=>{var t,n;return null===(n=null===(t=an())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},cn=()=>{var e;return null===(e=an())||void 0===e?void 0:e.config},un=e=>{var t;return null===(t=an())||void 0===t?void 0:t["_".concat(e)]};class dn{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function hn(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function fn(){var e;const t=null===(e=an())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(HP){return!1}}function pn(){return"undefined"!==typeof WorkerGlobalScope&&"undefined"!==typeof self&&self instanceof WorkerGlobalScope}function mn(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function gn(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function yn(){const e=hn();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function vn(){return!fn()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function wn(){try{return"object"===typeof indexedDB}catch(HP){return!1}}class bn extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,bn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_n.prototype.create)}}class _n{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(Sn,((e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",o="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new bn(n,o,t)}}const Sn=/\{\$([^}]+)}/g;function En(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function kn(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],o=t[i];if(In(n)&&In(o)){if(!kn(n,o))return!1}else if(n!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function In(e){return null!==e&&"object"===typeof e}function Tn(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Cn(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function xn(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function An(e,t){const n=new Rn(e,t);return n.subscribe.bind(n)}class Rn{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=Pn),void 0===r.error&&(r.error=Pn),void 0===r.complete&&(r.complete=Pn);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(HP){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(HP){"undefined"!==typeof console&&console.error&&console.error(HP)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function Pn(){}function On(e){return e&&e._delegate?e._delegate:e}class Nn{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Dn="[DEFAULT]";class Ln{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new dn;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(HP){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(HP){if(r)return null;throw HP}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Dn})}catch(HP){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(HP){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dn;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dn;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dn;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,o]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&o.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Mn(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(i){}return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dn;return this.component?this.component.multipleInstances?e:Dn:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}function Mn(e){return e===Dn?void 0:e}class Fn{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Ln(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const jn=[];var Un;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Un||(Un={}));const Vn={debug:Un.DEBUG,verbose:Un.VERBOSE,info:Un.INFO,warn:Un.WARN,error:Un.ERROR,silent:Un.SILENT},zn=Un.INFO,Bn={[Un.DEBUG]:"log",[Un.VERBOSE]:"log",[Un.INFO]:"info",[Un.WARN]:"warn",[Un.ERROR]:"error"},qn=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=Bn[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,o=new Array(i>2?i-2:0),s=2;s<i;s++)o[s-2]=arguments[s];console[r]("[".concat(n,"]  ").concat(e.name,":"),...o)};class Wn{constructor(e){this.name=e,this._logLevel=zn,this._logHandler=qn,this._userLogHandler=null,jn.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Un))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?Vn[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Un.DEBUG,...t),this._logHandler(this,Un.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Un.VERBOSE,...t),this._logHandler(this,Un.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Un.INFO,...t),this._logHandler(this,Un.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Un.WARN,...t),this._logHandler(this,Un.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Un.ERROR,...t),this._logHandler(this,Un.ERROR,...t)}}let Hn,Kn;const Gn=new WeakMap,Qn=new WeakMap,$n=new WeakMap,Jn=new WeakMap,Yn=new WeakMap;let Xn={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Qn.get(e);if("objectStoreNames"===t)return e.objectStoreNames||$n.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return tr(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Zn(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Kn||(Kn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(nr(this),n),tr(Gn.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return tr(e.apply(nr(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const o=e.call(nr(this),t,...r);return $n.set(o,t.sort?t.sort():[t]),tr(o)}}function er(e){return"function"===typeof e?Zn(e):(e instanceof IDBTransaction&&function(e){if(Qn.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)}));Qn.set(e,t)}(e),t=e,(Hn||(Hn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>t instanceof e))?new Proxy(e,Xn):e);var t}function tr(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(tr(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)}));return t.then((t=>{t instanceof IDBCursor&&Gn.set(t,e)})).catch((()=>{})),Yn.set(t,e),t}(e);if(Jn.has(e))return Jn.get(e);const t=er(e);return t!==e&&(Jn.set(e,t),Yn.set(t,e)),t}const nr=e=>Yn.get(e);const rr=["get","getKey","getAll","getAllKeys","count"],ir=["put","add","delete","clear"],or=new Map;function sr(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(or.get(t))return or.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=ir.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!rr.includes(n))return;const o=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let o=t.store;for(var s=arguments.length,a=new Array(s>1?s-1:0),l=1;l<s;l++)a[l-1]=arguments[l];return r&&(o=o.index(a.shift())),(await Promise.all([o[n](...a),i&&t.done]))[0]};return or.set(t,o),o}Xn=(e=>d(d({},e),{},{get:(t,n,r)=>sr(t,n)||e.get(t,n,r),has:(t,n)=>!!sr(t,n)||e.has(t,n)}))(Xn);class ar{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((e=>e)).join(" ")}}const lr="@firebase/app",cr="0.10.16",ur=new Wn("@firebase/app"),dr="@firebase/app-compat",hr="@firebase/analytics-compat",fr="@firebase/analytics",pr="@firebase/app-check-compat",mr="@firebase/app-check",gr="@firebase/auth",yr="@firebase/auth-compat",vr="@firebase/database",wr="@firebase/data-connect",br="@firebase/database-compat",_r="@firebase/functions",Sr="@firebase/functions-compat",Er="@firebase/installations",kr="@firebase/installations-compat",Ir="@firebase/messaging",Tr="@firebase/messaging-compat",Cr="@firebase/performance",xr="@firebase/performance-compat",Ar="@firebase/remote-config",Rr="@firebase/remote-config-compat",Pr="@firebase/storage",Or="@firebase/storage-compat",Nr="@firebase/firestore",Dr="@firebase/vertexai",Lr="@firebase/firestore-compat",Mr="firebase",Fr="[DEFAULT]",jr={[lr]:"fire-core",[dr]:"fire-core-compat",[fr]:"fire-analytics",[hr]:"fire-analytics-compat",[mr]:"fire-app-check",[pr]:"fire-app-check-compat",[gr]:"fire-auth",[yr]:"fire-auth-compat",[vr]:"fire-rtdb",[wr]:"fire-data-connect",[br]:"fire-rtdb-compat",[_r]:"fire-fn",[Sr]:"fire-fn-compat",[Er]:"fire-iid",[kr]:"fire-iid-compat",[Ir]:"fire-fcm",[Tr]:"fire-fcm-compat",[Cr]:"fire-perf",[xr]:"fire-perf-compat",[Ar]:"fire-rc",[Rr]:"fire-rc-compat",[Pr]:"fire-gcs",[Or]:"fire-gcs-compat",[Nr]:"fire-fst",[Lr]:"fire-fst-compat",[Dr]:"fire-vertex","fire-js":"fire-js",[Mr]:"fire-js-all"},Ur=new Map,Vr=new Map,zr=new Map;function Br(e,t){try{e.container.addComponent(t)}catch(HP){ur.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),HP)}}function qr(e,t){e.container.addOrOverwriteComponent(t)}function Wr(e){const t=e.name;if(zr.has(t))return ur.debug("There were multiple attempts to register component ".concat(t,".")),!1;zr.set(t,e);for(const n of Ur.values())Br(n,e);for(const n of Vr.values())Br(n,e);return!0}function Hr(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Kr(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Fr;Hr(e,t).clearInstance(n)}function Gr(e){return void 0!==e.options}function Qr(e){return void 0!==e.settings}function $r(){zr.clear()}const Jr=new _n("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Yr{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Nn("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Jr.create("app-deleted",{appName:this._name})}}class Xr extends Yr{constructor(e,t,n,r){const i=void 0!==t.automaticDataCollectionEnabled&&t.automaticDataCollectionEnabled,o={name:n,automaticDataCollectionEnabled:i};if(void 0!==e.apiKey)super(e,o,r);else{super(e.options,o,r)}this._serverConfig=Object.assign({automaticDataCollectionEnabled:i},t),this._finalizationRegistry=null,"undefined"!==typeof FinalizationRegistry&&(this._finalizationRegistry=new FinalizationRegistry((()=>{this.automaticCleanup()}))),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,t.releaseOnDeref=void 0,oi(lr,cr,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,void 0!==e&&null!==this._finalizationRegistry&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){ii(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Jr.create("server-app-deleted")}}const Zr="11.0.2";function ei(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:Fr,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Jr.create("bad-app-name",{appName:String(i)});if(n||(n=cn()),!n)throw Jr.create("no-options");const o=Ur.get(i);if(o){if(kn(n,o.options)&&kn(r,o.config))return o;throw Jr.create("duplicate-app",{appName:i})}const s=new Fn(i);for(const l of zr.values())s.addComponent(l);const a=new Yr(n,r,s);return Ur.set(i,a),a}function ti(e,t){if(("undefined"!==typeof window||pn())&&!pn())throw Jr.create("invalid-server-app-environment");let n;void 0===t.automaticDataCollectionEnabled&&(t.automaticDataCollectionEnabled=!1),n=Gr(e)?e.options:e;const r=Object.assign(Object.assign({},t),n);void 0!==r.releaseOnDeref&&delete r.releaseOnDeref;if(void 0!==t.releaseOnDeref&&"undefined"===typeof FinalizationRegistry)throw Jr.create("finalization-registry-not-supported",{});const i=""+(o=JSON.stringify(r),[...o].reduce(((e,t)=>Math.imul(31,e)+t.charCodeAt(0)|0),0));var o;const s=Vr.get(i);if(s)return s.incRefCount(t.releaseOnDeref),s;const a=new Fn(i);for(const c of zr.values())a.addComponent(c);const l=new Xr(n,t,i,a);return Vr.set(i,l),l}function ni(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fr;const t=Ur.get(e);if(!t&&e===Fr&&cn())return ei();if(!t)throw Jr.create("no-app",{appName:e});return t}function ri(){return Array.from(Ur.values())}async function ii(e){let t=!1;const n=e.name;if(Ur.has(n))t=!0,Ur.delete(n);else if(Vr.has(n)){e.decRefCount()<=0&&(Vr.delete(n),t=!0)}t&&(await Promise.all(e.container.getProviders().map((e=>e.delete()))),e.isDeleted=!0)}function oi(e,t,n){var r;let i=null!==(r=jr[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const o=i.match(/\s|\//),s=t.match(/\s|\//);if(o||s){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return o&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),o&&s&&e.push("and"),s&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void ur.warn(e.join(" "))}Wr(new Nn("".concat(i,"-version"),(()=>({library:i,version:t})),"VERSION"))}function si(e,t){if(null!==e&&"function"!==typeof e)throw Jr.create("invalid-log-argument");!function(e,t){for(const n of jn){let r=null;t&&t.level&&(r=Vn[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=arguments.length,o=new Array(i>2?i-2:0),s=2;s<i;s++)o[s-2]=arguments[s];const a=o.map((e=>{if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((e=>e)).join(" ");n>=(null!==r&&void 0!==r?r:t.logLevel)&&e({level:Un[n].toLowerCase(),message:a,args:o,type:t.name})}}}(e,t)}function ai(e){var t;t=e,jn.forEach((e=>{e.setLogLevel(t)}))}const li="firebase-heartbeat-store";let ci=null;function ui(){return ci||(ci=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=indexedDB.open(e,t),a=tr(s);return r&&s.addEventListener("upgradeneeded",(e=>{r(tr(s.result),e.oldVersion,e.newVersion,tr(s.transaction),e)})),n&&s.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{o&&e.addEventListener("close",(()=>o())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(li)}catch(HP){console.warn(HP)}}}).catch((e=>{throw Jr.create("idb-open",{originalErrorMessage:e.message})}))),ci}async function di(e,t){try{const n=(await ui()).transaction(li,"readwrite"),r=n.objectStore(li);await r.put(t,hi(e)),await n.done}catch(HP){if(HP instanceof bn)ur.warn(HP.message);else{const t=Jr.create("idb-set",{originalErrorMessage:null===HP||void 0===HP?void 0:HP.message});ur.warn(t.message)}}}function hi(e){return"".concat(e.name,"!").concat(e.options.appId)}class fi{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new mi(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=pi();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return;return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}catch(HP){ur.warn(HP)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=pi(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),gi(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),gi(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=nn(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(HP){return ur.warn(HP),""}}}function pi(){return(new Date).toISOString().substring(0,10)}class mi{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!wn()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await ui()).transaction(li),n=await t.objectStore(li).get(hi(e));return await t.done,n}catch(HP){if(HP instanceof bn)ur.warn(HP.message);else{const t=Jr.create("idb-get",{originalErrorMessage:null===HP||void 0===HP?void 0:HP.message});ur.warn(t.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return di(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return di(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function gi(e){return nn(JSON.stringify({version:2,heartbeats:e})).length}var yi;yi="",Wr(new Nn("platform-logger",(e=>new ar(e)),"PRIVATE")),Wr(new Nn("heartbeat",(e=>new fi(e)),"PRIVATE")),oi(lr,cr,yi),oi(lr,cr,"esm2017"),oi("fire-js","");class vi{constructor(e,t){this._delegate=e,this.firebase=t,Br(e,new Nn("app-compat",(()=>this),"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise((e=>{this._delegate.checkDestroyed(),e()})).then((()=>(this.firebase.INTERNAL.removeApp(this.name),ii(this._delegate))))}_getService(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Fr;var n;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})}_removeServiceInstance(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Fr;this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){Br(this._delegate,e)}_addOrOverwriteComponent(e){qr(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const wi=new _n("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."});const bi=function t(){const n=function(t){const n={},r={__esModule:!0,initializeApp:function(e){const i=ei(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(En(n,i.name))return n[i.name];const o=new t(i,r);return n[i.name]=o,o},app:i,registerVersion:oi,setLogLevel:ai,onLog:si,apps:null,SDK_VERSION:Zr,INTERNAL:{registerComponent:function(e){const n=e.name,o=n.replace("-compat","");if(Wr(e)&&"PUBLIC"===e.type){const s=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[o])throw wi.create("invalid-app-argument",{appName:n});return e[o]()};void 0!==e.serviceProps&&on(s,e.serviceProps),r[o]=s,t.prototype[o]=function(){const t=this._getService.bind(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[o]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!En(n,e=e||Fr))throw wi.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((e=>n[e]))}}),i.App=t,r}(vi);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){on(n,e)},createSubscribe:An,ErrorFactory:_n,deepExtend:on}),n}(),_i=new Wn("@firebase/app-compat");try{const e=sn();if(void 0!==e.firebase){_i.warn("\n      Warning: Firebase is already defined in the global scope. Please make sure\n      Firebase library is only loaded once.\n    ");const t=e.firebase.SDK_VERSION;t&&t.indexOf("LITE")>=0&&_i.warn("\n        Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n        ")}}catch(KP){}const Si=bi;!function(e){oi("@firebase/app-compat","0.2.46",e)}();Si.registerVersion("firebase","11.0.2","app-compat");function Ei(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;const ki="facebook.com",Ii="github.com",Ti="google.com",Ci="password",xi="twitter.com",Ai="EMAIL_SIGNIN",Ri="PASSWORD_RESET",Pi="RECOVER_EMAIL",Oi="REVERT_SECOND_FACTOR_ADDITION",Ni="VERIFY_AND_CHANGE_EMAIL",Di="VERIFY_EMAIL";function Li(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Mi=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},Fi=Li,ji=new _n("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ui=new Wn("@firebase/auth");function Vi(e){if(Ui.logLevel<=Un.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Ui.error("Auth (".concat(Zr,"): ").concat(e),...n)}}function zi(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Ki(e,...n)}function Bi(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Ki(e,...n)}function qi(e,t,n){const r=Object.assign(Object.assign({},Fi()),{[t]:n});return new _n("auth","Firebase",r).create(t,{appName:e.name})}function Wi(e){return qi(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Hi(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&zi(e,"argument-error"),qi(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Ki(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return ji.create(e,...n)}function Gi(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Ki(t,...r)}}function Qi(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Vi(t),new Error(t)}function $i(e,t){e||Qi(t)}function Ji(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Yi(){return"http:"===Xi()||"https:"===Xi()}function Xi(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class Zi{constructor(e,t){this.shortDelay=e,this.longDelay=t,$i(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(hn())||gn()}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Yi()||mn()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function eo(e,t){$i(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class to{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void Qi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void Qi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void Qi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const no={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},ro=new Zi(3e4,6e4);function io(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function oo(e,t,n,r){return so(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},o={};r&&("GET"===t?o=r:i={body:JSON.stringify(r)});const s=Tn(Object.assign({key:e.config.apiKey},o)).slice(1),a=await e._getAdditionalHeaders();a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode);const l=Object.assign({method:t,headers:a},i);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),to.fetch()(lo(e,e.config.apiHost,n,s),l)}))}async function so(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},no),t);try{const t=new uo(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw ho(e,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const t=i.ok?o.errorMessage:o.error.message,[n,s]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw ho(e,"credential-already-in-use",o);if("EMAIL_EXISTS"===n)throw ho(e,"email-already-in-use",o);if("USER_DISABLED"===n)throw ho(e,"user-disabled",o);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(s)throw qi(e,a,s);zi(e,a)}}catch(HP){if(HP instanceof bn)throw HP;zi(e,"network-request-failed",{message:String(HP)})}}async function ao(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const o=await oo(e,t,n,r,i);return"mfaPendingCredential"in o&&zi(e,"multi-factor-auth-required",{_serverResponse:o}),o}function lo(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?eo(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}function co(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class uo{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(Bi(this.auth,"network-request-failed"))),ro.get())}))}}function ho(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Bi(e,t,r);return i.customData._tokenResponse=n,i}function fo(e){return void 0!==e&&void 0!==e.getResponse}function po(e){return void 0!==e&&void 0!==e.enterprise}class mo{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return co(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function go(e,t){return oo(e,"GET","/v2/recaptchaConfig",io(e,t))}async function yo(e,t){return oo(e,"POST","/v1/accounts:lookup",t)}function vo(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(HP){}}function wo(e){return 1e3*Number(e)}function bo(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Vi("JWT malformed, contained fewer than 3 sections"),null;try{const e=rn(n);return e?JSON.parse(e):(Vi("Failed to decode base64 JWT payload"),null)}catch(HP){return Vi("Caught error parsing JWT payload as JSON",null===HP||void 0===HP?void 0:HP.toString()),null}}function _o(e){const t=bo(e);return Gi(t,"internal-error"),Gi("undefined"!==typeof t.exp,"internal-error"),Gi("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function So(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(HP){throw HP instanceof bn&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(HP)&&e.auth.currentUser===e&&await e.auth.signOut(),HP}}class Eo{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(HP){return void((null===HP||void 0===HP?void 0:HP.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class ko{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=vo(this.lastLoginAt),this.creationTime=vo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Io(e){var t;const n=e.auth,r=await e.getIdToken(),i=await So(e,yo(n,{idToken:r}));Gi(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const s=(null===(t=o.providerUserInfo)||void 0===t?void 0:t.length)?To(o.providerUserInfo):[],a=(l=e.providerData,c=s,[...l.filter((e=>!c.some((t=>t.providerId===e.providerId)))),...c]);var l,c;const u=e.isAnonymous,d=!(e.email&&o.passwordHash)&&!(null===a||void 0===a?void 0:a.length),h=!!u&&d,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new ko(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(e,f)}function To(e){return e.map((e=>{var{providerId:t}=e,n=Ei(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}class Co{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Gi(e.idToken,"internal-error"),Gi("undefined"!==typeof e.idToken,"internal-error"),Gi("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):_o(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Gi(0!==e.length,"internal-error");const t=_o(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(Gi(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await so(e,{},(async()=>{const n=Tn({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,o=lo(e,r,"/v1/token","key=".concat(i)),s=await e._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",to.fetch()(o,{method:"POST",headers:s,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,o=new Co;return n&&(Gi("string"===typeof n,"internal-error",{appName:e}),o.refreshToken=n),r&&(Gi("string"===typeof r,"internal-error",{appName:e}),o.accessToken=r),i&&(Gi("number"===typeof i,"internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Co,this.toJSON())}_performRefresh(){return Qi("not implemented")}}function xo(e,t){Gi("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class Ao{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=Ei(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Eo(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new ko(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await So(this,this.stsTokenManager.getToken(this.auth,e));return Gi(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=On(e),r=await n.getIdToken(t),i=bo(r);Gi(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"===typeof i.firebase?i.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:vo(wo(i.auth_time)),issuedAtTime:vo(wo(i.iat)),expirationTime:vo(wo(i.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=On(e);await Io(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Gi(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ao(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Gi(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Io(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Qr(this.auth.app))return Promise.reject(Wi(this.auth));const e=await this.getIdToken();return await So(this,async function(e,t){return oo(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,o,s,a,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(o=t.photoURL)&&void 0!==o?o:void 0,p=null!==(s=t.tenantId)&&void 0!==s?s:void 0,m=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,y=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:v,emailVerified:w,isAnonymous:b,providerData:_,stsTokenManager:S}=t;Gi(v&&S,e,"internal-error");const E=Co.fromJSON(this.name,S);Gi("string"===typeof v,e,"internal-error"),xo(u,e.name),xo(d,e.name),Gi("boolean"===typeof w,e,"internal-error"),Gi("boolean"===typeof b,e,"internal-error"),xo(h,e.name),xo(f,e.name),xo(p,e.name),xo(m,e.name),xo(g,e.name),xo(y,e.name);const k=new Ao({uid:v,auth:e,email:d,emailVerified:w,displayName:u,isAnonymous:b,photoURL:f,phoneNumber:h,tenantId:p,stsTokenManager:E,createdAt:g,lastLoginAt:y});return _&&Array.isArray(_)&&(k.providerData=_.map((e=>Object.assign({},e)))),m&&(k._redirectEventId=m),k}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new Co;r.updateFromServerResponse(t);const i=new Ao({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Io(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];Gi(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?To(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length),s=new Co;s.updateFromIdToken(n);const a=new Ao({uid:r.localId,auth:e,stsTokenManager:s,isAnonymous:o}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new ko(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length)};return Object.assign(a,l),a}}const Ro=new Map;function Po(e){$i(e instanceof Function,"Expected a class definition");let t=Ro.get(e);return t?($i(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Ro.set(e,t),t)}class Oo{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Oo.type="NONE";const No=Oo;function Do(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class Lo{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=Do(this.userKey,r.apiKey,i),this.fullPersistenceKey=Do("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ao._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new Lo(Po(No),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||Po(No);const o=Do(n,e.config.apiKey,e.name);let s=null;for(const l of t)try{const t=await l._get(o);if(t){const n=Ao._fromJSON(e,t);l!==i&&(s=n),i=l;break}}catch(KP){}const a=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&a.length?(i=a[0],s&&await i._set(o,s.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(o)}catch(KP){}}))),new Lo(i,e,n)):new Lo(i,e,n)}}function Mo(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Vo(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Fo(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Bo(t))return"Blackberry";if(qo(t))return"Webos";if(jo(t))return"Safari";if((t.includes("chrome/")||Uo(t))&&!t.includes("edge/"))return"Chrome";if(zo(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function Fo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hn();return/firefox\//i.test(e)}function jo(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:hn()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Uo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hn();return/crios\//i.test(e)}function Vo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hn();return/iemobile/i.test(e)}function zo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hn();return/android/i.test(e)}function Bo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hn();return/blackberry/i.test(e)}function qo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hn();return/webos/i.test(e)}function Wo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hn();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Ho(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hn();return Wo(e)||zo(e)||qo(e)||Bo(e)||/windows phone/i.test(e)||Vo(e)}function Ko(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Mo(hn());break;case"Worker":t="".concat(Mo(hn()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Zr,"/").concat(r)}class Go{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(HP){r(HP)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(HP){t.reverse();for(const r of t)try{r()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===HP||void 0===HP?void 0:HP.message})}}}class Qo{constructor(e){var t,n,r,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=o.minPasswordLength)&&void 0!==t?t:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,o,s;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=null===(t=a.meetsMinPasswordLength)||void 0===t||t),a.isValid&&(a.isValid=null===(n=a.meetsMaxPasswordLength)||void 0===n||n),a.isValid&&(a.isValid=null===(r=a.containsLowercaseLetter)||void 0===r||r),a.isValid&&(a.isValid=null===(i=a.containsUppercaseLetter)||void 0===i||i),a.isValid&&(a.isValid=null===(o=a.containsNumericCharacter)||void 0===o||o),a.isValid&&(a.isValid=null===(s=a.containsNonAlphanumericCharacter)||void 0===s||s),a}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class $o{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Yo(this),this.idTokenSubscription=new Yo(this),this.beforeStateQueue=new Go(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ji,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Po(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await Lo.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(HP){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await yo(this,{idToken:e}),n=await Ao._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Qr(this.app)){const e=this.app.settings.authIdToken;return e?new Promise((t=>{setTimeout((()=>this.initializeCurrentUserFromIdToken(e).then(t,t)))})):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,o=null===r||void 0===r?void 0:r._redirectEventId,s=await this.tryRedirectSignIn(e);n&&n!==o||!(null===s||void 0===s?void 0:s.user)||(r=s.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(HP){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(HP)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Gi(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(HP){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Io(e)}catch(HP){if((null===HP||void 0===HP?void 0:HP.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Qr(this.app))return Promise.reject(Wi(this));const t=e?On(e):null;return t&&Gi(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&Gi(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return Qr(this.app)?Promise.reject(Wi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Qr(this.app)?Promise.reject(Wi(this)):this.queue((async()=>{await this.assertedPersistence.setPersistence(Po(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return oo(e,"GET","/v2/passwordPolicy",io(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new Qo(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new _n("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return oo(e,"POST","/v2/accounts:revokeToken",io(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Po(e)||this._popupRedirectResolver;Gi(t,this,"argument-error"),this.redirectPersistenceManager=await Lo.create(this,[Po(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let o=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(Gi(s,this,"internal-error"),s.then((()=>{o||i(this.currentUser)})),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{o=!0,i()}}{const n=e.addObserver(t);return()=>{o=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Gi(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ko(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(Ui.logLevel<=Un.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Ui.warn("Auth (".concat(Zr,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function Jo(e){return On(e)}class Yo{constructor(e){this.auth=e,this.observer=null,this.addObserver=An((e=>this.observer=e))}get next(){return Gi(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Xo={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Zo(e){return Xo.loadJS(e)}function es(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}const ts=1e12;class ns{constructor(e){this.auth=e,this.counter=ts,this._widgets=new Map}render(e,t){const n=this.counter;return this._widgets.set(n,new os(e,this.auth.name,t||{})),this.counter++,n}reset(e){var t;const n=e||ts;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}getResponse(e){var t;const n=e||ts;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}async execute(e){var t;const n=e||ts;return null===(t=this._widgets.get(n))||void 0===t||t.execute(),""}}class rs{constructor(){this.enterprise=new is}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class is{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class os{constructor(e,t,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const r="string"===typeof e?document.getElementById(e):e;Gi(r,"argument-error",{appName:t}),this.container=r,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((()=>{this.responseToken=function(e){const t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch(HP){}this.timerId=window.setTimeout((()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch(HP){}this.isVisible&&this.execute()}),6e4)}),500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ss="NO_RECAPTCHA";class as{constructor(e){this.type="recaptcha-enterprise",this.auth=Jo(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;po(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n(ss)}))})):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new rs).execute("siteKey",{action:"verify"})}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{go(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new mo(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&po(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=Xo.recaptchaEnterpriseScript;0!==t.length&&(t+=i),Zo(t).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function ls(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const o=new as(e);let s;if(i)s=ss;else try{s=await o.verify(n)}catch(l){s=await o.verify(n,!0)}const a=Object.assign({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in a){const e=a.phoneEnrollmentInfo.phoneNumber,t=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const e=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function cs(e,t,n,r,i){var o,s;if("EMAIL_PASSWORD_PROVIDER"===i){if(null===(o=e._getRecaptchaConfig())||void 0===o?void 0:o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await ls(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch((async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await ls(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)}))}if("PHONE_PROVIDER"===i){if(null===(s=e._getRecaptchaConfig())||void 0===s?void 0:s.isProviderEnabled("PHONE_PROVIDER")){const i=await ls(e,t,n);return r(e,i).catch((async i=>{var o;if("AUDIT"===(null===(o=e._getRecaptchaConfig())||void 0===o?void 0:o.getProviderEnforcementState("PHONE_PROVIDER"))&&(i.code==="auth/".concat("missing-recaptcha-token")||i.code==="auth/".concat("invalid-app-credential"))){console.log("Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ".concat(n," flow."));const i=await ls(e,t,n,!1,!0);return r(e,i)}return Promise.reject(i)}))}{const i=await ls(e,t,n,!1,!0);return r(e,i)}}return Promise.reject(i+" provider is not supported.")}async function us(e){const t=Jo(e),n=await go(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new mo(n);if(null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isAnyProviderEnabled()){new as(t).verify()}}function ds(e,t,n){const r=Jo(e);Gi(r._canInitEmulator,r,"emulator-config-failed"),Gi(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),o=hs(t),{host:s,port:a}=function(e){const t=hs(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:fs(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:fs(t)}}}(t),l=null===a?"":":".concat(a);r.config.emulator={url:"".concat(o,"//").concat(s).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function hs(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function fs(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class ps{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Qi("not implemented")}_getIdTokenResponse(e){return Qi("not implemented")}_linkToIdToken(e,t){return Qi("not implemented")}_getReauthenticationResolver(e){return Qi("not implemented")}}async function ms(e,t){return oo(e,"POST","/v1/accounts:resetPassword",io(e,t))}async function gs(e,t){return oo(e,"POST","/v1/accounts:signUp",t)}async function ys(e,t){return ao(e,"POST","/v1/accounts:signInWithPassword",io(e,t))}async function vs(e,t){return oo(e,"POST","/v1/accounts:sendOobCode",io(e,t))}async function ws(e,t){return vs(e,t)}async function bs(e,t){return vs(e,t)}class _s extends ps{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new _s(e,t,"password")}static _fromEmailAndCode(e,t){return new _s(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return cs(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",ys,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return ao(e,"POST","/v1/accounts:signInWithEmailLink",io(e,t))}(e,{email:this._email,oobCode:this._password});default:zi(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return cs(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",gs,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return ao(e,"POST","/v1/accounts:signInWithEmailLink",io(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:zi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Ss(e,t){return ao(e,"POST","/v1/accounts:signInWithIdp",io(e,t))}class Es extends ps{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Es(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):zi("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=Ei(t,["providerId","signInMethod"]);if(!n||!r)return null;const o=new Es(n,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){return Ss(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Ss(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ss(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Tn(t)}return e}}async function ks(e,t){return oo(e,"POST","/v1/accounts:sendVerificationCode",io(e,t))}const Is={USER_NOT_FOUND:"user-not-found"};class Ts extends ps{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Ts({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Ts({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return ao(e,"POST","/v1/accounts:signInWithPhoneNumber",io(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await ao(e,"POST","/v1/accounts:signInWithPhoneNumber",io(e,t));if(n.temporaryProof)throw ho(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return ao(e,"POST","/v1/accounts:signInWithPhoneNumber",io(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),Is)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new Ts({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Cs{constructor(e){var t,n,r,i,o,s;const a=Cn(xn(e)),l=null!==(t=a.apiKey)&&void 0!==t?t:null,c=null!==(n=a.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);Gi(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=a.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(o=a.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=a.tenantId)&&void 0!==s?s:null}static parseLink(e){const t=function(e){const t=Cn(xn(e)).link,n=t?Cn(xn(t)).deep_link_id:null,r=Cn(xn(e)).deep_link_id;return(r?Cn(xn(r)).link:null)||r||n||t||e}(e);try{return new Cs(t)}catch(KP){return null}}}class xs{constructor(){this.providerId=xs.PROVIDER_ID}static credential(e,t){return _s._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Cs.parseLink(t);return Gi(n,"argument-error"),_s._fromEmailAndCode(e,n.code,n.tenantId)}}xs.PROVIDER_ID="password",xs.EMAIL_PASSWORD_SIGN_IN_METHOD="password",xs.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class As{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Rs extends As{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ps extends Rs{static credentialFromJSON(e){const t="string"===typeof e?JSON.parse(e):e;return Gi("providerId"in t&&"signInMethod"in t,"argument-error"),Es._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return Gi(e.idToken||e.accessToken,"argument-error"),Es._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return Ps.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Ps.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:o,nonce:s,providerId:a}=t;if(!r&&!i&&!n&&!o)return null;if(!a)return null;try{return new Ps(a)._credential({idToken:n,accessToken:r,nonce:s,pendingToken:o})}catch(HP){return null}}}class Os extends Rs{constructor(){super("facebook.com")}static credential(e){return Es._fromParams({providerId:Os.PROVIDER_ID,signInMethod:Os.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Os.credentialFromTaggedObject(e)}static credentialFromError(e){return Os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Os.credential(t.oauthAccessToken)}catch(KP){return null}}}Os.FACEBOOK_SIGN_IN_METHOD="facebook.com",Os.PROVIDER_ID="facebook.com";class Ns extends Rs{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Es._fromParams({providerId:Ns.PROVIDER_ID,signInMethod:Ns.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ns.credentialFromTaggedObject(e)}static credentialFromError(e){return Ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Ns.credential(n,r)}catch(KP){return null}}}Ns.GOOGLE_SIGN_IN_METHOD="google.com",Ns.PROVIDER_ID="google.com";class Ds extends Rs{constructor(){super("github.com")}static credential(e){return Es._fromParams({providerId:Ds.PROVIDER_ID,signInMethod:Ds.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ds.credentialFromTaggedObject(e)}static credentialFromError(e){return Ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Ds.credential(t.oauthAccessToken)}catch(KP){return null}}}Ds.GITHUB_SIGN_IN_METHOD="github.com",Ds.PROVIDER_ID="github.com";class Ls extends ps{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){return Ss(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Ss(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ss(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r,pendingToken:i}=t;return n&&r&&i&&n===r?new Ls(n,i):null}static _create(e,t){return new Ls(e,t)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Ms extends As{constructor(e){Gi(e.startsWith("saml."),"argument-error"),super(e)}static credentialFromResult(e){return Ms.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return Ms.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=Ls.fromJSON(e);return Gi(t,"argument-error"),t}static samlCredentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{pendingToken:n,providerId:r}=t;if(!n||!r)return null;try{return Ls._create(r,n)}catch(HP){return null}}}class Fs extends Rs{constructor(){super("twitter.com")}static credential(e,t){return Es._fromParams({providerId:Fs.PROVIDER_ID,signInMethod:Fs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Fs.credentialFromTaggedObject(e)}static credentialFromError(e){return Fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Fs.credential(n,r)}catch(KP){return null}}}async function js(e,t){return ao(e,"POST","/v1/accounts:signUp",io(e,t))}Fs.TWITTER_SIGN_IN_METHOD="twitter.com",Fs.PROVIDER_ID="twitter.com";class Us{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await Ao._fromIdTokenResponse(e,n,r),o=Vs(n);return new Us({user:i,providerId:o,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Vs(n);return new Us({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Vs(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class zs extends bn{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,zs.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new zs(e,t,n,r)}}function Bs(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw zs._fromErrorAndOperation(e,n,t,r);throw n}))}function qs(e){return new Set(e.map((e=>{let{providerId:t}=e;return t})).filter((e=>!!e)))}async function Ws(e,t){const n=On(e);await Ks(!0,n,t);const{providerUserInfo:r}=await async function(e,t){return oo(e,"POST","/v1/accounts:update",t)}(n.auth,{idToken:await n.getIdToken(),deleteProvider:[t]}),i=qs(r||[]);return n.providerData=n.providerData.filter((e=>i.has(e.providerId))),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function Hs(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await So(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Us._forOperation(e,"link",r)}async function Ks(e,t,n){await Io(t);const r=!1===e?"provider-already-linked":"no-such-provider";Gi(qs(t.providerData).has(n)===e,t.auth,r)}async function Gs(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(Qr(r.app))return Promise.reject(Wi(r));const i="reauthenticate";try{const o=await So(e,Bs(r,i,t,e),n);Gi(o.idToken,r,"internal-error");const s=bo(o.idToken);Gi(s,r,"internal-error");const{sub:a}=s;return Gi(e.uid===a,r,"user-mismatch"),Us._forOperation(e,i,o)}catch(HP){throw(null===HP||void 0===HP?void 0:HP.code)==="auth/".concat("user-not-found")&&zi(r,"user-mismatch"),HP}}async function Qs(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Qr(e.app))return Promise.reject(Wi(e));const r="signIn",i=await Bs(e,r,t),o=await Us._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(o.user),o}async function $s(e,t){return Qs(Jo(e),t)}async function Js(e,t){const n=On(e);return await Ks(!1,n,t.providerId),Hs(n,t)}async function Ys(e,t){return Gs(On(e),t)}async function Xs(e,t){if(Qr(e.app))return Promise.reject(Wi(e));const n=Jo(e),r=await async function(e,t){return ao(e,"POST","/v1/accounts:signInWithCustomToken",io(e,t))}(n,{token:t,returnSecureToken:!0}),i=await Us._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}class Zs{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?ea._fromServerResponse(e,t):"totpInfo"in t?ta._fromServerResponse(e,t):zi(e,"internal-error")}}class ea extends Zs{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new ea(t)}}class ta extends Zs{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new ta(t)}}function na(e,t,n){var r;Gi((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Gi("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Gi(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Gi(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function ra(e){const t=Jo(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function ia(e,t){await async function(e,t){return oo(e,"POST","/v1/accounts:update",io(e,t))}(On(e),{oobCode:t})}async function oa(e,t){const n=On(e),r=await ms(n,{oobCode:t}),i=r.requestType;switch(Gi(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Gi(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Gi(r.mfaInfo,n,"internal-error");default:Gi(r.email,n,"internal-error")}let o=null;return r.mfaInfo&&(o=Zs._fromServerResponse(Jo(n),r.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.newEmail:r.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.email:r.newEmail)||null,multiFactorInfo:o},operation:i}}async function sa(e,t,n){if(Qr(e.app))return Promise.reject(Wi(e));const r=Jo(e),i=cs(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",js,"EMAIL_PASSWORD_PROVIDER"),o=await i.catch((t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&ra(e),t})),s=await Us._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(s.user),s}function aa(e,t,n){return Qr(e.app)?Promise.reject(Wi(e)):$s(On(e),xs.credential(t,n)).catch((async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&ra(e),t}))}async function la(e,t){const n={identifier:t,continueUri:Yi()?Ji():"http://localhost"},{signinMethods:r}=await async function(e,t){return oo(e,"POST","/v1/accounts:createAuthUri",io(e,t))}(On(e),n);return r||[]}async function ca(e,t){const n=On(e),r={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&na(n.auth,r,t);const{email:i}=await async function(e,t){return vs(e,t)}(n.auth,r);i!==e.email&&await e.reload()}async function ua(e,t,n){const r=On(e),i={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await e.getIdToken(),newEmail:t};n&&na(r.auth,i,n);const{email:o}=await async function(e,t){return vs(e,t)}(r.auth,i);o!==e.email&&await e.reload()}async function da(e,t){let{displayName:n,photoURL:r}=t;if(void 0===n&&void 0===r)return;const i=On(e),o={idToken:await i.getIdToken(),displayName:n,photoUrl:r,returnSecureToken:!0},s=await So(i,async function(e,t){return oo(e,"POST","/v1/accounts:update",t)}(i.auth,o));i.displayName=s.displayName||null,i.photoURL=s.photoUrl||null;const a=i.providerData.find((e=>{let{providerId:t}=e;return"password"===t}));a&&(a.displayName=i.displayName,a.photoURL=i.photoURL),await i._updateTokensIfNecessary(s)}async function ha(e,t,n){const{auth:r}=e,i={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(i.email=t),n&&(i.password=n);const o=await So(e,async function(e,t){return oo(e,"POST","/v1/accounts:update",t)}(r,i));await e._updateTokensIfNecessary(o,!0)}class fa{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.isNewUser=e,this.providerId=t,this.profile=n}}class pa extends fa{constructor(e,t,n,r){super(e,t,n),this.username=r}}class ma extends fa{constructor(e,t){super(e,"facebook.com",t)}}class ga extends pa{constructor(e,t){super(e,"github.com",t,"string"===typeof(null===t||void 0===t?void 0:t.login)?null===t||void 0===t?void 0:t.login:null)}}class ya extends fa{constructor(e,t){super(e,"google.com",t)}}class va extends pa{constructor(e,t,n){super(e,"twitter.com",t,n)}}function wa(e){const{user:t,_tokenResponse:n}=e;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;const{providerId:r}=e,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},o=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){const r=null===(n=null===(t=bo(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(r)return new fa(o,"anonymous"!==r&&"custom"!==r?r:null)}if(!r)return null;switch(r){case"facebook.com":return new ma(o,i);case"github.com":return new ga(o,i);case"google.com":return new ya(o,i);case"twitter.com":return new va(o,i,e.screenName||null);case"custom":case"anonymous":return new fa(o,null);default:return new fa(o,r,i)}}(n)}class ba{constructor(e,t,n){this.type=e,this.credential=t,this.user=n}static _fromIdtoken(e,t){return new ba("enroll",e,t)}static _fromMfaPendingCredential(e){return new ba("signin",e)}toJSON(){const e="enroll"===this.type?"idToken":"pendingCredential";return{multiFactorSession:{[e]:this.credential}}}static fromJSON(e){var t,n;if(null===e||void 0===e?void 0:e.multiFactorSession){if(null===(t=e.multiFactorSession)||void 0===t?void 0:t.pendingCredential)return ba._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null===(n=e.multiFactorSession)||void 0===n?void 0:n.idToken)return ba._fromIdtoken(e.multiFactorSession.idToken)}return null}}class _a{constructor(e,t,n){this.session=e,this.hints=t,this.signInResolver=n}static _fromError(e,t){const n=Jo(e),r=t.customData._serverResponse,i=(r.mfaInfo||[]).map((e=>Zs._fromServerResponse(n,e)));Gi(r.mfaPendingCredential,n,"internal-error");const o=ba._fromMfaPendingCredential(r.mfaPendingCredential);return new _a(o,i,(async e=>{const i=await e._process(n,o);delete r.mfaInfo,delete r.mfaPendingCredential;const s=Object.assign(Object.assign({},r),{idToken:i.idToken,refreshToken:i.refreshToken});switch(t.operationType){case"signIn":const e=await Us._fromIdTokenResponse(n,t.operationType,s);return await n._updateCurrentUser(e.user),e;case"reauthenticate":return Gi(t.user,n,"internal-error"),Us._forOperation(t.user,t.operationType,s);default:zi(n,"internal-error")}}))}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}function Sa(e,t){return oo(e,"POST","/v2/accounts/mfaEnrollment:start",io(e,t))}class Ea{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload((t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map((t=>Zs._fromServerResponse(e.auth,t))))}))}static _fromUser(e){return new Ea(e)}async getSession(){return ba._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,t){const n=e,r=await this.getSession(),i=await So(this.user,n._process(this.user.auth,r,t));return await this.user._updateTokensIfNecessary(i),this.user.reload()}async unenroll(e){const t="string"===typeof e?e:e.uid,n=await this.user.getIdToken();try{const e=await So(this.user,function(e,t){return oo(e,"POST","/v2/accounts/mfaEnrollment:withdraw",io(e,t))}(this.user.auth,{idToken:n,mfaEnrollmentId:t}));this.enrolledFactors=this.enrolledFactors.filter((e=>{let{uid:n}=e;return n!==t})),await this.user._updateTokensIfNecessary(e),await this.user.reload()}catch(HP){throw HP}}}const ka=new WeakMap;const Ia="__sak";class Ta{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Ia,"1"),this.storage.removeItem(Ia),Promise.resolve(!0)):Promise.resolve(!1)}catch(KP){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Ca extends Ta{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Ho(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);yn()&&10===document.documentMode&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Ca.type="LOCAL";const xa=Ca;class Aa extends Ta{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Aa.type="SESSION";const Ra=Aa;class Pa{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new Pa(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,o=this.handlersMap[r];if(!(null===o||void 0===o?void 0:o.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const s=Array.from(o).map((async e=>e(t.origin,i))),a=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(s);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Oa(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Pa.receivers=[];class Na{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise(((s,a)=>{const l=Oa("",20);r.port1.start();const c=setTimeout((()=>{a(new Error("unsupported_event"))}),n);o={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),s(t.data.response);break;default:clearTimeout(c),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{o&&this.removeMessageHandler(o)}))}}function Da(){return window}function La(){return"undefined"!==typeof Da().WorkerGlobalScope&&"function"===typeof Da().importScripts}const Ma="firebaseLocalStorageDb",Fa="firebaseLocalStorage",ja="fbase_key";class Ua{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function Va(e,t){return e.transaction([Fa],t?"readwrite":"readonly").objectStore(Fa)}function za(){const e=indexedDB.open(Ma,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(Fa,{keyPath:ja})}catch(HP){n(HP)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(Fa)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Ma);return new Ua(e).toPromise()}(),t(await za()))}))}))}async function Ba(e,t,n){const r=Va(e,!0).put({[ja]:t,value:n});return new Ua(r).toPromise()}function qa(e,t){const n=Va(e,!0).delete(t);return new Ua(n).toPromise()}class Wa{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await za()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(HP){if(t++>3)throw HP;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return La()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Pa._getInstance(La()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new Na(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(KP){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await za();return await Ba(e,Ia,"1"),await qa(e,Ia),!0}catch(KP){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>Ba(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=Va(e,!1).get(t),r=await new Ua(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>qa(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=Va(e,!1).getAll();return new Ua(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Wa.type="LOCAL";const Ha=Wa;function Ka(e,t){return oo(e,"POST","/v2/accounts/mfaSignIn:start",io(e,t))}const Ga=es("rcb"),Qa=new Zi(3e4,6e4);class $a{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(e=Da().grecaptcha)||void 0===e?void 0:e.render)}load(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Gi(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(t),e,"argument-error"),this.shouldResolveImmediately(t)&&fo(Da().grecaptcha)?Promise.resolve(Da().grecaptcha):new Promise(((n,r)=>{const i=Da().setTimeout((()=>{r(Bi(e,"network-request-failed"))}),Qa.get());Da()[Ga]=()=>{Da().clearTimeout(i),delete Da()[Ga];const o=Da().grecaptcha;if(!o||!fo(o))return void r(Bi(e,"internal-error"));const s=o.render;o.render=(e,t)=>{const n=s(e,t);return this.counter++,n},this.hostLanguage=t,n(o)};Zo("".concat(Xo.recaptchaV2Script,"?").concat(Tn({onload:Ga,render:"explicit",hl:t}))).catch((()=>{clearTimeout(i),r(Bi(e,"internal-error"))}))}))}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(null===(t=Da().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ja{async load(e){return new ns(e)}clearedOneInstance(){}}const Ya="recaptcha",Xa={theme:"light",type:"image"};class Za{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.assign({},Xa);this.parameters=n,this.type=Ya,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Jo(e),this.isInvisible="invisible"===this.parameters.size,Gi("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");const r="string"===typeof t?document.getElementById(t):t;Gi(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ja:new $a,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),n=t.getResponse(e);return n||new Promise((n=>{const r=e=>{e&&(this.tokenChangeListeners.delete(r),n(e))};this.tokenChangeListeners.add(r),this.isInvisible&&t.execute(e)}))}render(){try{this.assertNotDestroyed()}catch(HP){return Promise.reject(HP)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((e=>{throw this.renderPromise=null,e}))),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((e=>{this.container.removeChild(e)}))}validateStartingState(){Gi(!this.parameters.sitekey,this.auth,"argument-error"),Gi(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Gi("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach((e=>e(t))),"function"===typeof e)e(t);else if("string"===typeof e){const n=Da()[e];"function"===typeof n&&n(t)}}}assertNotDestroyed(){Gi(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){Gi(Yi()&&!La(),this.auth,"internal-error"),await function(){let e=null;return new Promise((t=>{"complete"!==document.readyState?(e=()=>t(),window.addEventListener("load",e)):t()})).catch((t=>{throw e&&window.removeEventListener("load",e),t}))}(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await async function(e){return(await oo(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}(this.auth);Gi(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return Gi(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class el{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=Ts._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function tl(e,t,n){var r;if(!e._getRecaptchaConfig())try{await us(e)}catch(i){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(i="string"===typeof t?{phoneNumber:t}:t,"session"in i){const t=i.session;if("phoneNumber"in i){Gi("enroll"===t.type,e,"internal-error");const r={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},o=cs(e,r,"mfaSmsEnrollment",(async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===ss){Gi((null===n||void 0===n?void 0:n.type)===Ya,e,"argument-error");return Sa(e,await nl(e,t,n))}return Sa(e,t)}),"PHONE_PROVIDER");return(await o.catch((e=>Promise.reject(e)))).phoneSessionInfo.sessionInfo}{Gi("signin"===t.type,e,"internal-error");const o=(null===(r=i.multiFactorHint)||void 0===r?void 0:r.uid)||i.multiFactorUid;Gi(o,e,"missing-multi-factor-info");const s={mfaPendingCredential:t.credential,mfaEnrollmentId:o,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},a=cs(e,s,"mfaSmsSignIn",(async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===ss){Gi((null===n||void 0===n?void 0:n.type)===Ya,e,"argument-error");return Ka(e,await nl(e,t,n))}return Ka(e,t)}),"PHONE_PROVIDER");return(await a.catch((e=>Promise.reject(e)))).phoneResponseInfo.sessionInfo}}{const t={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"},r=cs(e,t,"sendVerificationCode",(async(e,t)=>{if(t.captchaResponse===ss){Gi((null===n||void 0===n?void 0:n.type)===Ya,e,"argument-error");return ks(e,await nl(e,t,n))}return ks(e,t)}),"PHONE_PROVIDER");return(await r.catch((e=>Promise.reject(e)))).sessionInfo}}finally{null===n||void 0===n||n._reset()}}async function nl(e,t,n){Gi(n.type===Ya,e,"argument-error");const r=await n.verify();Gi("string"===typeof r,e,"argument-error");const i=Object.assign({},t);if("phoneEnrollmentInfo"in i){const e=i.phoneEnrollmentInfo.phoneNumber,t=i.phoneEnrollmentInfo.captchaResponse,n=i.phoneEnrollmentInfo.clientType,o=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:o}}),i}if("phoneSignInInfo"in i){const e=i.phoneSignInInfo.captchaResponse,t=i.phoneSignInInfo.clientType,n=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),i}return Object.assign(i,{recaptchaToken:r}),i}class rl{constructor(e){this.providerId=rl.PROVIDER_ID,this.auth=Jo(e)}verifyPhoneNumber(e,t){return tl(this.auth,e,On(t))}static credential(e,t){return Ts._fromVerification(e,t)}static credentialFromResult(e){const t=e;return rl.credentialFromTaggedObject(t)}static credentialFromError(e){return rl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?Ts._fromTokenResponse(n,r):null}}function il(e,t){return t?Po(t):(Gi(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}rl.PROVIDER_ID="phone",rl.PHONE_SIGN_IN_METHOD="phone";class ol extends ps{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ss(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ss(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ss(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function sl(e){return Qs(e.auth,new ol(e),e.bypassAuthState)}function al(e){const{auth:t,user:n}=e;return Gi(n,t,"internal-error"),Gs(n,new ol(e),e.bypassAuthState)}async function ll(e){const{auth:t,user:n}=e;return Gi(n,t,"internal-error"),Hs(n,new ol(e),e.bypassAuthState)}class cl{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(HP){this.reject(HP)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:o,type:s}=e;if(o)return void this.reject(o);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(a))}catch(HP){this.reject(HP)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return sl;case"linkViaPopup":case"linkViaRedirect":return ll;case"reauthViaPopup":case"reauthViaRedirect":return al;default:zi(this.auth,"internal-error")}}resolve(e){$i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){$i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ul=new Zi(2e3,1e4);class dl extends cl{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,dl.currentPopupAction&&dl.currentPopupAction.cancel(),dl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Gi(e,this.auth,"internal-error"),e}async onExecution(){$i(1===this.filter.length,"Popup operations only handle one event");const e=Oa();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(Bi(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Bi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,dl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(Bi(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,ul.get())};e()}}dl.currentPopupAction=null;const hl=new Map;class fl extends cl{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=hl.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=yl(t),r=gl(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(HP){e=()=>Promise.reject(HP)}hl.set(this.auth._key(),e)}return this.bypassAuthState||hl.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}async function pl(e,t){return gl(e)._set(yl(t),"true")}function ml(e,t){hl.set(e._key(),t)}function gl(e){return Po(e._redirectPersistence)}function yl(e){return Do("pendingRedirect",e.config.apiKey,e.name)}function vl(e,t,n){return async function(e,t,n){if(Qr(e.app))return Promise.reject(Wi(e));const r=Jo(e);Hi(e,t,As),await r._initializationPromise;const i=il(r,n);return await pl(i,r),i._openRedirect(r,t,"signInViaRedirect")}(e,t,n)}function wl(e,t,n){return async function(e,t,n){const r=On(e);if(Hi(r.auth,t,As),Qr(r.auth.app))return Promise.reject(Wi(r.auth));await r.auth._initializationPromise;const i=il(r.auth,n);await pl(i,r.auth);const o=await Sl(r);return i._openRedirect(r.auth,t,"reauthViaRedirect",o)}(e,t,n)}function bl(e,t,n){return async function(e,t,n){const r=On(e);Hi(r.auth,t,As),await r.auth._initializationPromise;const i=il(r.auth,n);await Ks(!1,r,t.providerId),await pl(i,r.auth);const o=await Sl(r);return i._openRedirect(r.auth,t,"linkViaRedirect",o)}(e,t,n)}async function _l(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Qr(e.app))return Promise.reject(Wi(e));const r=Jo(e),i=il(r,t),o=new fl(r,i,n),s=await o.execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,t)),s}async function Sl(e){const t=Oa("".concat(e.uid,":::"));return e._redirectEventId=t,await e.auth._setRedirectUser(e),await e.auth._persistUserIfCurrent(e),t}class El{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Il(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Il(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Bi(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(kl(e))}saveEventToCache(e){this.cachedEventUids.add(kl(e)),this.lastProcessedEventTime=Date.now()}}function kl(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function Il(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}async function Tl(e){return oo(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}const Cl=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xl=/^https?/;function Al(e){const t=Ji(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!xl.test(n))return!1;if(Cl.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Rl=new Zi(3e4,6e4);function Pl(){const e=Da().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function Ol(e){return new Promise(((t,n)=>{var r,i,o;function s(){Pl(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Pl(),n(Bi(e,"network-request-failed"))},timeout:Rl.get()})}if(null===(i=null===(r=Da().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(o=Da().gapi)||void 0===o?void 0:o.load)){const t=es("iframefcb");return Da()[t]=()=>{gapi.load?s():n(Bi(e,"network-request-failed"))},Zo("".concat(Xo.gapiScript,"?onload=").concat(t)).catch((e=>n(e)))}s()}})).catch((e=>{throw Nl=null,e}))}let Nl=null;const Dl=new Zi(5e3,15e3),Ll={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ml=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Fl(e){const t=e.config;Gi(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?eo(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:Zr},i=Ml.get(e.config.apiHost);i&&(r.eid=i);const o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),"".concat(n,"?").concat(Tn(r).slice(1))}async function jl(e){const t=await function(e){return Nl=Nl||Ol(e),Nl}(e),n=Da().gapi;return Gi(n,e,"internal-error"),t.open({where:document.body,url:Fl(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ll,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=Bi(e,"network-request-failed"),o=Da().setTimeout((()=>{r(i)}),Dl.get());function s(){Da().clearTimeout(o),n(t)}t.ping(s).then(s,(()=>{r(i)}))}))))}const Ul={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Vl{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(HP){}}}function zl(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},Ul),{width:r.toString(),height:i.toString(),top:o,left:s}),c=hn().toLowerCase();n&&(a=Uo(c)?"_blank":n),Fo(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce(((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")}),"");if(function(){var e;return Wo(arguments.length>0&&void 0!==arguments[0]?arguments[0]:hn())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new Vl(null);const d=window.open(t||"",a,u);Gi(d,e,"popup-blocked");try{d.focus()}catch(HP){}return new Vl(d)}const Bl="__/auth/handler",ql="emulator/auth/handler",Wl=encodeURIComponent("fac");async function Hl(e,t,n,r,i,o){Gi(e.config.authDomain,e,"auth-domain-config-required"),Gi(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Zr,eventId:i};if(t instanceof As){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(o||{}))s[e]=t}if(t instanceof Rs){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(s.scopes=e.join(","))}e.tenantId&&(s.tid=e.tenantId);const a=s;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const l=await e._getAppCheckToken(),c=l?"#".concat(Wl,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Bl);return eo(t,ql)}(e),"?").concat(Tn(a).slice(1)).concat(c)}const Kl="webStorageSupport";const Gl=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ra,this._completeRedirectFn=_l,this._overrideRedirectResult=ml}async _openPopup(e,t,n,r){var i;$i(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return zl(e,await Hl(e,t,n,Ji(),r),Oa())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){Da().location.href=e}(await Hl(e,t,n,Ji(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):($i(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await jl(e),n=new El(e);return t.register("authEvent",(t=>{Gi(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Kl,{type:Kl},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[Kl];void 0!==i&&t(!!i),zi(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){if(e.config.emulator)return;const{authorizedDomains:t}=await Tl(e);for(const n of t)try{if(Al(n))return}catch(KP){}zi(e,"unauthorized-domain")}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Ho()||jo()||Wo()}};class Ql{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Qi("unexpected MultiFactorSessionType")}}}class $l extends Ql{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new $l(e)}_finalizeEnroll(e,t,n){return function(e,t){return oo(e,"POST","/v2/accounts/mfaEnrollment:finalize",io(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return function(e,t){return oo(e,"POST","/v2/accounts/mfaSignIn:finalize",io(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class Jl{constructor(){}static assertion(e){return $l._fromCredential(e)}}Jl.FACTOR_ID="phone";var Yl="@firebase/auth",Xl="1.8.1";class Zl{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Gi(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const ec=un("authIdTokenMaxAge")||300;let tc=null;var nc;Xo={loadJS:e=>new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=Bi("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},nc="Browser",Wr(new Nn("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;Gi(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:nc,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ko(nc)},c=new $o(r,i,o,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Po);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),Wr(new Nn("auth-internal",(e=>(e=>new Zl(e))(Jo(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),oi(Yl,Xl,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(nc)),oi(Yl,Xl,"esm2017");var rc,ic,oc="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},sc={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var o=e.g[3],s=t+(o^n&(i^o))+r[0]+3614090360&4294967295;s=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=n+(s<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=t+(i^o&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=t+(n^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=t+(i^(n|~o))+r[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(n|~o))+r[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(n|~o))+r[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(t=n+((s=t+(i^(n|~o))+r[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((i=o+((s=i+(t^(o|~n))+r[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+o&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var o=0|e[i];r&&o==t||(n[i]=o,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}(t,(function(){this.blockSize=-1})),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,i=this.B,o=this.h,s=0;s<t;){if(0==o)for(;s<=r;)n(this,e,s),s+=this.blockSize;if("string"===typeof e){for(;s<t;)if(i[o++]=e.charCodeAt(s++),o==this.blockSize){n(this,i),o=0;break}}else for(;s<t;)if(i[o++]=e[s++],o==this.blockSize){n(this,i),o=0;break}}this.h=o,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var i={};function o(e){return-128<=e&&128>e?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new r([0|e],0>e?-1:0)})):new r([0|e],0>e?-1:0)}function s(e){if(isNaN(e)||!isFinite(e))return a;if(0>e)return h(s(-e));for(var t=[],n=1,i=0;e>=n;i++)t[i]=e/n|0,n*=4294967296;return new r(t,0)}var a=o(0),l=o(1),c=o(16777216);function u(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function d(e){return-1==e.h}function h(e){for(var t=e.g.length,n=[],i=0;i<t;i++)n[i]=~e.g[i];return new r(n,~e.h).add(l)}function f(e,t){return e.add(h(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new m(a,a);if(d(e))return t=g(h(e),t),new m(h(t.g),h(t.h));if(d(t))return t=g(e,h(t)),new m(h(t.g),t.h);if(30<e.g.length){if(d(e)||d(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=y(n),r=y(r);var i=v(n,1),o=v(r,1);for(r=v(r,2),n=v(n,2);!u(r);){var c=o.add(r);0>=c.l(e)&&(i=i.add(n),o=c),r=v(r,1),n=v(n,1)}return t=f(e,i.j(t)),new m(i,t)}for(i=a;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),c=(o=s(n)).j(t);d(c)||0<c.l(e);)c=(o=s(n-=r)).j(t);u(o)&&(o=l),i=i.add(o),e=f(e,c)}return new m(i,e)}function y(e){for(var t=e.g.length+1,n=[],i=0;i<t;i++)n[i]=e.i(i)<<1|e.i(i-1)>>>31;return new r(n,e.h)}function v(e,t){var n=t>>5;t%=32;for(var i=e.g.length-n,o=[],s=0;s<i;s++)o[s]=0<t?e.i(s+n)>>>t|e.i(s+n+1)<<32-t:e.i(s+n);return new r(o,e.h)}(e=r.prototype).m=function(){if(d(this))return-h(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(d(this))return"-"+h(this).toString(e);for(var t=s(Math.pow(e,6)),n=this,r="";;){var i=g(n,t).g,o=((0<(n=f(n,i.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(u(n=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return d(e=f(this,e))?-1:u(e)?0:1},e.abs=function(){return d(this)?h(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0,o=0;o<=t;o++){var s=i+(65535&this.i(o))+(65535&e.i(o)),a=(s>>>16)+(this.i(o)>>>16)+(e.i(o)>>>16);i=a>>>16,s&=65535,a&=65535,n[o]=a<<16|s}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return a;if(d(this))return d(e)?h(this).j(h(e)):h(h(this).j(e));if(d(e))return h(this.j(h(e)));if(0>this.l(c)&&0>e.l(c))return s(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var o=0;o<e.g.length;o++){var l=this.i(i)>>>16,f=65535&this.i(i),m=e.i(o)>>>16,g=65535&e.i(o);n[2*i+2*o]+=f*g,p(n,2*i+2*o),n[2*i+2*o+1]+=l*g,p(n,2*i+2*o+1),n[2*i+2*o+1]+=f*m,p(n,2*i+2*o+1),n[2*i+2*o+2]+=l*m,p(n,2*i+2*o+2)}for(i=0;i<t;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=t;i<2*t;i++)n[i]=0;return new r(n,0)},e.A=function(e){return g(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)&e.i(i);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)|e.i(i);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)^e.i(i);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,ic=sc.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=s,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return h(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=s(Math.pow(n,8)),i=a,o=0;o<t.length;o+=8){var l=Math.min(8,t.length-o),c=parseInt(t.substring(o,o+l),n);8>l?(l=s(Math.pow(n,l)),i=i.j(l).add(s(c))):i=(i=i.j(r)).add(s(c))}return i},rc=sc.Integer=r}).apply("undefined"!==typeof oc?oc:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var ac,lc,cc,uc,dc,hc,fc,pc,mc="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},gc={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof mc&&mc];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var i=n;e=e.split(".");for(var o=0;o<e.length-1;o++){var s=e[o];if(!(s in i))break e;i=i[s]}(r=r(o=i[e=e[e.length-1]]))!=o&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,(function(e,t){return t}))}}));var r=r||{},i=this||self;function o(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function s(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function a(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?a:l).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function d(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function h(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(o(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function p(e){return/^[\s\xa0]*$/.test(e)}function m(){var e=i.navigator;return e&&(e=e.userAgent)?e:""}function g(e){return g[" "](e),e}g[" "]=function(){};var y=-1!=m().indexOf("Gecko")&&!(-1!=m().toLowerCase().indexOf("webkit")&&-1==m().indexOf("Edge"))&&!(-1!=m().indexOf("Trident")||-1!=m().indexOf("MSIE"))&&-1==m().indexOf("Edge");function v(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function w(e){const t={};for(const n in e)t[n]=e[n];return t}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<b.length;t++)n=b[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function S(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function E(e){i.setTimeout((()=>{throw e}),0)}function k(){var e=A;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var I=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new T),(e=>e.reset()));class T{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let C,x=!1,A=new class{constructor(){this.h=this.g=null}add(e,t){const n=I.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},R=()=>{const e=i.Promise.resolve(void 0);C=()=>{e.then(P)}};var P=()=>{for(var e;e=k();){try{e.h.call(e.g)}catch(n){E(n)}var t=I;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}x=!1};function O(){this.s=this.s,this.C=this.C}function N(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}O.prototype.s=!1,O.prototype.ma=function(){this.s||(this.s=!0,this.N())},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},N.prototype.h=function(){this.defaultPrevented=!0};var D=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};i.addEventListener("test",e,t),i.removeEventListener("test",e,t)}catch(n){}return e}();function L(e,t){if(N.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(y){e:{try{g(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:M[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&L.aa.h.call(this)}}d(L,N);var M={2:"touch",3:"pen",4:"mouse"};L.prototype.h=function(){L.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var F="closure_listenable_"+(1e6*Math.random()|0),j=0;function U(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++j,this.da=this.fa=!1}function V(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function z(e){this.src=e,this.g={},this.h=0}function B(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=Array.prototype.indexOf.call(i,t,void 0);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(V(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function q(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.da&&o.listener==t&&o.capture==!!n&&o.ha==r)return i}return-1}z.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var s=q(e,t,r,i);return-1<s?(t=e[s],n||(t.fa=!1)):((t=new U(t,this.src,o,!!r,i)).fa=n,e.push(t)),t};var W="closure_lm_"+(1e6*Math.random()|0),H={};function K(e,t,n,r,i){if(r&&r.once)return Q(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)K(e,t[o],n,r,i);return null}return n=te(n),e&&e[F]?e.K(t,n,s(r)?!!r.capture:!!r,i):G(e,t,n,!1,r,i)}function G(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=s(i)?!!i.capture:!!i,l=Z(e);if(l||(e[W]=l=new z(e)),(n=l.add(t,n,r,a,o)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=X;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)D||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Y(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Q(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)Q(e,t[o],n,r,i);return null}return n=te(n),e&&e[F]?e.L(t,n,s(r)?!!r.capture:!!r,i):G(e,t,n,!0,r,i)}function $(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)$(e,t[o],n,r,i);else r=s(r)?!!r.capture:!!r,n=te(n),e&&e[F]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=q(o=e.g[t],n,r,i))&&(V(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--)))):e&&(e=Z(e))&&(t=e.g[t.toString()],e=-1,t&&(e=q(t,n,r,i)),(n=-1<e?t[e]:null)&&J(n))}function J(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[F])B(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Y(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Z(t))?(B(n,e),0==n.h&&(n.src=null,t[W]=null)):V(e)}}}function Y(e){return e in H?H[e]:H[e]="on"+e}function X(e,t){if(e.da)e=!0;else{t=new L(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&J(e),e=n.call(r,t)}return e}function Z(e){return(e=e[W])instanceof z?e:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(e){return"function"===typeof e?e:(e[ee]||(e[ee]=function(t){return e.handleEvent(t)}),e[ee])}function ne(){O.call(this),this.i=new z(this),this.M=this,this.F=null}function re(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new N(t,e);else if(t instanceof N)t.target=t.target||e;else{var i=t;_(t=new N(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=t.g=n[o];i=ie(s,r,!0,t)&&i}if(i=ie(s=t.g=e,r,!0,t)&&i,i=ie(s,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=ie(s=t.g=n[o],r,!1,t)&&i}function ie(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var s=t[o];if(s&&!s.da&&s.capture==n){var a=s.listener,l=s.ha||s.src;s.fa&&B(e.i,s),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}function oe(e,t,n){if("function"===typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:i.setTimeout(e,t||0)}function se(e){e.g=oe((()=>{e.g=null,e.i&&(e.i=!1,se(e))}),e.l);const t=e.h;e.h=null,e.m.apply(null,t)}d(ne,O),ne.prototype[F]=!0,ne.prototype.removeEventListener=function(e,t,n,r){$(this,e,t,n,r)},ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)V(n[r]);delete t.g[e],t.h--}}this.F=null},ne.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ne.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class ae extends O{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:se(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function le(e){O.call(this),this.h=e,this.g={}}d(le,O);var ce=[];function ue(e){v(e.g,(function(e,t){this.g.hasOwnProperty(t)&&J(e)}),e),e.g={}}le.prototype.N=function(){le.aa.N.call(this),ue(this)},le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var de=i.JSON.stringify,he=i.JSON.parse,fe=class{stringify(e){return i.JSON.stringify(e,void 0)}parse(e){return i.JSON.parse(e,void 0)}};function pe(){}function me(e){return e.h||(e.h=e.i())}function ge(){}pe.prototype.h=null;var ye={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ve(){N.call(this,"d")}function we(){N.call(this,"c")}d(ve,N),d(we,N);var be={},_e=null;function Se(){return _e=_e||new ne}function Ee(e){N.call(this,be.La,e)}function ke(e){const t=Se();re(t,new Ee(t))}function Ie(e,t){N.call(this,be.STAT_EVENT,e),this.stat=t}function Te(e){const t=Se();re(t,new Ie(t,e))}function Ce(e,t){N.call(this,be.Ma,e),this.size=t}function xe(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout((function(){e()}),t)}function Ae(){this.g=!0}function Re(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return de(n)}catch(a){return t}}(e,n)+(r?" "+r:"")}))}be.La="serverreachability",d(Ee,N),be.STAT_EVENT="statevent",d(Ie,N),be.Ma="timingevent",d(Ce,N),Ae.prototype.xa=function(){this.g=!1},Ae.prototype.info=function(){};var Pe,Oe={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ne={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function De(){}function Le(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new le(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Me}function Me(){this.i=null,this.g="",this.h=!1}d(De,pe),De.prototype.g=function(){return new XMLHttpRequest},De.prototype.i=function(){return{}},Pe=new De;var Fe={},je={};function Ue(e,t,n){e.L=1,e.v=dt(st(t)),e.m=n,e.P=!0,Ve(e,null)}function Ve(e,t){e.F=Date.now(),qe(e),e.A=st(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),It(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Me,e.g=fn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new ae(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var i="readystatechange";Array.isArray(i)||(i&&(ce[0]=i.toString()),i=ce);for(var o=0;o<i.length;o++){var s=K(n,i[o],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}t=e.H?w(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),ke(),function(e,t,n,r,i,o){e.info((function(){if(e.g)if(o)for(var s="",a=o.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");s=2<=d.length&&"type"==d[1]?s+(u+"=")+c+"&":s+(u+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+s}))}(e.i,e.u,e.A,e.l,e.R,e.m)}function ze(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function Be(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?je:(n=Number(t.substring(n,r)),isNaN(n)?Fe:(r+=1)+n>t.length?je:(t=t.slice(r,r+n),e.C=r+n,t))}function qe(e){e.S=Date.now()+e.I,We(e,e.I)}function We(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=xe(c(e.ba,e),t)}function He(e){e.B&&(i.clearTimeout(e.B),e.B=null)}function Ke(e){0==e.j.G||e.J||ln(e.j,e)}function Ge(e){He(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ue(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function Qe(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||Ze(n.h,e)))if(!e.K&&Ze(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;an(n),Jt(n)}rn(n),Te(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=xe(c(n.Za,n),6e3));if(1>=Xe(n.h)&&n.ca){try{n.ca()}catch(u){}n.ca=void 0}}else un(n,11)}else if((e.K||n.g==e)&&an(n),!p(t))for(i=n.Da.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const i=c[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var o=r.h;o.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(et(o,o.h),o.h=null))}if(r.D){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,ut(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var s=e;if((r=n).qa=hn(r,r.J?r.ia:null,r.W),s.K){tt(r.h,s);var a=s,l=r.L;l&&(a.I=l),a.B&&(He(a),qe(a)),r.g=s}else nn(r);0<n.i.length&&Xt(n)}else"stop"!=c[0]&&"close"!=c[0]||un(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?un(n,7):$t(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}ke()}catch(u){}}Le.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==Ht(e)?t.j():this.Y(e)},Le.prototype.Y=function(e){try{if(e==this.g)e:{const h=Ht(this.g);var t=this.g.Ba();this.g.Z();if(!(3>h)&&(3!=h||this.g&&(this.h.h||this.g.oa()||Kt(this.g)))){this.J||4!=h||7==t||ke(),He(this);var n=this.g.Z();this.X=n;t:if(ze(this)){var r=Kt(this.g);e="";var o=r.length,s=4==Ht(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ge(this),Ke(this);var a="";break t}this.h.i=new i.TextDecoder}for(t=0;t<o;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(s&&t==o-1)});r.length=0,this.h.g+=e,this.C=0,a=this.h.g}else a=this.g.oa();if(this.o=200==n,function(e,t,n,r,i,o,s){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+s}))}(this.i,this.u,this.A,this.l,this.R,h,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!p(l)){var u=l;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,Te(12),Ge(this),Ke(this);break e}Re(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Qe(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<a.length;){if(e=Be(this,a),e==je){4==h&&(this.s=4,Te(14),n=!1),Re(this.i,this.l,null,"[Incomplete Response]");break}if(e==Fe){this.s=4,Te(15),Re(this.i,this.l,a,"[Invalid Chunk]"),n=!1;break}Re(this.i,this.l,e,null),Qe(this,e)}if(ze(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=h||0!=a.length||this.h.h||(this.s=1,Te(16),n=!1),this.o=this.o&&n,n){if(0<a.length&&!this.W){this.W=!0;var d=this.j;d.g==this&&d.ba&&!d.M&&(d.j.info("Great, no buffering proxy detected. Bytes received: "+a.length),on(d),d.M=!0,Te(11))}}else Re(this.i,this.l,a,"[Invalid Chunked Response]"),Ge(this),Ke(this)}else Re(this.i,this.l,a,null),Qe(this,a);4==h&&Ge(this),this.o&&!this.J&&(4==h?ln(this.j,this):(this.o=!1,qe(this)))}else(function(e){const t={};e=(e.g&&2<=Ht(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(p(e[r]))continue;var n=S(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const o=t[i]||[];t[i]=o,o.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<a.indexOf("Unknown SID")?(this.s=3,Te(12)):(this.s=0,Te(13)),Ge(this),Ke(this)}}}catch(yc){}},Le.prototype.cancel=function(){this.J=!0,Ge(this)},Le.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.i,this.A),2!=this.L&&(ke(),Te(17)),Ge(this),this.s=2,Ke(this)):We(this,this.S-e)};var $e=class{constructor(e,t){this.g=e,this.map=t}};function Je(e){this.l=e||10,i.PerformanceNavigationTiming?e=0<(e=i.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ye(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Xe(e){return e.h?1:e.g?e.g.size:0}function Ze(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function et(e,t){e.g?e.g.add(t):e.h=t}function tt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function nt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return h(e.i)}function rt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(o(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(o(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(o(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}Je.prototype.cancel=function(){if(this.i=nt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var it=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ot(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof ot){this.h=e.h,at(this,e.j),this.o=e.o,this.g=e.g,lt(this,e.s),this.l=e.l;var t=e.i,n=new _t;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ct(this,n),this.m=e.m}else e&&(t=String(e).match(it))?(this.h=!1,at(this,t[1]||"",!0),this.o=ht(t[2]||""),this.g=ht(t[3]||"",!0),lt(this,t[4]),this.l=ht(t[5]||"",!0),ct(this,t[6]||"",!0),this.m=ht(t[7]||"")):(this.h=!1,this.i=new _t(null,this.h))}function st(e){return new ot(e)}function at(e,t,n){e.j=n?ht(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function lt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function ct(e,t,n){t instanceof _t?(e.i=t,function(e,t){t&&!e.j&&(St(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Et(this,t),It(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=ft(t,wt)),e.i=new _t(t,e.h))}function ut(e,t,n){e.i.set(t,n)}function dt(e){return ut(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ht(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ft(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,pt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function pt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}ot.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ft(t,gt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(ft(t,gt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ft(n,"/"==n.charAt(0)?vt:yt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",ft(n,bt)),e.join("")};var mt,gt=/[#\/\?@]/g,yt=/[#\?:]/g,vt=/[#\?]/g,wt=/[#\?@]/g,bt=/#/g;function _t(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function St(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Et(e,t){St(e),t=Tt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function kt(e,t){return St(e),t=Tt(e,t),e.g.has(t)}function It(e,t,n){Et(e,t),0<n.length&&(e.i=null,e.g.set(Tt(e,t),h(n)),e.h+=n.length)}function Tt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Ct(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(o){}}function xt(){this.g=new fe}function At(e,t,n){const r=n||"";try{rt(e,(function(e,n){let i=e;s(e)&&(i=de(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(HP){throw t.push(r+"type="+encodeURIComponent("_badmap")),HP}}function Rt(e){this.l=e.Ub||null,this.j=e.eb||!1}function Pt(e,t){ne.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Ot(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Nt(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Dt(e)}function Dt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Lt(e){let t="";return v(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Mt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Lt(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ut(e,t,n))}function Ft(e){ne.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=_t.prototype).add=function(e,t){St(this),this.i=null,e=Tt(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){St(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},e.na=function(){St(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},e.V=function(e){St(this);let t=[];if("string"===typeof e)kt(this,e)&&(t=t.concat(this.g.get(Tt(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return St(this),this.i=null,kt(this,e=Tt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const o=encodeURIComponent(String(r)),s=this.V(r);for(r=0;r<s.length;r++){var i=o;""!==s[r]&&(i+="="+encodeURIComponent(String(s[r]))),e.push(i)}}return this.i=e.join("&")},d(Rt,pe),Rt.prototype.g=function(){return new Pt(this.l,this.j)},Rt.prototype.i=(mt={},function(){return mt}),d(Pt,ne),(e=Pt.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Dt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||i).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Nt(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Dt(this)),this.g&&(this.readyState=3,Dt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ot(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Nt(this):Dt(this),3==this.readyState&&Ot(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Nt(this))},e.Qa=function(e){this.g&&(this.response=e,Nt(this))},e.ga=function(){this.g&&Nt(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Pt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),d(Ft,ne);var jt=/^https?$/i,Ut=["POST","PUT"];function Vt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,zt(e),qt(e)}function zt(e){e.A||(e.A=!0,re(e,"complete"),re(e,"error"))}function Bt(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=Ht(e)||2!=e.Z()))if(e.u&&4==Ht(e))oe(e.Ea,0,e);else if(re(e,"readystatechange"),4==Ht(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var o;if(o=0===r){var s=String(e.D).match(it)[1]||null;!s&&i.self&&i.self.location&&(s=i.self.location.protocol.slice(0,-1)),o=!jt.test(s?s.toLowerCase():"")}n=o}if(n)re(e,"complete"),re(e,"success");else{e.m=6;try{var a=2<Ht(e)?e.g.statusText:""}catch(l){a=""}e.l=a+" ["+e.Z()+"]",zt(e)}}finally{qt(e)}}}function qt(e,t){if(e.g){Wt(e);const n=e.g,r=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||re(e,"ready");try{n.onreadystatechange=r}catch(HP){}}}function Wt(e){e.I&&(i.clearTimeout(e.I),e.I=null)}function Ht(e){return e.g?e.g.readyState:0}function Kt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(bc){return null}}function Gt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Qt(e){this.Aa=0,this.i=[],this.j=new Ae,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Gt("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Gt("baseRetryDelayMs",5e3,e),this.cb=Gt("retryDelaySeedMs",1e4,e),this.Wa=Gt("forwardChannelMaxRetries",2,e),this.wa=Gt("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new Je(e&&e.concurrentRequestLimit),this.Da=new xt,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function $t(e){if(Yt(e),3==e.G){var t=e.U++,n=st(e.I);if(ut(n,"SID",e.K),ut(n,"RID",t),ut(n,"TYPE","terminate"),en(e,n),(t=new Le(e,e.j,t)).L=2,t.v=dt(st(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&i.Image&&((new Image).src=t.v,n=!0),n||(t.g=fn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),qe(t)}dn(e)}function Jt(e){e.g&&(on(e),e.g.cancel(),e.g=null)}function Yt(e){Jt(e),e.u&&(i.clearTimeout(e.u),e.u=null),an(e),e.h.cancel(),e.s&&("number"===typeof e.s&&i.clearTimeout(e.s),e.s=null)}function Xt(e){if(!Ye(e.h)&&!e.s){e.s=!0;var t=e.Ga;C||R(),x||(C(),x=!0),A.add(t,e),e.B=0}}function Zt(e,t){var n;n=t?t.l:e.U++;const r=st(e.I);ut(r,"SID",e.K),ut(r,"RID",n),ut(r,"AID",e.T),en(e,r),e.m&&e.o&&Mt(r,e.m,e.o),n=new Le(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=tn(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),et(e.h,n),Ue(n,r,t)}function en(e,t){e.H&&v(e.H,(function(e,n){ut(t,n,e)})),e.l&&rt({},(function(e,n){ut(t,n,e)}))}function tn(e,t,n){n=Math.min(e.i.length,n);var r=e.l?c(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let o=!0;for(let s=0;s<n;s++){let n=i[s].g;const a=i[s].map;if(n-=t,0>n)t=Math.max(0,i[s].g-100),o=!1;else try{At(a,e,"req"+n+"_")}catch(yc){r&&r(a)}}if(o){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function nn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;C||R(),x||(C(),x=!0),A.add(t,e),e.v=0}}function rn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=xe(c(e.Fa,e),cn(e,e.v)),e.v++,!0)}function on(e){null!=e.A&&(i.clearTimeout(e.A),e.A=null)}function sn(e){e.g=new Le(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=st(e.qa);ut(t,"RID","rpc"),ut(t,"SID",e.K),ut(t,"AID",e.T),ut(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&ut(t,"TO",e.ja),ut(t,"TYPE","xmlhttp"),en(e,t),e.m&&e.o&&Mt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=dt(st(t)),n.m=null,n.P=!0,Ve(n,e)}function an(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function ln(e,t){var n=null;if(e.g==t){an(e),on(e),e.g=null;var r=2}else{if(!Ze(e.h,t))return;n=t.D,tt(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var i=e.B;re(r=Se(),new Ce(r,n)),Xt(e)}else nn(e);else if(3==(i=t.s)||0==i&&0<t.X||!(1==r&&function(e,t){return!(Xe(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=xe(c(e.Ga,e,t),cn(e,e.B)),e.B++,!0))}(e,t)||2==r&&rn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:un(e,5);break;case 4:un(e,10);break;case 3:un(e,6);break;default:un(e,2)}}function cn(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function un(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),r=e.Xa;const t=!r;r=new ot(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||at(r,"https"),dt(r),t?function(e,t){const n=new Ae;if(i.Image){const r=new Image;r.onload=u(Ct,n,"TestLoadImage: loaded",!0,t,r),r.onerror=u(Ct,n,"TestLoadImage: error",!1,t,r),r.onabort=u(Ct,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=u(Ct,n,"TestLoadImage: timeout",!1,t,r),i.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Ae;const n=new AbortController,r=setTimeout((()=>{n.abort(),Ct(0,0,!1,t)}),1e4);fetch(e,{signal:n.signal}).then((e=>{clearTimeout(r),e.ok?Ct(0,0,!0,t):Ct(0,0,!1,t)})).catch((()=>{clearTimeout(r),Ct(0,0,!1,t)}))}(r.toString(),n)}else Te(2);e.G=0,e.l&&e.l.sa(t),dn(e),Yt(e)}function dn(e){if(e.G=0,e.ka=[],e.l){const t=nt(e.h);0==t.length&&0==e.i.length||(f(e.ka,t),f(e.ka,e.i),e.h.i.length=0,h(e.i),e.i.length=0),e.l.ra()}}function hn(e,t,n){var r=n instanceof ot?st(n):new ot(n);if(""!=r.g)t&&(r.g=t+"."+r.g),lt(r,r.s);else{var o=i.location;r=o.protocol,t=t?t+"."+o.hostname:o.hostname,o=+o.port;var s=new ot(null);r&&at(s,r),t&&(s.g=t),o&&lt(s,o),n&&(s.l=n),r=s}return n=e.D,t=e.ya,n&&t&&ut(r,n,t),ut(r,"VER",e.la),en(e,r),r}function fn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Ft(new Rt({eb:n})):new Ft(e.pa)).Ha(e.J),t}function pn(){}function mn(){}function gn(e,t){ne.call(this),this.g=new Qt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!p(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!p(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new wn(this)}function yn(e){ve.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function vn(){we.call(this),this.status=1}function wn(e){this.g=e}(e=Ft.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Pe.g(),this.v=this.o?me(this.o):me(Pe),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(s){return void Vt(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var o in r)n.set(o,r[o]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),o=i.FormData&&e instanceof i.FormData,!(0<=Array.prototype.indexOf.call(Ut,t,void 0))||r||o||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,a]of n)this.g.setRequestHeader(i,a);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Wt(this),this.u=!0,this.g.send(e),this.u=!1}catch(s){Vt(this,s)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,re(this,"complete"),re(this,"abort"),qt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),qt(this,!0)),Ft.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Bt(this):this.bb())},e.bb=function(){Bt(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<Ht(this)?this.g.status:-1}catch(mt){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(mt){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),he(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Qt.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){Te(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=hn(this,null,this.W),Xt(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new Le(this,this.j,e);let o=this.o;if(this.S&&(o?(o=w(o),_(o,this.S)):o=this.S),null!==this.m||this.O||(i.H=o,o=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=tn(this,i,t),ut(n=st(this.I),"RID",e),ut(n,"CVER",22),this.D&&ut(n,"X-HTTP-Session-Id",this.D),en(this,n),o&&(this.O?t="headers="+encodeURIComponent(String(Lt(o)))+"&"+t:this.m&&Mt(n,this.m,o)),et(this.h,i),this.Ua&&ut(n,"TYPE","init"),this.P?(ut(n,"$req",t),ut(n,"SID","null"),i.T=!0,Ue(i,n,null)):Ue(i,n,t),this.G=2}}else 3==this.G&&(e?Zt(this,e):0==this.i.length||Ye(this.h)||Zt(this))},e.Fa=function(){if(this.u=null,sn(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=xe(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Te(10),Jt(this),sn(this))},e.Za=function(){null!=this.C&&(this.C=null,Jt(this),rn(this),Te(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Te(2)):(this.j.info("Failed to ping google.com"),Te(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=pn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},mn.prototype.g=function(e,t){return new gn(e,t)},d(gn,ne),gn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){$t(this.g)},gn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=de(e),e=n);t.i.push(new $e(t.Ya++,e)),3==t.G&&Xt(t)},gn.prototype.N=function(){this.g.l=null,delete this.j,$t(this.g),delete this.g,gn.aa.N.call(this)},d(yn,ve),d(vn,we),d(wn,pn),wn.prototype.ua=function(){re(this.g,"a")},wn.prototype.ta=function(e){re(this.g,new yn(e))},wn.prototype.sa=function(e){re(this.g,new vn)},wn.prototype.ra=function(){re(this.g,"b")},mn.prototype.createWebChannel=mn.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,pc=gc.createWebChannelTransport=function(){return new mn},fc=gc.getStatEventTarget=function(){return Se()},hc=gc.Event=be,dc=gc.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Oe.NO_ERROR=0,Oe.TIMEOUT=8,Oe.HTTP_ERROR=6,uc=gc.ErrorCode=Oe,Ne.COMPLETE="complete",cc=gc.EventType=Ne,ge.EventType=ye,ye.OPEN="a",ye.CLOSE="b",ye.ERROR="c",ye.MESSAGE="d",ne.prototype.listen=ne.prototype.K,lc=gc.WebChannel=ge,gc.FetchXmlHttpFactory=Rt,Ft.prototype.listenOnce=Ft.prototype.L,Ft.prototype.getLastError=Ft.prototype.Ka,Ft.prototype.getLastErrorCode=Ft.prototype.Ba,Ft.prototype.getStatus=Ft.prototype.Z,Ft.prototype.getResponseJson=Ft.prototype.Oa,Ft.prototype.getResponseText=Ft.prototype.oa,Ft.prototype.send=Ft.prototype.ea,Ft.prototype.setWithCredentials=Ft.prototype.Ha,ac=gc.XhrIo=Ft}).apply("undefined"!==typeof mc?mc:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const yc="@firebase/firestore";class vc{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}vc.UNAUTHENTICATED=new vc(null),vc.GOOGLE_CREDENTIALS=new vc("google-credentials-uid"),vc.FIRST_PARTY=new vc("first-party-uid"),vc.MOCK_USER=new vc("mock-user");let wc="11.0.2";const bc=new Wn("@firebase/firestore");function _c(){return bc.logLevel}function Sc(e){if(bc.logLevel<=Un.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Ic);bc.debug("Firestore (".concat(wc,"): ").concat(e),...i)}}function Ec(e){if(bc.logLevel<=Un.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Ic);bc.error("Firestore (".concat(wc,"): ").concat(e),...i)}}function kc(e){if(bc.logLevel<=Un.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Ic);bc.warn("Firestore (".concat(wc,"): ").concat(e),...i)}}function Ic(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function Tc(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(wc,") INTERNAL ASSERTION FAILED: ")+e;throw Ec(t),new Error(t)}function Cc(e,t){e||Tc()}function xc(e,t){return e}const Ac={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Rc extends bn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class Pc{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class Oc{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class Nc{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(vc.UNAUTHENTICATED)))}shutdown(){}}class Dc{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class Lc{constructor(e){this.t=e,this.currentUser=vc.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Cc(void 0===this.o);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new Pc;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Pc,e.enqueueRetryable((()=>r(this.currentUser)))};const o=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},s=e=>{Sc("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((e=>s(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?s(e):(Sc("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Pc)}}),0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(Sc("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Cc("string"==typeof t.accessToken),new Oc(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Cc(null===e||"string"==typeof e),new vc(e)}}class Mc{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=vc.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class Fc{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new Mc(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(vc.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class jc{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Uc{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Cc(void 0===this.o);const n=e=>{null!=e.error&&Sc("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.R;return this.R=e.token,Sc("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{Sc("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):Sc("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(Cc("string"==typeof e.token),this.R=e.token,new jc(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Vc(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class zc{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=Vc(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function Bc(e,t){return e<t?-1:e>t?1:0}function qc(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}function Wc(e){return e+"\0"}class Hc{static now(){return Hc.fromMillis(Date.now())}static fromDate(e){return Hc.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new Hc(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Rc(Ac.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Rc(Ac.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Rc(Ac.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Rc(Ac.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Bc(this.nanoseconds,e.nanoseconds):Bc(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Kc{static fromTimestamp(e){return new Kc(e)}static min(){return new Kc(new Hc(0,0))}static max(){return new Kc(new Hc(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Gc{constructor(e,t,n){void 0===t?t=0:t>e.length&&Tc(),void 0===n?n=e.length-t:n>e.length-t&&Tc(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Gc.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Gc?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Qc extends Gc{construct(e,t,n){return new Qc(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new Rc(Ac.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter((e=>e.length>0)))}return new Qc(e)}static emptyPath(){return new Qc([])}}const $c=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Jc extends Gc{construct(e,t,n){return new Jc(e,t,n)}static isValidIdentifier(e){return $c.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Jc.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Jc(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Rc(Ac.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let o=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Rc(Ac.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Rc(Ac.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(o=!o,r++):"."!==t||o?(n+=t,r++):(i(),r++)}if(i(),o)throw new Rc(Ac.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Jc(t)}static emptyPath(){return new Jc([])}}class Yc{constructor(e){this.path=e}static fromPath(e){return new Yc(Qc.fromString(e))}static fromName(e){return new Yc(Qc.fromString(e).popFirst(5))}static empty(){return new Yc(Qc.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Qc.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Qc.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Yc(new Qc(e.slice()))}}class Xc{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}function Zc(e){return e.fields.find((e=>2===e.kind))}function eu(e){return e.fields.filter((e=>2!==e.kind))}Xc.UNKNOWN_ID=-1;class tu{constructor(e,t){this.fieldPath=e,this.kind=t}}class nu{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new nu(0,ou.min())}}function ru(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Kc.fromTimestamp(1e9===r?new Hc(n+1,0):new Hc(n,r));return new ou(i,Yc.empty(),t)}function iu(e){return new ou(e.readTime,e.key,-1)}class ou{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new ou(Kc.min(),Yc.empty(),-1)}static max(){return new ou(Kc.max(),Yc.empty(),-1)}}function su(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Yc.comparator(e.documentKey,t.documentKey),0!==n?n:Bc(e.largestBatchId,t.largestBatchId))}const au="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class lu{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function cu(e){if(e.code!==Ac.FAILED_PRECONDITION||e.message!==au)throw e;Sc("LocalStore","Unexpectedly lost primary lease")}class uu{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Tc(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new uu(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof uu?t:uu.resolve(t)}catch(e){return uu.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):uu.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):uu.reject(t)}static resolve(e){return new uu(((t,n)=>{t(e)}))}static reject(e){return new uu(((t,n)=>{n(e)}))}static waitFor(e){return new uu(((t,n)=>{let r=0,i=0,o=!1;e.forEach((e=>{++r,e.next((()=>{++i,o&&i===r&&t()}),(e=>n(e)))})),o=!0,i===r&&t()}))}static or(e){let t=uu.resolve(!1);for(const n of e)t=t.next((e=>e?uu.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new uu(((n,r)=>{const i=e.length,o=new Array(i);let s=0;for(let a=0;a<i;a++){const l=a;t(e[l]).next((e=>{o[l]=e,++s,s===i&&n(o)}),(e=>r(e)))}}))}static doWhile(e,t){return new uu(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}class du{static open(e,t,n,r){try{return new du(t,e.transaction(r,n))}catch(e){throw new mu(t,e)}}constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new Pc,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new mu(e,t.error)):this.V.resolve()},this.transaction.onerror=t=>{const n=bu(t.target.error);this.V.reject(new mu(e,n))}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(Sc("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new yu(t)}}class hu{static delete(e){return Sc("SimpleDb","Removing database:",e),vu(window.indexedDB.deleteDatabase(e)).toPromise()}static p(){if(!wn())return!1;if(hu.S())return!0;const e=hn(),t=hu.D(e),n=0<t&&t<10,r=fu(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static S(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.v)}static C(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}constructor(e,t,n){this.name=e,this.version=t,this.F=n,12.2===hu.D(hn())&&Ec("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async M(e){return this.db||(Sc("SimpleDb","Opening database:",this.name),this.db=await new Promise(((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{const n=e.target.result;t(n)},r.onblocked=()=>{n(new mu(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=t=>{const r=t.target.error;"VersionError"===r.name?n(new Rc(Ac.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===r.name?n(new Rc(Ac.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r)):n(new mu(e,r))},r.onupgradeneeded=e=>{Sc("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.F.O(t,r.transaction,e.oldVersion,this.version).next((()=>{Sc("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.N&&(this.db.onversionchange=e=>this.N(e)),this.db}L(e){this.N=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,r){const i="readonly"===t;let o=0;for(;;){++o;try{this.db=await this.M(e);const t=du.open(this.db,e,i?"readonly":"readwrite",n),o=r(t).next((e=>(t.g(),e))).catch((e=>(t.abort(e),uu.reject(e)))).toPromise();return o.catch((()=>{})),await t.m,o}catch(e){const t=e,n="FirebaseError"!==t.name&&o<3;if(Sc("SimpleDb","Transaction failed with error:",t.message,"Retrying:",n),this.close(),!n)return Promise.reject(t)}}}close(){this.db&&this.db.close(),this.db=void 0}}function fu(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class pu{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return vu(this.B.delete())}}class mu extends Rc{constructor(e,t){super(Ac.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(t)),this.name="IndexedDbTransactionError"}}function gu(e){return"IndexedDbTransactionError"===e.name}class yu{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(Sc("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Sc("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),vu(n)}add(e){return Sc("SimpleDb","ADD",this.store.name,e,e),vu(this.store.add(e))}get(e){return vu(this.store.get(e)).next((t=>(void 0===t&&(t=null),Sc("SimpleDb","GET",this.store.name,e,t),t)))}delete(e){return Sc("SimpleDb","DELETE",this.store.name,e),vu(this.store.delete(e))}count(){return Sc("SimpleDb","COUNT",this.store.name),vu(this.store.count())}U(e,t){const n=this.options(e,t),r=n.index?this.store.index(n.index):this.store;if("function"==typeof r.getAll){const e=r.getAll(n.range);return new uu(((t,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{t(e.target.result)}}))}{const e=this.cursor(n),t=[];return this.W(e,((e,n)=>{t.push(n)})).next((()=>t))}}G(e,t){const n=this.store.getAll(e,null===t?void 0:t);return new uu(((e,t)=>{n.onerror=e=>{t(e.target.error)},n.onsuccess=t=>{e(t.target.result)}}))}j(e,t){Sc("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.H=!1;const r=this.cursor(n);return this.W(r,((e,t,n)=>n.delete()))}J(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.W(r,t)}Y(e){const t=this.cursor({});return new uu(((n,r)=>{t.onerror=e=>{const t=bu(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next((e=>{e?r.continue():n()})):n()}}))}W(e,t){const n=[];return new uu(((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const o=new pu(i),s=t(i.primaryKey,i.value,o);if(s instanceof uu){const e=s.catch((e=>(o.done(),uu.reject(e))));n.push(e)}o.isDone?r():null===o.K?i.continue():i.continue(o.K)}})).next((()=>uu.waitFor(n)))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.H?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function vu(e){return new uu(((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=bu(e.target.error);n(t)}}))}let wu=!1;function bu(e){const t=hu.D(hn());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new Rc("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(t,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return wu||(wu=!0,setTimeout((()=>{throw e}),0)),e}}return e}class _u{constructor(e,t){this.asyncQueue=e,this.Z=t,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}X(e){Sc("IndexBackfiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{Sc("IndexBackfiller","Documents written: ".concat(await this.Z.ee()))}catch(e){gu(e)?Sc("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",e):await cu(e)}await this.X(6e4)}))}}class Su{constructor(e,t){this.localStore=e,this.persistence=t}async ee(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.te(t,e)))}te(e,t){const n=new Set;let r=t,i=!0;return uu.doWhile((()=>!0===i&&r>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((t=>{if(null!==t&&!n.has(t))return Sc("IndexBackfiller","Processing collection: ".concat(t)),this.ne(e,t,r).next((e=>{r-=e,n.add(t)}));i=!1})))).next((()=>t-r))}ne(e,t,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((r=>this.localStore.localDocuments.getNextDocuments(e,t,r,n).next((n=>{const i=n.changes;return this.localStore.indexManager.updateIndexEntries(e,i).next((()=>this.re(r,n))).next((n=>(Sc("IndexBackfiller","Updating offset: ".concat(n)),this.localStore.indexManager.updateCollectionGroup(e,t,n)))).next((()=>i.size))}))))}re(e,t){let n=e;return t.changes.forEach(((e,t)=>{const r=iu(t);su(r,n)>0&&(n=r)})),new ou(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}class Eu{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ie(e),this.se=e=>t.writeSequenceNumber(e))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}function ku(e){return null==e}function Iu(e){return 0===e&&1/e==-1/0}function Tu(e){return"number"==typeof e&&Number.isInteger(e)&&!Iu(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function Cu(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Au(t)),t=xu(e.get(n),t);return Au(t)}function xu(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=t}}return n}function Au(e){return e+"\x01\x01"}function Ru(e){const t=e.length;if(Cc(t>=2),2===t)return Cc("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Qc.emptyPath();const n=t-2,r=[];let i="";for(let o=0;o<t;){const t=e.indexOf("\x01",o);switch((t<0||t>n)&&Tc(),e.charAt(t+1)){case"\x01":const n=e.substring(o,t);let s;0===i.length?s=n:(i+=n,s=i,i=""),r.push(s);break;case"\x10":i+=e.substring(o,t),i+="\0";break;case"\x11":i+=e.substring(o,t+1);break;default:Tc()}o=t+2}return new Qc(r)}Eu.oe=-1;const Pu=["userId","batchId"];function Ou(e,t){return[e,Cu(t)]}function Nu(e,t,n){return[e,Cu(t),n]}const Du={},Lu=["prefixPath","collectionGroup","readTime","documentId"],Mu=["prefixPath","collectionGroup","documentId"],Fu=["collectionGroup","readTime","prefixPath","documentId"],ju=["canonicalId","targetId"],Uu=["targetId","path"],Vu=["path","targetId"],zu=["collectionId","parent"],Bu=["indexId","uid"],qu=["uid","sequenceNumber"],Wu=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Hu=["indexId","uid","orderedDocumentKey"],Ku=["userId","collectionPath","documentId"],Gu=["userId","collectionPath","largestBatchId"],Qu=["userId","collectionGroup","largestBatchId"],$u=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Ju=[...$u,"documentOverlays"],Yu=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Xu=Yu,Zu=[...Xu,"indexConfiguration","indexState","indexEntries"],ed=Zu,td=[...Zu,"globals"];class nd extends lu{constructor(e,t){super(),this._e=e,this.currentSequenceNumber=t}}function rd(e,t){const n=xc(e);return hu.C(n._e,t)}function id(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function od(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function sd(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class ad{constructor(e,t){this.comparator=e,this.root=t||cd.EMPTY}insert(e,t){return new ad(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,cd.BLACK,null,null))}remove(e){return new ad(this.comparator,this.root.remove(e,this.comparator).copy(null,null,cd.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push("".concat(t,":").concat(n)),!1))),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ld(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ld(this.root,e,this.comparator,!1)}getReverseIterator(){return new ld(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ld(this.root,e,this.comparator,!0)}}class ld{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class cd{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:cd.RED,this.left=null!=r?r:cd.EMPTY,this.right=null!=i?i:cd.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new cd(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return cd.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return cd.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,cd.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,cd.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Tc();if(this.right.isRed())throw Tc();const e=this.left.check();if(e!==this.right.check())throw Tc();return e+(this.isRed()?0:1)}}cd.EMPTY=null,cd.RED=!0,cd.BLACK=!1,cd.EMPTY=new class{constructor(){this.size=0}get key(){throw Tc()}get value(){throw Tc()}get color(){throw Tc()}get left(){throw Tc()}get right(){throw Tc()}copy(e,t,n,r,i){return this}insert(e,t,n){return new cd(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ud{constructor(e){this.comparator=e,this.data=new ad(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new dd(this.data.getIterator())}getIteratorFrom(e){return new dd(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof ud))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new ud(this.comparator);return t.data=e,t}}class dd{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function hd(e){return e.hasNext()?e.getNext():void 0}class fd{constructor(e){this.fields=e,e.sort(Jc.comparator)}static empty(){return new fd([])}unionWith(e){let t=new ud(Jc.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new fd(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return qc(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class pd extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class md{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new pd("Invalid base64 string: "+e):e}}(e);return new md(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new md(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Bc(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}md.EMPTY_BYTE_STRING=new md("");const gd=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function yd(e){if(Cc(!!e),"string"==typeof e){let t=0;const n=gd.exec(e);if(Cc(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:vd(e.seconds),nanos:vd(e.nanos)}}function vd(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function wd(e){return"string"==typeof e?md.fromBase64String(e):md.fromUint8Array(e)}function bd(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function _d(e){const t=e.mapValue.fields.__previous_value__;return bd(t)?_d(t):t}function Sd(e){const t=yd(e.mapValue.fields.__local_write_time__.timestampValue);return new Hc(t.seconds,t.nanos)}class Ed{constructor(e,t,n,r,i,o,s,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=a,this.useFetchStreams=l}}class kd{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new kd("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof kd&&e.projectId===this.projectId&&e.database===this.database}}const Id={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Td={nullValue:"NULL_VALUE"};function Cd(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?bd(e)?4:Wd(e)?9007199254740991:Bd(e)?10:11:Tc()}function xd(e,t){if(e===t)return!0;const n=Cd(e);if(n!==Cd(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Sd(e).isEqual(Sd(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=yd(e.timestampValue),r=yd(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return wd(e.bytesValue).isEqual(wd(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return vd(e.geoPointValue.latitude)===vd(t.geoPointValue.latitude)&&vd(e.geoPointValue.longitude)===vd(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return vd(e.integerValue)===vd(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=vd(e.doubleValue),r=vd(t.doubleValue);return n===r?Iu(n)===Iu(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return qc(e.arrayValue.values||[],t.arrayValue.values||[],xd);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(id(n)!==id(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!xd(n[i],r[i])))return!1;return!0}(e,t);default:return Tc()}}function Ad(e,t){return void 0!==(e.values||[]).find((e=>xd(e,t)))}function Rd(e,t){if(e===t)return 0;const n=Cd(e),r=Cd(t);if(n!==r)return Bc(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Bc(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=vd(e.integerValue||e.doubleValue),r=vd(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Pd(e.timestampValue,t.timestampValue);case 4:return Pd(Sd(e),Sd(t));case 5:return Bc(e.stringValue,t.stringValue);case 6:return function(e,t){const n=wd(e),r=wd(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=Bc(n[i],r[i]);if(0!==e)return e}return Bc(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Bc(vd(e.latitude),vd(t.latitude));return 0!==n?n:Bc(vd(e.longitude),vd(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Od(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,i,o;const s=e.fields||{},a=t.fields||{},l=null===(n=s.value)||void 0===n?void 0:n.arrayValue,c=null===(r=a.value)||void 0===r?void 0:r.arrayValue,u=Bc((null===(i=null==l?void 0:l.values)||void 0===i?void 0:i.length)||0,(null===(o=null==c?void 0:c.values)||void 0===o?void 0:o.length)||0);return 0!==u?u:Od(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===Id.mapValue&&t===Id.mapValue)return 0;if(e===Id.mapValue)return 1;if(t===Id.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(let s=0;s<r.length&&s<o.length;++s){const e=Bc(r[s],o[s]);if(0!==e)return e;const t=Rd(n[r[s]],i[o[s]]);if(0!==t)return t}return Bc(r.length,o.length)}(e.mapValue,t.mapValue);default:throw Tc()}}function Pd(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Bc(e,t);const n=yd(e),r=yd(t),i=Bc(n.seconds,r.seconds);return 0!==i?i:Bc(n.nanos,r.nanos)}function Od(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=Rd(n[i],r[i]);if(e)return e}return Bc(n.length,r.length)}function Nd(e){return Dd(e)}function Dd(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=yd(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return wd(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Yc.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Dd(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(Dd(e.fields[i]));return n+"}"}(e.mapValue):Tc()}function Ld(e){switch(Cd(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=_d(e);return t?16+Ld(t):16;case 5:return 2*e.stringValue.length;case 6:return wd(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce(((e,t)=>e+Ld(t)),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return od(e.fields,((e,n)=>{t+=e.length+Ld(n)})),t}(e.mapValue);default:throw Tc()}}function Md(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Fd(e){return!!e&&"integerValue"in e}function jd(e){return!!e&&"arrayValue"in e}function Ud(e){return!!e&&"nullValue"in e}function Vd(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function zd(e){return!!e&&"mapValue"in e}function Bd(e){var t,n;return"__vector__"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function qd(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return od(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=qd(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=qd(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Wd(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}const Hd={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function Kd(e){return"nullValue"in e?Td:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?Md(kd.empty(),Yc.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?Bd(e)?Hd:{mapValue:{}}:Tc()}function Gd(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?Md(kd.empty(),Yc.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?Hd:"mapValue"in e?Bd(e)?{mapValue:{}}:Id:Tc()}function Qd(e,t){const n=Rd(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function $d(e,t){const n=Rd(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}class Jd{constructor(e){this.value=e}static empty(){return new Jd({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!zd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=qd(t)}setAll(e){let t=Jc.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=qd(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());zd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return xd(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];zd(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){od(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new Jd(qd(this.value))}}function Yd(e){const t=[];return od(e.fields,((e,n)=>{const r=new Jc([e]);if(zd(n)){const e=Yd(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new fd(t)}class Xd{constructor(e,t,n,r,i,o,s){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=o,this.documentState=s}static newInvalidDocument(e){return new Xd(e,0,Kc.min(),Kc.min(),Kc.min(),Jd.empty(),0)}static newFoundDocument(e,t,n,r){return new Xd(e,1,t,Kc.min(),n,r,0)}static newNoDocument(e,t){return new Xd(e,2,t,Kc.min(),Kc.min(),Jd.empty(),0)}static newUnknownDocument(e,t){return new Xd(e,3,t,Kc.min(),Kc.min(),Jd.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Kc.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Jd.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Jd.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Kc.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Xd&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xd(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class Zd{constructor(e,t){this.position=e,this.inclusive=t}}function eh(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],s=e.position[i];if(r=o.field.isKeyField()?Yc.comparator(Yc.fromName(s.referenceValue),n.key):Rd(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function th(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!xd(e.position[n],t.position[n]))return!1;return!0}class nh{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function rh(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class ih{}class oh extends ih{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new mh(e,t,n):"array-contains"===t?new wh(e,n):"in"===t?new bh(e,n):"not-in"===t?new _h(e,n):"array-contains-any"===t?new Sh(e,n):new oh(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new gh(e,n):new yh(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Rd(t,this.value)):null!==t&&Cd(this.value)===Cd(t)&&this.matchesComparison(Rd(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Tc()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class sh extends ih{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new sh(e,t)}matches(e){return ah(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function ah(e){return"and"===e.op}function lh(e){return"or"===e.op}function ch(e){return uh(e)&&ah(e)}function uh(e){for(const t of e.filters)if(t instanceof sh)return!1;return!0}function dh(e){if(e instanceof oh)return e.field.canonicalString()+e.op.toString()+Nd(e.value);if(ch(e))return e.filters.map((e=>dh(e))).join(",");{const t=e.filters.map((e=>dh(e))).join(",");return"".concat(e.op,"(").concat(t,")")}}function hh(e,t){return e instanceof oh?function(e,t){return t instanceof oh&&e.op===t.op&&e.field.isEqual(t.field)&&xd(e.value,t.value)}(e,t):e instanceof sh?function(e,t){return t instanceof sh&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&hh(n,t.filters[r])),!0)}(e,t):void Tc()}function fh(e,t){const n=e.filters.concat(t);return sh.create(n,e.op)}function ph(e){return e instanceof oh?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Nd(e.value))}(e):e instanceof sh?function(e){return e.op.toString()+" {"+e.getFilters().map(ph).join(" ,")+"}"}(e):"Filter"}class mh extends oh{constructor(e,t,n){super(e,t,n),this.key=Yc.fromName(n.referenceValue)}matches(e){const t=Yc.comparator(e.key,this.key);return this.matchesComparison(t)}}class gh extends oh{constructor(e,t){super(e,"in",t),this.keys=vh("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class yh extends oh{constructor(e,t){super(e,"not-in",t),this.keys=vh("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function vh(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>Yc.fromName(e.referenceValue)))}class wh extends oh{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return jd(t)&&Ad(t.arrayValue,this.value)}}class bh extends oh{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Ad(this.value.arrayValue,t)}}class _h extends oh{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ad(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Ad(this.value.arrayValue,t)}}class Sh extends oh{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!jd(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>Ad(this.value.arrayValue,e)))}}class Eh{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.ue=null}}function kh(e){return new Eh(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Ih(e){const t=xc(e);if(null===t.ue){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>dh(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),ku(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>Nd(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>Nd(e))).join(",")),t.ue=e}return t.ue}function Th(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!rh(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!hh(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!th(e.startAt,t.startAt)&&th(e.endAt,t.endAt)}function Ch(e){return Yc.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function xh(e,t){return e.filters.filter((e=>e instanceof oh&&e.field.isEqual(t)))}function Ah(e,t,n){let r=Td,i=!0;for(const o of xh(e,t)){let e=Td,t=!0;switch(o.op){case"<":case"<=":e=Kd(o.value);break;case"==":case"in":case">=":e=o.value;break;case">":e=o.value,t=!1;break;case"!=":case"not-in":e=Td}Qd({value:r,inclusive:i},{value:e,inclusive:t})<0&&(r=e,i=t)}if(null!==n)for(let o=0;o<e.orderBy.length;++o)if(e.orderBy[o].field.isEqual(t)){const e=n.position[o];Qd({value:r,inclusive:i},{value:e,inclusive:n.inclusive})<0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}function Rh(e,t,n){let r=Id,i=!0;for(const o of xh(e,t)){let e=Id,t=!0;switch(o.op){case">=":case">":e=Gd(o.value),t=!1;break;case"==":case"in":case"<=":e=o.value;break;case"<":e=o.value,t=!1;break;case"!=":case"not-in":e=Id}$d({value:r,inclusive:i},{value:e,inclusive:t})>0&&(r=e,i=t)}if(null!==n)for(let o=0;o<e.orderBy.length;++o)if(e.orderBy[o].field.isEqual(t)){const e=n.position[o];$d({value:r,inclusive:i},{value:e,inclusive:n.inclusive})>0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}class Ph{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Oh(e,t,n,r,i,o,s,a){return new Ph(e,t,n,r,i,o,s,a)}function Nh(e){return new Ph(e)}function Dh(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Lh(e){return null!==e.collectionGroup}function Mh(e){const t=xc(e);if(null===t.ce){t.ce=[];const e=new Set;for(const i of t.explicitOrderBy)t.ce.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new ud(Jc.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.ce.push(new nh(r,n))})),e.has(Jc.keyField().canonicalString())||t.ce.push(new nh(Jc.keyField(),n))}return t.ce}function Fh(e){const t=xc(e);return t.le||(t.le=jh(t,Mh(e))),t.le}function jh(e,t){if("F"===e.limitType)return kh(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new nh(e.field,t)}));const n=e.endAt?new Zd(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Zd(e.startAt.position,e.startAt.inclusive):null;return kh(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Uh(e,t){const n=e.filters.concat([t]);return new Ph(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Vh(e,t,n){return new Ph(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function zh(e,t){return Th(Fh(e),Fh(t))&&e.limitType===t.limitType}function Bh(e){return"".concat(Ih(Fh(e)),"|lt:").concat(e.limitType)}function qh(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((e=>ph(e))).join(", "),"]")),ku(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e))).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>Nd(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>Nd(e))).join(",")),"Target(".concat(t,")")}(Fh(e)),"; limitType=").concat(e.limitType,")")}function Wh(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Yc.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Mh(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=eh(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Mh(e),t))&&!(e.endAt&&!function(e,t,n){const r=eh(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Mh(e),t))}(e,t)}function Hh(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Kh(e){return(t,n)=>{let r=!1;for(const i of Mh(e)){const e=Gh(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Gh(e,t,n){const r=e.field.isKeyField()?Yc.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Rd(r,i):Tc()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Tc()}}class Qh{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){od(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return sd(this.inner)}size(){return this.innerSize}}const $h=new ad(Yc.comparator);function Jh(){return $h}const Yh=new ad(Yc.comparator);function Xh(){let e=Yh;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function Zh(e){let t=Yh;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function ef(){return nf()}function tf(){return nf()}function nf(){return new Qh((e=>e.toString()),((e,t)=>e.isEqual(t)))}const rf=new ad(Yc.comparator),of=new ud(Yc.comparator);function sf(){let e=of;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const af=new ud(Bc);function lf(){return af}function cf(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Iu(t)?"-0":t}}function uf(e){return{integerValue:""+e}}function df(e,t){return Tu(t)?uf(t):cf(e,t)}class hf{constructor(){this._=void 0}}function ff(e,t,n){return e instanceof gf?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&bd(t)&&(t=_d(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof yf?vf(e,t):e instanceof wf?bf(e,t):function(e,t){const n=mf(e,t),r=Sf(n)+Sf(e.Pe);return Fd(n)&&Fd(e.Pe)?uf(r):cf(e.serializer,r)}(e,t)}function pf(e,t,n){return e instanceof yf?vf(e,t):e instanceof wf?bf(e,t):n}function mf(e,t){return e instanceof _f?function(e){return Fd(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class gf extends hf{}class yf extends hf{constructor(e){super(),this.elements=e}}function vf(e,t){const n=Ef(t);for(const r of e.elements)n.some((e=>xd(e,r)))||n.push(r);return{arrayValue:{values:n}}}class wf extends hf{constructor(e){super(),this.elements=e}}function bf(e,t){let n=Ef(t);for(const r of e.elements)n=n.filter((e=>!xd(e,r)));return{arrayValue:{values:n}}}class _f extends hf{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function Sf(e){return vd(e.integerValue||e.doubleValue)}function Ef(e){return jd(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class kf{constructor(e,t){this.field=e,this.transform=t}}class If{constructor(e,t){this.version=e,this.transformResults=t}}class Tf{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Tf}static exists(e){return new Tf(void 0,e)}static updateTime(e){return new Tf(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Cf(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class xf{}function Af(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Uf(e.key,Tf.none()):new Df(e.key,e.data,Tf.none());{const n=e.data,r=Jd.empty();let i=new ud(Jc.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new Lf(e.key,r,new fd(i.toArray()),Tf.none())}}function Rf(e,t,n){e instanceof Df?function(e,t,n){const r=e.value.clone(),i=Ff(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Lf?function(e,t,n){if(!Cf(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Ff(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Mf(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Pf(e,t,n,r){return e instanceof Df?function(e,t,n,r){if(!Cf(e.precondition,t))return n;const i=e.value.clone(),o=jf(e.fieldTransforms,r,t);return i.setAll(o),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Lf?function(e,t,n,r){if(!Cf(e.precondition,t))return n;const i=jf(e.fieldTransforms,r,t),o=t.data;return o.setAll(Mf(e)),o.setAll(i),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return Cf(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Of(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=mf(r.transform,e||null);null!=i&&(null===n&&(n=Jd.empty()),n.set(r.field,i))}return n||null}function Nf(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&qc(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof yf&&t instanceof yf||e instanceof wf&&t instanceof wf?qc(e.elements,t.elements,xd):e instanceof _f&&t instanceof _f?xd(e.Pe,t.Pe):e instanceof gf&&t instanceof gf}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Df extends xf{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Lf extends xf{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Mf(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function Ff(e,t,n){const r=new Map;Cc(e.length===n.length);for(let i=0;i<n.length;i++){const o=e[i],s=o.transform,a=t.data.field(o.field);r.set(o.field,pf(s,a,n[i]))}return r}function jf(e,t,n){const r=new Map;for(const i of e){const e=i.transform,o=n.data.field(i.field);r.set(i.field,ff(e,o,t))}return r}class Uf extends xf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Vf extends xf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class zf{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Rf(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Pf(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Pf(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=tf();return this.mutations.forEach((r=>{const i=e.get(r.key),o=i.overlayedDocument;let s=this.applyToLocalView(o,i.mutatedFields);s=t.has(r.key)?null:s;const a=Af(o,s);null!==a&&n.set(r.key,a),o.isValidDocument()||o.convertToNoDocument(Kc.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),sf())}isEqual(e){return this.batchId===e.batchId&&qc(this.mutations,e.mutations,((e,t)=>Nf(e,t)))&&qc(this.baseMutations,e.baseMutations,((e,t)=>Nf(e,t)))}}class Bf{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Cc(e.mutations.length===n.length);let r=rf;const i=e.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,n[o].version);return new Bf(e,t,n,r)}}class qf{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class Wf{constructor(e,t){this.count=e,this.unchangedNames=t}}var Hf,Kf;function Gf(e){switch(e){default:return Tc();case Ac.CANCELLED:case Ac.UNKNOWN:case Ac.DEADLINE_EXCEEDED:case Ac.RESOURCE_EXHAUSTED:case Ac.INTERNAL:case Ac.UNAVAILABLE:case Ac.UNAUTHENTICATED:return!1;case Ac.INVALID_ARGUMENT:case Ac.NOT_FOUND:case Ac.ALREADY_EXISTS:case Ac.PERMISSION_DENIED:case Ac.FAILED_PRECONDITION:case Ac.ABORTED:case Ac.OUT_OF_RANGE:case Ac.UNIMPLEMENTED:case Ac.DATA_LOSS:return!0}}function Qf(e){if(void 0===e)return Ec("GRPC error has no .code"),Ac.UNKNOWN;switch(e){case Hf.OK:return Ac.OK;case Hf.CANCELLED:return Ac.CANCELLED;case Hf.UNKNOWN:return Ac.UNKNOWN;case Hf.DEADLINE_EXCEEDED:return Ac.DEADLINE_EXCEEDED;case Hf.RESOURCE_EXHAUSTED:return Ac.RESOURCE_EXHAUSTED;case Hf.INTERNAL:return Ac.INTERNAL;case Hf.UNAVAILABLE:return Ac.UNAVAILABLE;case Hf.UNAUTHENTICATED:return Ac.UNAUTHENTICATED;case Hf.INVALID_ARGUMENT:return Ac.INVALID_ARGUMENT;case Hf.NOT_FOUND:return Ac.NOT_FOUND;case Hf.ALREADY_EXISTS:return Ac.ALREADY_EXISTS;case Hf.PERMISSION_DENIED:return Ac.PERMISSION_DENIED;case Hf.FAILED_PRECONDITION:return Ac.FAILED_PRECONDITION;case Hf.ABORTED:return Ac.ABORTED;case Hf.OUT_OF_RANGE:return Ac.OUT_OF_RANGE;case Hf.UNIMPLEMENTED:return Ac.UNIMPLEMENTED;case Hf.DATA_LOSS:return Ac.DATA_LOSS;default:return Tc()}}(Kf=Hf||(Hf={}))[Kf.OK=0]="OK",Kf[Kf.CANCELLED=1]="CANCELLED",Kf[Kf.UNKNOWN=2]="UNKNOWN",Kf[Kf.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Kf[Kf.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Kf[Kf.NOT_FOUND=5]="NOT_FOUND",Kf[Kf.ALREADY_EXISTS=6]="ALREADY_EXISTS",Kf[Kf.PERMISSION_DENIED=7]="PERMISSION_DENIED",Kf[Kf.UNAUTHENTICATED=16]="UNAUTHENTICATED",Kf[Kf.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Kf[Kf.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Kf[Kf.ABORTED=10]="ABORTED",Kf[Kf.OUT_OF_RANGE=11]="OUT_OF_RANGE",Kf[Kf.UNIMPLEMENTED=12]="UNIMPLEMENTED",Kf[Kf.INTERNAL=13]="INTERNAL",Kf[Kf.UNAVAILABLE=14]="UNAVAILABLE",Kf[Kf.DATA_LOSS=15]="DATA_LOSS";let $f=null;function Jf(){return new TextEncoder}const Yf=new rc([4294967295,4294967295],0);function Xf(e){const t=Jf().encode(e),n=new ic;return n.update(t),new Uint8Array(n.digest())}function Zf(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new rc([n,r],0),new rc([i,o],0)]}class ep{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new tp("Invalid padding: ".concat(t));if(n<0)throw new tp("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new tp("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new tp("Invalid padding when bitmap length is 0: ".concat(t));this.Te=8*e.length-t,this.Ie=rc.fromNumber(this.Te)}Ee(e,t,n){let r=e.add(t.multiply(rc.fromNumber(n)));return 1===r.compare(Yf)&&(r=new rc([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ie).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const t=Xf(e),[n,r]=Zf(t);for(let i=0;i<this.hashCount;i++){const e=this.Ee(n,r,i);if(!this.de(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new ep(i,r,t);return n.forEach((e=>o.insert(e))),o}insert(e){if(0===this.Te)return;const t=Xf(e),[n,r]=Zf(t);for(let i=0;i<this.hashCount;i++){const e=this.Ee(n,r,i);this.Ae(e)}}Ae(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class tp extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class np{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,rp.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new np(Kc.min(),r,new ad(Bc),Jh(),sf())}}class rp{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new rp(n,t,sf(),sf(),sf())}}class ip{constructor(e,t,n,r){this.Re=e,this.removedTargetIds=t,this.key=n,this.Ve=r}}class op{constructor(e,t){this.targetId=e,this.me=t}}class sp{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:md.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class ap{constructor(){this.fe=0,this.ge=up(),this.pe=md.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=sf(),t=sf(),n=sf();return this.ge.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Tc()}})),new rp(this.pe,this.ye,e,t,n)}Ce(){this.we=!1,this.ge=up()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Cc(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class lp{constructor(e){this.Le=e,this.Be=new Map,this.ke=Jh(),this.qe=cp(),this.Qe=cp(),this.Ke=new ad(Bc)}$e(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(t,e.Ve):this.We(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.We(t,e.key,e.Ve)}Ge(e){this.forEachTarget(e,(t=>{const n=this.ze(t);switch(e.state){case 0:this.je(t)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(t);break;case 3:this.je(t)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),n.De(e.resumeToken));break;default:Tc()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach(((e,n)=>{this.je(n)&&t(n)}))}Je(e){const t=e.targetId,n=e.me.count,r=this.Ye(t);if(r){const i=r.target;if(Ch(i))if(0===n){const e=new Yc(i.path);this.We(t,e,Xd.newNoDocument(e,Kc.min()))}else Cc(1===n);else{const r=this.Ze(t);if(r!==n){const n=this.Xe(e),i=n?this.et(n,e,r):1;if(0!==i){this.He(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,e)}null==$f||$f.tt(function(e,t,n,r,i){var o,s,a,l,c,u;const d={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(d.bloomFilter={applied:0===i,hashCount:null!==(o=null==h?void 0:h.hashCount)&&void 0!==o?o:0,bitmapLength:null!==(l=null===(a=null===(s=null==h?void 0:h.bits)||void 0===s?void 0:s.bitmap)||void 0===a?void 0:a.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==h?void 0:h.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),d}(r,e.me,this.Le.nt(),n,i))}}}}Xe(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let o,s;try{o=wd(n).toUint8Array()}catch(e){if(e instanceof pd)return kc("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{s=new ep(o,r,i)}catch(e){return kc(e instanceof tp?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===s.Te?null:s}et(e,t,n){return t.me.count===n-this.rt(e,t.targetId)?0:2}rt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.Le.nt(),o="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(o)||(this.We(t,n,null),r++)})),r}it(e){const t=new Map;this.Be.forEach(((n,r)=>{const i=this.Ye(r);if(i){if(n.current&&Ch(i.target)){const t=new Yc(i.target.path);this.st(t).has(r)||this.ot(r,t)||this.We(r,t,Xd.newNoDocument(t,e))}n.be&&(t.set(r,n.ve()),n.Ce())}}));let n=sf();this.Qe.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Ye(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.ke.forEach(((t,n)=>n.setReadTime(e)));const r=new np(e,t,this.Ke,this.ke,n);return this.ke=Jh(),this.qe=cp(),this.Qe=cp(),this.Ke=new ad(Bc),r}Ue(e,t){if(!this.je(e))return;const n=this.ot(e,t.key)?2:0;this.ze(e).Fe(t.key,n),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e)),this.Qe=this.Qe.insert(t.key,this._t(t.key).add(e))}We(e,t,n){if(!this.je(e))return;const r=this.ze(e);this.ot(e,t)?r.Fe(t,1):r.Me(t),this.Qe=this.Qe.insert(t,this._t(t).delete(e)),this.Qe=this.Qe.insert(t,this._t(t).add(e)),n&&(this.ke=this.ke.insert(t,n))}removeTarget(e){this.Be.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let t=this.Be.get(e);return t||(t=new ap,this.Be.set(e,t)),t}_t(e){let t=this.Qe.get(e);return t||(t=new ud(Bc),this.Qe=this.Qe.insert(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new ud(Bc),this.qe=this.qe.insert(e,t)),t}je(e){const t=null!==this.Ye(e);return t||Sc("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new ap),this.Le.getRemoteKeysForTarget(e).forEach((t=>{this.We(e,t,null)}))}ot(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function cp(){return new ad(Yc.comparator)}function up(){return new ad(Yc.comparator)}const dp={asc:"ASCENDING",desc:"DESCENDING"},hp={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},fp={and:"AND",or:"OR"};class pp{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function mp(e,t){return e.useProto3Json||ku(t)?t:{value:t}}function gp(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function yp(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function vp(e,t){return gp(e,t.toTimestamp())}function wp(e){return Cc(!!e),Kc.fromTimestamp(function(e){const t=yd(e);return new Hc(t.seconds,t.nanos)}(e))}function bp(e,t){return _p(e,t).canonicalString()}function _p(e,t){const n=function(e){return new Qc(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function Sp(e){const t=Qc.fromString(e);return Cc(Wp(t)),t}function Ep(e,t){return bp(e.databaseId,t.path)}function kp(e,t){const n=Sp(t);if(n.get(1)!==e.databaseId.projectId)throw new Rc(Ac.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Rc(Ac.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Yc(xp(n))}function Ip(e,t){return bp(e.databaseId,t)}function Tp(e){const t=Sp(e);return 4===t.length?Qc.emptyPath():xp(t)}function Cp(e){return new Qc(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function xp(e){return Cc(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Ap(e,t,n){return{name:Ep(e,t),fields:n.value.mapValue.fields}}function Rp(e,t,n){const r=kp(e,t.name),i=wp(t.updateTime),o=t.createTime?wp(t.createTime):Kc.min(),s=new Jd({mapValue:{fields:t.fields}}),a=Xd.newFoundDocument(r,i,o,s);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function Pp(e,t){let n;if(t instanceof Df)n={update:Ap(e,t.key,t.value)};else if(t instanceof Uf)n={delete:Ep(e,t.key)};else if(t instanceof Lf)n={update:Ap(e,t.key,t.data),updateMask:qp(t.fieldMask)};else{if(!(t instanceof Vf))return Tc();n={verify:Ep(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof gf)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof yf)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof wf)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof _f)return{fieldPath:t.field.canonicalString(),increment:n.Pe};throw Tc()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:vp(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Tc()}(e,t.precondition)),n}function Op(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?Tf.updateTime(wp(e.updateTime)):void 0!==e.exists?Tf.exists(e.exists):Tf.none()}(t.currentDocument):Tf.none(),r=t.updateTransforms?t.updateTransforms.map((t=>function(e,t){let n=null;if("setToServerValue"in t)Cc("REQUEST_TIME"===t.setToServerValue),n=new gf;else if("appendMissingElements"in t){const e=t.appendMissingElements.values||[];n=new yf(e)}else if("removeAllFromArray"in t){const e=t.removeAllFromArray.values||[];n=new wf(e)}else"increment"in t?n=new _f(e,t.increment):Tc();const r=Jc.fromServerFormat(t.fieldPath);return new kf(r,n)}(e,t))):[];if(t.update){t.update.name;const i=kp(e,t.update.name),o=new Jd({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){const t=e.fieldPaths||[];return new fd(t.map((e=>Jc.fromServerFormat(e))))}(t.updateMask);return new Lf(i,o,e,n,r)}return new Df(i,o,n,r)}if(t.delete){const r=kp(e,t.delete);return new Uf(r,n)}if(t.verify){const r=kp(e,t.verify);return new Vf(r,n)}return Tc()}function Np(e,t){return{documents:[Ip(e,t.path)]}}function Dp(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Ip(e,i);const o=function(e){if(0!==e.length)return Bp(sh.create(e,"and"))}(t.filters);o&&(n.structuredQuery.where=o);const s=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:Vp(e.field),direction:Fp(e.dir)}}(e)))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const a=mp(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ct:n,parent:i}}function Lp(e){let t=Tp(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Cc(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let o=[];n.where&&(o=function(e){const t=Mp(e);return t instanceof sh&&ch(t)?t.getFilters():[t]}(n.where));let s=[];n.orderBy&&(s=function(e){return e.map((e=>function(e){return new nh(zp(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,ku(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new Zd(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new Zd(n,t)}(n.endAt)),Oh(t,i,s,o,a,"F",l,c)}function Mp(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=zp(e.unaryFilter.field);return oh.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=zp(e.unaryFilter.field);return oh.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=zp(e.unaryFilter.field);return oh.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=zp(e.unaryFilter.field);return oh.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Tc()}}(e):void 0!==e.fieldFilter?function(e){return oh.create(zp(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Tc()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return sh.create(e.compositeFilter.filters.map((e=>Mp(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Tc()}}(e.compositeFilter.op))}(e):Tc()}function Fp(e){return dp[e]}function jp(e){return hp[e]}function Up(e){return fp[e]}function Vp(e){return{fieldPath:e.canonicalString()}}function zp(e){return Jc.fromServerFormat(e.fieldPath)}function Bp(e){return e instanceof oh?function(e){if("=="===e.op){if(Vd(e.value))return{unaryFilter:{field:Vp(e.field),op:"IS_NAN"}};if(Ud(e.value))return{unaryFilter:{field:Vp(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Vd(e.value))return{unaryFilter:{field:Vp(e.field),op:"IS_NOT_NAN"}};if(Ud(e.value))return{unaryFilter:{field:Vp(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vp(e.field),op:jp(e.op),value:e.value}}}(e):e instanceof sh?function(e){const t=e.getFilters().map((e=>Bp(e)));return 1===t.length?t[0]:{compositeFilter:{op:Up(e.op),filters:t}}}(e):Tc()}function qp(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function Wp(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Hp{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Kc.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Kc.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:md.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=a}withSequenceNumber(e){return new Hp(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Hp(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Hp(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Hp(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Kp{constructor(e){this.ht=e}}function Gp(e,t){const n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Qp(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:Ep(e,t.key),fields:t.data.value.mapValue.fields,updateTime:gp(e,t.version.toTimestamp()),createTime:gp(e,t.createTime.toTimestamp())}}(e.ht,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:$p(t.version)};else{if(!t.isUnknownDocument())return Tc();r.unknownDocument={path:n.path.toArray(),version:$p(t.version)}}return r}function Qp(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function $p(e){const t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Jp(e){const t=new Hc(e.seconds,e.nanoseconds);return Kc.fromTimestamp(t)}function Yp(e,t){const n=(t.baseMutations||[]).map((t=>Op(e.ht,t)));for(let o=0;o<t.mutations.length-1;++o){const e=t.mutations[o];if(o+1<t.mutations.length&&void 0!==t.mutations[o+1].transform){const n=t.mutations[o+1];e.updateTransforms=n.transform.fieldTransforms,t.mutations.splice(o+1,1),++o}}const r=t.mutations.map((t=>Op(e.ht,t))),i=Hc.fromMillis(t.localWriteTimeMs);return new zf(t.batchId,i,n,r)}function Xp(e){const t=Jp(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?Jp(e.lastLimboFreeSnapshotVersion):Kc.min();let r;return r=function(e){return void 0!==e.documents}(e.query)?function(e){return Cc(1===e.documents.length),Fh(Nh(Tp(e.documents[0])))}(e.query):function(e){return Fh(Lp(e))}(e.query),new Hp(r,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,t,n,md.fromBase64String(e.resumeToken))}function Zp(e,t){const n=$p(t.snapshotVersion),r=$p(t.lastLimboFreeSnapshotVersion);let i;i=Ch(t.target)?Np(e.ht,t.target):Dp(e.ht,t.target).ct;const o=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Ih(t.target),readTime:n,resumeToken:o,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function em(e){const t=Lp({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Vh(t,t.limit,"L"):t}function tm(e,t){return new qf(t.largestBatchId,Op(e.ht,t.overlayMutation))}function nm(e,t){const n=t.path.lastSegment();return[e,Cu(t.path.popLast()),n]}function rm(e,t,n,r){return{indexId:e,uid:t,sequenceNumber:n,readTime:$p(r.readTime),documentKey:Cu(r.documentKey.path),largestBatchId:r.largestBatchId}}class im{getBundleMetadata(e,t){return om(e).get(t).next((e=>{if(e)return function(e){return{id:e.bundleId,createTime:Jp(e.createTime),version:e.version}}(e)}))}saveBundleMetadata(e,t){return om(e).put(function(e){return{bundleId:e.id,createTime:$p(wp(e.createTime)),version:e.version}}(t))}getNamedQuery(e,t){return sm(e).get(t).next((e=>{if(e)return function(e){return{name:e.name,query:em(e.bundledQuery),readTime:Jp(e.readTime)}}(e)}))}saveNamedQuery(e,t){return sm(e).put(function(e){return{name:e.name,readTime:$p(wp(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function om(e){return rd(e,"bundles")}function sm(e){return rd(e,"namedQueries")}class am{constructor(e,t){this.serializer=e,this.userId=t}static Pt(e,t){const n=t.uid||"";return new am(e,n)}getOverlay(e,t){return lm(e).get(nm(this.userId,t)).next((e=>e?tm(this.serializer,e):null))}getOverlays(e,t){const n=ef();return uu.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){const r=[];return n.forEach(((n,i)=>{const o=new qf(t,i);r.push(this.Tt(e,o))})),uu.waitFor(r)}removeOverlaysForBatchId(e,t,n){const r=new Set;t.forEach((e=>r.add(Cu(e.getCollectionPath()))));const i=[];return r.forEach((t=>{const r=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,n+1],!1,!0);i.push(lm(e).j("collectionPathOverlayIndex",r))})),uu.waitFor(i)}getOverlaysForCollection(e,t,n){const r=ef(),i=Cu(t),o=IDBKeyRange.bound([this.userId,i,n],[this.userId,i,Number.POSITIVE_INFINITY],!0);return lm(e).U("collectionPathOverlayIndex",o).next((e=>{for(const t of e){const e=tm(this.serializer,t);r.set(e.getKey(),e)}return r}))}getOverlaysForCollectionGroup(e,t,n,r){const i=ef();let o;const s=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return lm(e).J({index:"collectionGroupOverlayIndex",range:s},((e,t,n)=>{const s=tm(this.serializer,t);i.size()<r||s.largestBatchId===o?(i.set(s.getKey(),s),o=s.largestBatchId):n.done()})).next((()=>i))}Tt(e,t){return lm(e).put(function(e,t,n){const[r,i,o]=nm(t,n.mutation.key);return{userId:t,collectionPath:i,documentId:o,collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:Pp(e.ht,n.mutation)}}(this.serializer,this.userId,t))}}function lm(e){return rd(e,"documentOverlays")}class cm{It(e){return rd(e,"globals")}getSessionToken(e){return this.It(e).get("sessionToken").next((e=>{const t=null==e?void 0:e.value;return t?md.fromUint8Array(t):md.EMPTY_BYTE_STRING}))}setSessionToken(e,t){return this.It(e).put({name:"sessionToken",value:t.toUint8Array()})}}class um{constructor(){}Et(e,t){this.dt(e,t),t.At()}dt(e,t){if("nullValue"in e)this.Rt(t,5);else if("booleanValue"in e)this.Rt(t,10),t.Vt(e.booleanValue?1:0);else if("integerValue"in e)this.Rt(t,15),t.Vt(vd(e.integerValue));else if("doubleValue"in e){const n=vd(e.doubleValue);isNaN(n)?this.Rt(t,13):(this.Rt(t,15),Iu(n)?t.Vt(0):t.Vt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Rt(t,20),"string"==typeof n&&(n=yd(n)),t.ft("".concat(n.seconds||"")),t.Vt(n.nanos||0)}else if("stringValue"in e)this.gt(e.stringValue,t),this.yt(t);else if("bytesValue"in e)this.Rt(t,30),t.wt(wd(e.bytesValue)),this.yt(t);else if("referenceValue"in e)this.St(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Rt(t,45),t.Vt(n.latitude||0),t.Vt(n.longitude||0)}else"mapValue"in e?Wd(e)?this.Rt(t,Number.MAX_SAFE_INTEGER):Bd(e)?this.bt(e.mapValue,t):(this.Dt(e.mapValue,t),this.yt(t)):"arrayValue"in e?(this.vt(e.arrayValue,t),this.yt(t)):Tc()}gt(e,t){this.Rt(t,25),this.Ct(e,t)}Ct(e,t){t.ft(e)}Dt(e,t){const n=e.fields||{};this.Rt(t,55);for(const r of Object.keys(n))this.gt(r,t),this.dt(n[r],t)}bt(e,t){var n,r;const i=e.fields||{};this.Rt(t,53);const o="value",s=(null===(r=null===(n=i[o].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.length)||0;this.Rt(t,15),t.Vt(vd(s)),this.gt(o,t),this.dt(i[o],t)}vt(e,t){const n=e.values||[];this.Rt(t,50);for(const r of n)this.dt(r,t)}St(e,t){this.Rt(t,37),Yc.fromName(e).path.forEach((e=>{this.Rt(t,60),this.Ct(e,t)}))}Rt(e,t){e.Vt(t)}yt(e){e.Vt(2)}}function dm(e){if(0===e)return 8;let t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function hm(e){const t=64-function(e){let t=0;for(let n=0;n<8;++n){const r=dm(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}um.Ft=new um;class fm{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Mt(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.xt(n.value),n=t.next();this.Ot()}Nt(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Lt(n.value),n=t.next();this.Bt()}kt(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.xt(e);else if(e<2048)this.xt(960|e>>>6),this.xt(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.xt(480|e>>>12),this.xt(128|63&e>>>6),this.xt(128|63&e);else{const e=t.codePointAt(0);this.xt(240|e>>>18),this.xt(128|63&e>>>12),this.xt(128|63&e>>>6),this.xt(128|63&e)}}this.Ot()}qt(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Lt(e);else if(e<2048)this.Lt(960|e>>>6),this.Lt(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Lt(480|e>>>12),this.Lt(128|63&e>>>6),this.Lt(128|63&e);else{const e=t.codePointAt(0);this.Lt(240|e>>>18),this.Lt(128|63&e>>>12),this.Lt(128|63&e>>>6),this.Lt(128|63&e)}}this.Bt()}Qt(e){const t=this.Kt(e),n=hm(t);this.$t(1+n),this.buffer[this.position++]=255&n;for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}Ut(e){const t=this.Kt(e),n=hm(t);this.$t(1+n),this.buffer[this.position++]=~(255&n);for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}Wt(){this.Gt(255),this.Gt(255)}zt(){this.jt(255),this.jt(255)}reset(){this.position=0}seed(e){this.$t(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ht(){return this.buffer.slice(0,this.position)}Kt(e){const t=function(e){const t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(let r=1;r<t.length;++r)t[r]^=n?255:0;return t}xt(e){const t=255&e;0===t?(this.Gt(0),this.Gt(255)):255===t?(this.Gt(255),this.Gt(0)):this.Gt(t)}Lt(e){const t=255&e;0===t?(this.jt(0),this.jt(255)):255===t?(this.jt(255),this.jt(0)):this.jt(e)}Ot(){this.Gt(0),this.Gt(1)}Bt(){this.jt(0),this.jt(1)}Gt(e){this.$t(1),this.buffer[this.position++]=e}jt(e){this.$t(1),this.buffer[this.position++]=~e}$t(e){const t=e+this.position;if(t<=this.buffer.length)return;let n=2*this.buffer.length;n<t&&(n=t);const r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}class pm{constructor(e){this.Jt=e}wt(e){this.Jt.Mt(e)}ft(e){this.Jt.kt(e)}Vt(e){this.Jt.Qt(e)}At(){this.Jt.Wt()}}class mm{constructor(e){this.Jt=e}wt(e){this.Jt.Nt(e)}ft(e){this.Jt.qt(e)}Vt(e){this.Jt.Ut(e)}At(){this.Jt.zt()}}class gm{constructor(){this.Jt=new fm,this.Yt=new pm(this.Jt),this.Zt=new mm(this.Jt)}seed(e){this.Jt.seed(e)}Xt(e){return 0===e?this.Yt:this.Zt}Ht(){return this.Jt.Ht()}reset(){this.Jt.reset()}}class ym{constructor(e,t,n,r){this.indexId=e,this.documentKey=t,this.arrayValue=n,this.directionalValue=r}en(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,n=new Uint8Array(t);return n.set(this.directionalValue,0),t!==e?n.set([0],this.directionalValue.length):++n[n.length-1],new ym(this.indexId,this.documentKey,this.arrayValue,n)}}function vm(e,t){let n=e.indexId-t.indexId;return 0!==n?n:(n=wm(e.arrayValue,t.arrayValue),0!==n?n:(n=wm(e.directionalValue,t.directionalValue),0!==n?n:Yc.comparator(e.documentKey,t.documentKey)))}function wm(e,t){for(let n=0;n<e.length&&n<t.length;++n){const r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}class bm{constructor(e){this.tn=new ud(((e,t)=>Jc.comparator(e.field,t.field))),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.nn=e.orderBy,this.rn=[];for(const t of e.filters){const e=t;e.isInequality()?this.tn=this.tn.add(e):this.rn.push(e)}}get sn(){return this.tn.size>1}on(e){if(Cc(e.collectionGroup===this.collectionId),this.sn)return!1;const t=Zc(e);if(void 0!==t&&!this._n(t))return!1;const n=eu(e);let r=new Set,i=0,o=0;for(;i<n.length&&this._n(n[i]);++i)r=r.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(this.tn.size>0){const e=this.tn.getIterator().getNext();if(!r.has(e.field.canonicalString())){const t=n[i];if(!this.an(e,t)||!this.un(this.nn[o++],t))return!1}++i}for(;i<n.length;++i){const e=n[i];if(o>=this.nn.length||!this.un(this.nn[o++],e))return!1}return!0}cn(){if(this.sn)return null;let e=new ud(Jc.comparator);const t=[];for(const n of this.rn)if(!n.field.isKeyField())if("array-contains"===n.op||"array-contains-any"===n.op)t.push(new tu(n.field,2));else{if(e.has(n.field))continue;e=e.add(n.field),t.push(new tu(n.field,0))}for(const n of this.nn)n.field.isKeyField()||e.has(n.field)||(e=e.add(n.field),t.push(new tu(n.field,"asc"===n.dir?0:1)));return new Xc(Xc.UNKNOWN_ID,this.collectionId,t,nu.empty())}_n(e){for(const t of this.rn)if(this.an(t,e))return!0;return!1}an(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;const n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}un(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function _m(e){var t,n;if(Cc(e instanceof oh||e instanceof sh),e instanceof oh){if(e instanceof bh){const r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((t=>oh.create(e.field,"==",t))))||[];return sh.create(r,"or")}return e}const r=e.filters.map((e=>_m(e)));return sh.create(r,e.op)}function Sm(e){if(0===e.getFilters().length)return[];const t=Tm(_m(e));return Cc(Im(t)),Em(t)||km(t)?[t]:t.getFilters()}function Em(e){return e instanceof oh}function km(e){return e instanceof sh&&ch(e)}function Im(e){return Em(e)||km(e)||function(e){if(e instanceof sh&&lh(e)){for(const t of e.getFilters())if(!Em(t)&&!km(t))return!1;return!0}return!1}(e)}function Tm(e){if(Cc(e instanceof oh||e instanceof sh),e instanceof oh)return e;if(1===e.filters.length)return Tm(e.filters[0]);const t=e.filters.map((e=>Tm(e)));let n=sh.create(t,e.op);return n=Am(n),Im(n)?n:(Cc(n instanceof sh),Cc(ah(n)),Cc(n.filters.length>1),n.filters.reduce(((e,t)=>Cm(e,t))))}function Cm(e,t){let n;return Cc(e instanceof oh||e instanceof sh),Cc(t instanceof oh||t instanceof sh),n=e instanceof oh?t instanceof oh?function(e,t){return sh.create([e,t],"and")}(e,t):xm(e,t):t instanceof oh?xm(t,e):function(e,t){if(Cc(e.filters.length>0&&t.filters.length>0),ah(e)&&ah(t))return fh(e,t.getFilters());const n=lh(e)?e:t,r=lh(e)?t:e,i=n.filters.map((e=>Cm(e,r)));return sh.create(i,"or")}(e,t),Am(n)}function xm(e,t){if(ah(t))return fh(t,e.getFilters());{const n=t.filters.map((t=>Cm(e,t)));return sh.create(n,"or")}}function Am(e){if(Cc(e instanceof oh||e instanceof sh),e instanceof oh)return e;const t=e.getFilters();if(1===t.length)return Am(t[0]);if(uh(e))return e;const n=t.map((e=>Am(e))),r=[];return n.forEach((t=>{t instanceof oh?r.push(t):t instanceof sh&&(t.op===e.op?r.push(...t.filters):r.push(t))})),1===r.length?r[0]:sh.create(r,e.op)}class Rm{constructor(){this.ln=new Pm}addToCollectionParentIndex(e,t){return this.ln.add(t),uu.resolve()}getCollectionParents(e,t){return uu.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return uu.resolve()}deleteFieldIndex(e,t){return uu.resolve()}deleteAllFieldIndexes(e){return uu.resolve()}createTargetIndexes(e,t){return uu.resolve()}getDocumentsMatchingTarget(e,t){return uu.resolve(null)}getIndexType(e,t){return uu.resolve(0)}getFieldIndexes(e,t){return uu.resolve([])}getNextCollectionGroupToUpdate(e){return uu.resolve(null)}getMinOffset(e,t){return uu.resolve(ou.min())}getMinOffsetFromCollectionGroup(e,t){return uu.resolve(ou.min())}updateCollectionGroup(e,t,n){return uu.resolve()}updateIndexEntries(e,t){return uu.resolve()}}class Pm{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new ud(Qc.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new ud(Qc.comparator)).toArray()}}const Om=new Uint8Array(0);class Nm{constructor(e,t){this.databaseId=t,this.hn=new Pm,this.Pn=new Qh((e=>Ih(e)),((e,t)=>Th(e,t))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.hn.has(t)){const n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener((()=>{this.hn.add(t)}));const i={collectionId:n,parent:Cu(r)};return Dm(e).put(i)}return uu.resolve()}getCollectionParents(e,t){const n=[],r=IDBKeyRange.bound([t,""],[Wc(t),""],!1,!0);return Dm(e).U(r).next((e=>{for(const r of e){if(r.collectionId!==t)break;n.push(Ru(r.parent))}return n}))}addFieldIndex(e,t){const n=Mm(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((e=>[e.fieldPath.canonicalString(),e.kind]))}}(t);delete r.indexId;const i=n.add(r);if(t.indexState){const n=Fm(e);return i.next((e=>{n.put(rm(e,this.uid,t.indexState.sequenceNumber,t.indexState.offset))}))}return i.next()}deleteFieldIndex(e,t){const n=Mm(e),r=Fm(e),i=Lm(e);return n.delete(t.indexId).next((()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const t=Mm(e),n=Lm(e),r=Fm(e);return t.j().next((()=>n.j())).next((()=>r.j()))}createTargetIndexes(e,t){return uu.forEach(this.Tn(t),(t=>this.getIndexType(e,t).next((n=>{if(0===n||1===n){const n=new bm(t).cn();if(null!=n)return this.addFieldIndex(e,n)}}))))}getDocumentsMatchingTarget(e,t){const n=Lm(e);let r=!0;const i=new Map;return uu.forEach(this.Tn(t),(t=>this.In(e,t).next((e=>{r&&(r=!!e),i.set(t,e)})))).next((()=>{if(r){let e=sf();const r=[];return uu.forEach(i,((i,o)=>{Sc("IndexedDbIndexManager","Using index ".concat(function(e){return"id=".concat(e.indexId,"|cg=").concat(e.collectionGroup,"|f=").concat(e.fields.map((e=>"".concat(e.fieldPath,":").concat(e.kind))).join(","))}(i)," to execute ").concat(Ih(t)));const s=function(e,t){const n=Zc(t);if(void 0===n)return null;for(const r of xh(e,n.fieldPath))switch(r.op){case"array-contains-any":return r.value.arrayValue.values||[];case"array-contains":return[r.value]}return null}(o,i),a=function(e,t){const n=new Map;for(const r of eu(t))for(const t of xh(e,r.fieldPath))switch(t.op){case"==":case"in":n.set(r.fieldPath.canonicalString(),t.value);break;case"not-in":case"!=":return n.set(r.fieldPath.canonicalString(),t.value),Array.from(n.values())}return null}(o,i),l=function(e,t){const n=[];let r=!0;for(const i of eu(t)){const t=0===i.kind?Ah(e,i.fieldPath,e.startAt):Rh(e,i.fieldPath,e.startAt);n.push(t.value),r&&(r=t.inclusive)}return new Zd(n,r)}(o,i),c=function(e,t){const n=[];let r=!0;for(const i of eu(t)){const t=0===i.kind?Rh(e,i.fieldPath,e.endAt):Ah(e,i.fieldPath,e.endAt);n.push(t.value),r&&(r=t.inclusive)}return new Zd(n,r)}(o,i),u=this.En(i,o,l),d=this.En(i,o,c),h=this.dn(i,o,a),f=this.An(i.indexId,s,u,l.inclusive,d,c.inclusive,h);return uu.forEach(f,(i=>n.G(i,t.limit).next((t=>{t.forEach((t=>{const n=Yc.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),r.push(n))}))}))))})).next((()=>r))}return uu.resolve(null)}))}Tn(e){let t=this.Pn.get(e);return t||(t=0===e.filters.length?[e]:Sm(sh.create(e.filters,"and")).map((t=>kh(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt))),this.Pn.set(e,t),t)}An(e,t,n,r,i,o,s){const a=(null!=t?t.length:1)*Math.max(n.length,i.length),l=a/(null!=t?t.length:1),c=[];for(let u=0;u<a;++u){const a=t?this.Rn(t[u/l]):Om,d=this.Vn(e,a,n[u%l],r),h=this.mn(e,a,i[u%l],o),f=s.map((t=>this.Vn(e,a,t,!0)));c.push(...this.createRange(d,h,f))}return c}Vn(e,t,n,r){const i=new ym(e,Yc.empty(),t,n);return r?i:i.en()}mn(e,t,n,r){const i=new ym(e,Yc.empty(),t,n);return r?i.en():i}In(e,t){const n=new bm(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((e=>{let t=null;for(const r of e)n.on(r)&&(!t||r.fields.length>t.fields.length)&&(t=r);return t}))}getIndexType(e,t){let n=2;const r=this.Tn(t);return uu.forEach(r,(t=>this.In(e,t).next((e=>{e?0!==n&&e.fields.length<function(e){let t=new ud(Jc.comparator),n=!1;for(const r of e.filters)for(const e of r.getFlattenedFilters())e.field.isKeyField()||("array-contains"===e.op||"array-contains-any"===e.op?n=!0:t=t.add(e.field));for(const r of e.orderBy)r.field.isKeyField()||(t=t.add(r.field));return t.size+(n?1:0)}(t)&&(n=1):n=0})))).next((()=>function(e){return null!==e.limit}(t)&&r.length>1&&2===n?1:n))}fn(e,t){const n=new gm;for(const r of eu(e)){const e=t.data.field(r.fieldPath);if(null==e)return null;const i=n.Xt(r.kind);um.Ft.Et(e,i)}return n.Ht()}Rn(e){const t=new gm;return um.Ft.Et(e,t.Xt(0)),t.Ht()}gn(e,t){const n=new gm;return um.Ft.Et(Md(this.databaseId,t),n.Xt(function(e){const t=eu(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Ht()}dn(e,t,n){if(null===n)return[];let r=[];r.push(new gm);let i=0;for(const o of eu(e)){const e=n[i++];for(const n of r)if(this.pn(t,o.fieldPath)&&jd(e))r=this.yn(r,o,e);else{const t=n.Xt(o.kind);um.Ft.Et(e,t)}}return this.wn(r)}En(e,t,n){return this.dn(e,t,n.position)}wn(e){const t=[];for(let n=0;n<e.length;++n)t[n]=e[n].Ht();return t}yn(e,t,n){const r=[...e],i=[];for(const o of n.arrayValue.values||[])for(const e of r){const n=new gm;n.seed(e.Ht()),um.Ft.Et(o,n.Xt(t.kind)),i.push(n)}return i}pn(e,t){return!!e.filters.find((e=>e instanceof oh&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)))}getFieldIndexes(e,t){const n=Mm(e),r=Fm(e);return(t?n.U("collectionGroupIndex",IDBKeyRange.bound(t,t)):n.U()).next((e=>{const t=[];return uu.forEach(e,(e=>r.get([e.indexId,this.uid]).next((n=>{t.push(function(e,t){const n=t?new nu(t.sequenceNumber,new ou(Jp(t.readTime),new Yc(Ru(t.documentKey)),t.largestBatchId)):nu.empty(),r=e.fields.map((e=>{let[t,n]=e;return new tu(Jc.fromServerFormat(t),n)}));return new Xc(e.indexId,e.collectionGroup,r,n)}(e,n))})))).next((()=>t))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((e=>0===e.length?null:(e.sort(((e,t)=>{const n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:Bc(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)))}updateCollectionGroup(e,t,n){const r=Mm(e),i=Fm(e);return this.Sn(e).next((e=>r.U("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((t=>uu.forEach(t,(t=>i.put(rm(t.indexId,this.uid,e,n))))))))}updateIndexEntries(e,t){const n=new Map;return uu.forEach(t,((t,r)=>{const i=n.get(t.collectionGroup);return(i?uu.resolve(i):this.getFieldIndexes(e,t.collectionGroup)).next((i=>(n.set(t.collectionGroup,i),uu.forEach(i,(n=>this.bn(e,t,n).next((t=>{const i=this.Dn(r,n);return t.isEqual(i)?uu.resolve():this.vn(e,r,n,t,i)})))))))}))}Cn(e,t,n,r){return Lm(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.gn(n,t.key),documentKey:t.key.path.toArray()})}Fn(e,t,n,r){return Lm(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.gn(n,t.key),t.key.path.toArray()])}bn(e,t,n){const r=Lm(e);let i=new ud(vm);return r.J({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.gn(n,t)])},((e,r)=>{i=i.add(new ym(n.indexId,t,r.arrayValue,r.directionalValue))})).next((()=>i))}Dn(e,t){let n=new ud(vm);const r=this.fn(t,e);if(null==r)return n;const i=Zc(t);if(null!=i){const o=e.data.field(i.fieldPath);if(jd(o))for(const i of o.arrayValue.values||[])n=n.add(new ym(t.indexId,e.key,this.Rn(i),r))}else n=n.add(new ym(t.indexId,e.key,Om,r));return n}vn(e,t,n,r,i){Sc("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const o=[];return function(e,t,n,r,i){const o=e.getIterator(),s=t.getIterator();let a=hd(o),l=hd(s);for(;a||l;){let e=!1,t=!1;if(a&&l){const r=n(a,l);r<0?t=!0:r>0&&(e=!0)}else null!=a?t=!0:e=!0;e?(r(l),l=hd(s)):t?(i(a),a=hd(o)):(a=hd(o),l=hd(s))}}(r,i,vm,(r=>{o.push(this.Cn(e,t,n,r))}),(r=>{o.push(this.Fn(e,t,n,r))})),uu.waitFor(o)}Sn(e){let t=1;return Fm(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((e,n,r)=>{r.done(),t=n.sequenceNumber+1})).next((()=>t))}createRange(e,t,n){n=n.sort(((e,t)=>vm(e,t))).filter(((e,t,n)=>!t||0!==vm(e,n[t-1])));const r=[];r.push(e);for(const o of n){const n=vm(o,e),i=vm(o,t);if(0===n)r[0]=e.en();else if(n>0&&i<0)r.push(o),r.push(o.en());else if(i>0)break}r.push(t);const i=[];for(let o=0;o<r.length;o+=2){if(this.Mn(r[o],r[o+1]))return[];const e=[r[o].indexId,this.uid,r[o].arrayValue,r[o].directionalValue,Om,[]],t=[r[o+1].indexId,this.uid,r[o+1].arrayValue,r[o+1].directionalValue,Om,[]];i.push(IDBKeyRange.bound(e,t))}return i}Mn(e,t){return vm(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(jm)}getMinOffset(e,t){return uu.mapArray(this.Tn(t),(t=>this.In(e,t).next((e=>e||Tc())))).next(jm)}}function Dm(e){return rd(e,"collectionParents")}function Lm(e){return rd(e,"indexEntries")}function Mm(e){return rd(e,"indexConfiguration")}function Fm(e){return rd(e,"indexState")}function jm(e){Cc(0!==e.length);let t=e[0].indexState.offset,n=t.largestBatchId;for(let r=1;r<e.length;r++){const i=e[r].indexState.offset;su(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new ou(t.readTime,t.documentKey,n)}const Um={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Vm{static withCacheSize(e){return new Vm(e,Vm.DEFAULT_COLLECTION_PERCENTILE,Vm.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}function zm(e,t,n){const r=e.store("mutations"),i=e.store("documentMutations"),o=[],s=IDBKeyRange.only(n.batchId);let a=0;const l=r.J({range:s},((e,t,n)=>(a++,n.delete())));o.push(l.next((()=>{Cc(1===a)})));const c=[];for(const u of n.mutations){const e=Nu(t,u.key.path,n.batchId);o.push(i.delete(e)),c.push(u.key)}return uu.waitFor(o).next((()=>c))}function Bm(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Tc();t=e.noDocument}return JSON.stringify(t).length}Vm.DEFAULT_COLLECTION_PERCENTILE=10,Vm.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Vm.DEFAULT=new Vm(41943040,Vm.DEFAULT_COLLECTION_PERCENTILE,Vm.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Vm.DISABLED=new Vm(-1,0,0);class qm{constructor(e,t,n,r){this.userId=e,this.serializer=t,this.indexManager=n,this.referenceDelegate=r,this.xn={}}static Pt(e,t,n,r){Cc(""!==e.uid);const i=e.isAuthenticated()?e.uid:"";return new qm(i,t,n,r)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Hm(e).J({index:"userMutationsIndex",range:n},((e,n,r)=>{t=!1,r.done()})).next((()=>t))}addMutationBatch(e,t,n,r){const i=Km(e),o=Hm(e);return o.add({}).next((s=>{Cc("number"==typeof s);const a=new zf(s,t,n,r),l=function(e,t,n){const r=n.baseMutations.map((t=>Pp(e.ht,t))),i=n.mutations.map((t=>Pp(e.ht,t)));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(this.serializer,this.userId,a),c=[];let u=new ud(((e,t)=>Bc(e.canonicalString(),t.canonicalString())));for(const e of r){const t=Nu(this.userId,e.key.path,s);u=u.add(e.key.path.popLast()),c.push(o.put(l)),c.push(i.put(t,Du))}return u.forEach((t=>{c.push(this.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((()=>{this.xn[s]=a.keys()})),uu.waitFor(c).next((()=>a))}))}lookupMutationBatch(e,t){return Hm(e).get(t).next((e=>e?(Cc(e.userId===this.userId),Yp(this.serializer,e)):null))}On(e,t){return this.xn[t]?uu.resolve(this.xn[t]):this.lookupMutationBatch(e,t).next((e=>{if(e){const n=e.keys();return this.xn[t]=n,n}return null}))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return Hm(e).J({index:"userMutationsIndex",range:r},((e,t,r)=>{t.userId===this.userId&&(Cc(t.batchId>=n),i=Yp(this.serializer,t)),r.done()})).next((()=>i))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return Hm(e).J({index:"userMutationsIndex",range:t,reverse:!0},((e,t,r)=>{n=t.batchId,r.done()})).next((()=>n))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Hm(e).U("userMutationsIndex",t).next((e=>e.map((e=>Yp(this.serializer,e)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=Ou(this.userId,t.path),r=IDBKeyRange.lowerBound(n),i=[];return Km(e).J({range:r},((n,r,o)=>{const[s,a,l]=n,c=Ru(a);if(s===this.userId&&t.path.isEqual(c))return Hm(e).get(l).next((e=>{if(!e)throw Tc();Cc(e.userId===this.userId),i.push(Yp(this.serializer,e))}));o.done()})).next((()=>i))}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new ud(Bc);const r=[];return t.forEach((t=>{const i=Ou(this.userId,t.path),o=IDBKeyRange.lowerBound(i),s=Km(e).J({range:o},((e,r,i)=>{const[o,s,a]=e,l=Ru(s);o===this.userId&&t.path.isEqual(l)?n=n.add(a):i.done()}));r.push(s)})),uu.waitFor(r).next((()=>this.Nn(e,n)))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1,i=Ou(this.userId,n),o=IDBKeyRange.lowerBound(i);let s=new ud(Bc);return Km(e).J({range:o},((e,t,i)=>{const[o,a,l]=e,c=Ru(a);o===this.userId&&n.isPrefixOf(c)?c.length===r&&(s=s.add(l)):i.done()})).next((()=>this.Nn(e,s)))}Nn(e,t){const n=[],r=[];return t.forEach((t=>{r.push(Hm(e).get(t).next((e=>{if(null===e)throw Tc();Cc(e.userId===this.userId),n.push(Yp(this.serializer,e))})))})),uu.waitFor(r).next((()=>n))}removeMutationBatch(e,t){return zm(e._e,this.userId,t).next((n=>(e.addOnCommittedListener((()=>{this.Ln(t.batchId)})),uu.forEach(n,(t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))))}Ln(e){delete this.xn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return uu.resolve();const n=IDBKeyRange.lowerBound(function(e){return[e]}(this.userId)),r=[];return Km(e).J({range:n},((e,t,n)=>{if(e[0]===this.userId){const t=Ru(e[1]);r.push(t)}else n.done()})).next((()=>{Cc(0===r.length)}))}))}containsKey(e,t){return Wm(e,this.userId,t)}Bn(e){return Gm(e).get(this.userId).next((e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}))}}function Wm(e,t,n){const r=Ou(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r);let s=!1;return Km(e).J({range:o,H:!0},((e,n,r)=>{const[o,a,l]=e;o===t&&a===i&&(s=!0),r.done()})).next((()=>s))}function Hm(e){return rd(e,"mutations")}function Km(e){return rd(e,"documentMutations")}function Gm(e){return rd(e,"mutationQueues")}class Qm{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new Qm(0)}static Qn(){return new Qm(-1)}}class $m{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Kn(e).next((t=>{const n=new Qm(t.highestTargetId);return t.highestTargetId=n.next(),this.$n(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.Kn(e).next((e=>Kc.fromTimestamp(new Hc(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.Kn(e).next((e=>e.highestListenSequenceNumber))}setTargetsMetadata(e,t,n){return this.Kn(e).next((r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.$n(e,r))))}addTargetData(e,t){return this.Un(e,t).next((()=>this.Kn(e).next((n=>(n.targetCount+=1,this.Wn(t,n),this.$n(e,n))))))}updateTargetData(e,t){return this.Un(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>Jm(e).delete(t.targetId))).next((()=>this.Kn(e))).next((t=>(Cc(t.targetCount>0),t.targetCount-=1,this.$n(e,t))))}removeTargets(e,t,n){let r=0;const i=[];return Jm(e).J(((o,s)=>{const a=Xp(s);a.sequenceNumber<=t&&null===n.get(a.targetId)&&(r++,i.push(this.removeTargetData(e,a)))})).next((()=>uu.waitFor(i))).next((()=>r))}forEachTarget(e,t){return Jm(e).J(((e,n)=>{const r=Xp(n);t(r)}))}Kn(e){return Ym(e).get("targetGlobalKey").next((e=>(Cc(null!==e),e)))}$n(e,t){return Ym(e).put("targetGlobalKey",t)}Un(e,t){return Jm(e).put(Zp(this.serializer,t))}Wn(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.Kn(e).next((e=>e.targetCount))}getTargetData(e,t){const n=Ih(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return Jm(e).J({range:r,index:"queryTargetsIndex"},((e,n,r)=>{const o=Xp(n);Th(t,o.target)&&(i=o,r.done())})).next((()=>i))}addMatchingKeys(e,t,n){const r=[],i=Xm(e);return t.forEach((t=>{const o=Cu(t.path);r.push(i.put({targetId:n,path:o})),r.push(this.referenceDelegate.addReference(e,n,t))})),uu.waitFor(r)}removeMatchingKeys(e,t,n){const r=Xm(e);return uu.forEach(t,(t=>{const i=Cu(t.path);return uu.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(e,n,t)])}))}removeMatchingKeysForTargetId(e,t){const n=Xm(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Xm(e);let i=sf();return r.J({range:n,H:!0},((e,t,n)=>{const r=Ru(e[1]),o=new Yc(r);i=i.add(o)})).next((()=>i))}containsKey(e,t){const n=Cu(t.path),r=IDBKeyRange.bound([n],[Wc(n)],!1,!0);let i=0;return Xm(e).J({index:"documentTargetsIndex",H:!0,range:r},((e,t,n)=>{let[r,o]=e;0!==r&&(i++,n.done())})).next((()=>i>0))}ut(e,t){return Jm(e).get(t).next((e=>e?Xp(e):null))}}function Jm(e){return rd(e,"targets")}function Ym(e){return rd(e,"targetGlobal")}function Xm(e){return rd(e,"targetDocuments")}function Zm(e,t){let[n,r]=e,[i,o]=t;const s=Bc(n,i);return 0===s?Bc(r,o):s}class eg{constructor(e){this.Gn=e,this.buffer=new ud(Zm),this.zn=0}jn(){return++this.zn}Hn(e){const t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();Zm(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class tg{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Jn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return null!==this.Jn}Yn(e){Sc("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){gu(e)?Sc("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):await cu(e)}await this.Yn(3e5)}))}}class ng{constructor(e,t){this.Zn=e,this.params=t}calculateTargetCount(e,t){return this.Zn.Xn(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return uu.resolve(Eu.oe);const n=new eg(t);return this.Zn.forEachTarget(e,(e=>n.Hn(e.sequenceNumber))).next((()=>this.Zn.er(e,(e=>n.Hn(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.Zn.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Sc("LruGarbageCollector","Garbage collection skipped; disabled"),uu.resolve(Um)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(Sc("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),Um):this.tr(e,t)))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let n,r,i,o,s,a,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(Sc("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=this.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,s=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,a=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(l=Date.now(),_c()<=Un.DEBUG&&Sc("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(o-c,"ms\n\tDetermined least recently used ").concat(r," in ")+(s-o)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(a-s)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(l-a)+"ms\n"+"Total Duration: ".concat(l-c,"ms")),uu.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}}function rg(e,t){return new ng(e,t)}class ig{constructor(e,t){this.db=e,this.garbageCollector=rg(this,t)}Xn(e){const t=this.nr(e);return this.db.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}nr(e){let t=0;return this.er(e,(e=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}er(e,t){return this.rr(e,((e,n)=>t(n)))}addReference(e,t,n){return og(e,n)}removeReference(e,t,n){return og(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return og(e,t)}ir(e,t){return function(e,t){let n=!1;return Gm(e).Y((r=>Wm(e,r,t).next((e=>(e&&(n=!0),uu.resolve(!e)))))).next((()=>n))}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let i=0;return this.rr(e,((o,s)=>{if(s<=t){const t=this.ir(e,o).next((t=>{if(!t)return i++,n.getEntry(e,o).next((()=>(n.removeEntry(o,Kc.min()),Xm(e).delete(function(e){return[0,Cu(e.path)]}(o)))))}));r.push(t)}})).next((()=>uu.waitFor(r))).next((()=>n.apply(e))).next((()=>i))}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return og(e,t)}rr(e,t){const n=Xm(e);let r,i=Eu.oe;return n.J({index:"documentTargetsIndex"},((e,n)=>{let[o,s]=e,{path:a,sequenceNumber:l}=n;0===o?(i!==Eu.oe&&t(new Yc(Ru(r)),i),i=l,r=a):i=Eu.oe})).next((()=>{i!==Eu.oe&&t(new Yc(Ru(r)),i)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function og(e,t){return Xm(e).put(function(e,t){return{targetId:0,path:Cu(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}class sg{constructor(){this.changes=new Qh((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Xd.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?uu.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class ag{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,n){return dg(e).put(n)}removeEntry(e,t,n){return dg(e).delete(function(e,t){const n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],Qp(t),n[n.length-1]]}(t,n))}updateMetadata(e,t){return this.getMetadata(e).next((n=>(n.byteSize+=t,this.sr(e,n))))}getEntry(e,t){let n=Xd.newInvalidDocument(t);return dg(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(hg(t))},((e,r)=>{n=this._r(t,r)})).next((()=>n))}ar(e,t){let n={size:0,document:Xd.newInvalidDocument(t)};return dg(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(hg(t))},((e,r)=>{n={document:this._r(t,r),size:Bm(r)}})).next((()=>n))}getEntries(e,t){let n=Jh();return this.ur(e,t,((e,t)=>{const r=this._r(e,t);n=n.insert(e,r)})).next((()=>n))}cr(e,t){let n=Jh(),r=new ad(Yc.comparator);return this.ur(e,t,((e,t)=>{const i=this._r(e,t);n=n.insert(e,i),r=r.insert(e,Bm(t))})).next((()=>({documents:n,lr:r})))}ur(e,t,n){if(t.isEmpty())return uu.resolve();let r=new ud(pg);t.forEach((e=>r=r.add(e)));const i=IDBKeyRange.bound(hg(r.first()),hg(r.last())),o=r.getIterator();let s=o.getNext();return dg(e).J({index:"documentKeyIndex",range:i},((e,t,r)=>{const i=Yc.fromSegments([...t.prefixPath,t.collectionGroup,t.documentId]);for(;s&&pg(s,i)<0;)n(s,null),s=o.getNext();s&&s.isEqual(i)&&(n(s,t),s=o.hasNext()?o.getNext():null),s?r.$(hg(s)):r.done()})).next((()=>{for(;s;)n(s,null),s=o.hasNext()?o.getNext():null}))}getDocumentsMatchingQuery(e,t,n,r,i){const o=t.path,s=[o.popLast().toArray(),o.lastSegment(),Qp(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return dg(e).U(IDBKeyRange.bound(s,a,!0)).next((e=>{null==i||i.incrementDocumentReadCount(e.length);let n=Jh();for(const i of e){const e=this._r(Yc.fromSegments(i.prefixPath.concat(i.collectionGroup,i.documentId)),i);e.isFoundDocument()&&(Wh(t,e)||r.has(e.key))&&(n=n.insert(e.key,e))}return n}))}getAllFromCollectionGroup(e,t,n,r){let i=Jh();const o=fg(t,n),s=fg(t,ou.max());return dg(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,s,!0)},((e,t,n)=>{const o=this._r(Yc.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);i=i.insert(o.key,o),i.size===r&&n.done()})).next((()=>i))}newChangeBuffer(e){return new cg(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((e=>e.byteSize))}getMetadata(e){return ug(e).get("remoteDocumentGlobalKey").next((e=>(Cc(!!e),e)))}sr(e,t){return ug(e).put("remoteDocumentGlobalKey",t)}_r(e,t){if(t){const e=function(e,t){let n;if(t.document)n=Rp(e.ht,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const e=Yc.fromSegments(t.noDocument.path),r=Jp(t.noDocument.readTime);n=Xd.newNoDocument(e,r),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Tc();{const e=Yc.fromSegments(t.unknownDocument.path),r=Jp(t.unknownDocument.version);n=Xd.newUnknownDocument(e,r)}}return t.readTime&&n.setReadTime(function(e){const t=new Hc(e[0],e[1]);return Kc.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!e.isNoDocument()||!e.version.isEqual(Kc.min()))return e}return Xd.newInvalidDocument(e)}}function lg(e){return new ag(e)}class cg extends sg{constructor(e,t){super(),this.hr=e,this.trackRemovals=t,this.Pr=new Qh((e=>e.toString()),((e,t)=>e.isEqual(t)))}applyChanges(e){const t=[];let n=0,r=new ud(((e,t)=>Bc(e.canonicalString(),t.canonicalString())));return this.changes.forEach(((i,o)=>{const s=this.Pr.get(i);if(t.push(this.hr.removeEntry(e,i,s.readTime)),o.isValidDocument()){const a=Gp(this.hr.serializer,o);r=r.add(i.path.popLast());const l=Bm(a);n+=l-s.size,t.push(this.hr.addEntry(e,i,a))}else if(n-=s.size,this.trackRemovals){const n=Gp(this.hr.serializer,o.convertToNoDocument(Kc.min()));t.push(this.hr.addEntry(e,i,n))}})),r.forEach((n=>{t.push(this.hr.indexManager.addToCollectionParentIndex(e,n))})),t.push(this.hr.updateMetadata(e,n)),uu.waitFor(t)}getFromCache(e,t){return this.hr.ar(e,t).next((e=>(this.Pr.set(t,{size:e.size,readTime:e.document.readTime}),e.document)))}getAllFromCache(e,t){return this.hr.cr(e,t).next((e=>{let{documents:t,lr:n}=e;return n.forEach(((e,n)=>{this.Pr.set(e,{size:n,readTime:t.get(e).readTime})})),t}))}}function ug(e){return rd(e,"remoteDocumentGlobal")}function dg(e){return rd(e,"remoteDocumentsV14")}function hg(e){const t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function fg(e,t){const n=t.documentKey.path.toArray();return[e,Qp(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function pg(e,t){const n=e.path.toArray(),r=t.path.toArray();let i=0;for(let o=0;o<n.length-2&&o<r.length-2;++o)if(i=Bc(n[o],r[o]),i)return i;return i=Bc(n.length,r.length),i||(i=Bc(n[n.length-2],r[r.length-2]),i||Bc(n[n.length-1],r[r.length-1]))}class mg{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class gg{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&Pf(n.mutation,e,fd.empty(),Hc.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,sf()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:sf();const r=ef();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=Xh();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=ef();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,sf())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=Jh();const o=nf(),s=nf();return t.forEach(((e,t)=>{const s=n.get(t.key);r.has(t.key)&&(void 0===s||s.mutation instanceof Lf)?i=i.insert(t.key,t):void 0!==s?(o.set(t.key,s.mutation.getFieldMask()),Pf(s.mutation,t,s.mutation.getFieldMask(),Hc.now())):o.set(t.key,fd.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>o.set(e,t))),t.forEach(((e,t)=>{var n;return s.set(e,new mg(t,null!==(n=o.get(e))&&void 0!==n?n:null))})),s)))}recalculateAndSaveOverlays(e,t){const n=nf();let r=new ad(((e,t)=>e-t)),i=sf();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const o=t.get(e);if(null===o)return;let s=n.get(e)||fd.empty();s=i.applyToLocalView(o,s),n.set(e,s);const a=(r.get(i.batchId)||sf()).add(e);r=r.insert(i.batchId,a)}))})).next((()=>{const o=[],s=r.getReverseIterator();for(;s.hasNext();){const r=s.getNext(),a=r.key,l=r.value,c=tf();l.forEach((e=>{if(!i.has(e)){const r=Af(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}})),o.push(this.documentOverlayCache.saveOverlays(e,a,c))}return uu.waitFor(o)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return Yc.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Lh(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):uu.resolve(ef());let s=-1,a=i;return o.next((t=>uu.forEach(t,((t,n)=>(s<n.largestBatchId&&(s=n.largestBatchId),i.get(t)?uu.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{a=a.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,a,t,sf()))).next((e=>({batchId:s,changes:Zh(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Yc(t)).next((e=>{let t=Xh();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let o=Xh();return this.indexManager.getCollectionParents(e,i).next((s=>uu.forEach(s,(s=>{const a=function(e,t){return new Ph(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(i));return this.getDocumentsMatchingCollectionQuery(e,a,n,r).next((e=>{e.forEach(((e,t)=>{o=o.insert(e,t)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Xd.newInvalidDocument(r)))}));let n=Xh();return e.forEach(((e,r)=>{const o=i.get(e);void 0!==o&&Pf(o.mutation,r,fd.empty(),Hc.now()),Wh(t,r)&&(n=n.insert(e,r))})),n}))}}class yg{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,t){return uu.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){return this.Tr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:wp(e.createTime)}}(t)),uu.resolve()}getNamedQuery(e,t){return uu.resolve(this.Ir.get(t))}saveNamedQuery(e,t){return this.Ir.set(t.name,function(e){return{name:e.name,query:em(e.bundledQuery),readTime:wp(e.readTime)}}(t)),uu.resolve()}}class vg{constructor(){this.overlays=new ad(Yc.comparator),this.Er=new Map}getOverlay(e,t){return uu.resolve(this.overlays.get(t))}getOverlays(e,t){const n=ef();return uu.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.Tt(e,t,r)})),uu.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.Er.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.Er.delete(n)),uu.resolve()}getOverlaysForCollection(e,t,n){const r=ef(),i=t.length+1,o=new Yc(t.child("")),s=this.overlays.getIteratorFrom(o);for(;s.hasNext();){const e=s.getNext().value,o=e.getKey();if(!t.isPrefixOf(o.path))break;o.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return uu.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new ad(((e,t)=>e-t));const o=this.overlays.getIterator();for(;o.hasNext();){const e=o.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=ef(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const s=ef(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((e,t)=>s.set(e,t))),!(s.size()>=r)););return uu.resolve(s)}Tt(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.Er.get(r.largestBatchId).delete(n.key);this.Er.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new qf(t,n));let i=this.Er.get(t);void 0===i&&(i=sf(),this.Er.set(t,i)),this.Er.set(t,i.add(n.key))}}class wg{constructor(){this.sessionToken=md.EMPTY_BYTE_STRING}getSessionToken(e){return uu.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,uu.resolve()}}class bg{constructor(){this.dr=new ud(_g.Ar),this.Rr=new ud(_g.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,t){const n=new _g(e,t);this.dr=this.dr.add(n),this.Rr=this.Rr.add(n)}mr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.gr(new _g(e,t))}pr(e,t){e.forEach((e=>this.removeReference(e,t)))}yr(e){const t=new Yc(new Qc([])),n=new _g(t,e),r=new _g(t,e+1),i=[];return this.Rr.forEachInRange([n,r],(e=>{this.gr(e),i.push(e.key)})),i}wr(){this.dr.forEach((e=>this.gr(e)))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const t=new Yc(new Qc([])),n=new _g(t,e),r=new _g(t,e+1);let i=sf();return this.Rr.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new _g(e,0),n=this.dr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class _g{constructor(e,t){this.key=e,this.br=t}static Ar(e,t){return Yc.comparator(e.key,t.key)||Bc(e.br,t.br)}static Vr(e,t){return Bc(e.br,t.br)||Yc.comparator(e.key,t.key)}}class Sg{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new ud(_g.Ar)}checkEmpty(e){return uu.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new zf(i,t,n,r);this.mutationQueue.push(o);for(const s of r)this.vr=this.vr.add(new _g(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return uu.resolve(o)}lookupMutationBatch(e,t){return uu.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.Fr(n),i=r<0?0:r;return uu.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return uu.resolve(0===this.mutationQueue.length?-1:this.Dr-1)}getAllMutationBatches(e){return uu.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new _g(t,0),r=new _g(t,Number.POSITIVE_INFINITY),i=[];return this.vr.forEachInRange([n,r],(e=>{const t=this.Cr(e.br);i.push(t)})),uu.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new ud(Bc);return t.forEach((e=>{const t=new _g(e,0),r=new _g(e,Number.POSITIVE_INFINITY);this.vr.forEachInRange([t,r],(e=>{n=n.add(e.br)}))})),uu.resolve(this.Mr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Yc.isDocumentKey(i)||(i=i.child(""));const o=new _g(new Yc(i),0);let s=new ud(Bc);return this.vr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(s=s.add(e.br)),!0)}),o),uu.resolve(this.Mr(s))}Mr(e){const t=[];return e.forEach((e=>{const n=this.Cr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){Cc(0===this.Or(t.batchId,"removed")),this.mutationQueue.shift();let n=this.vr;return uu.forEach(t.mutations,(r=>{const i=new _g(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.vr=n}))}Ln(e){}containsKey(e,t){const n=new _g(t,0),r=this.vr.firstAfterOrEqual(n);return uu.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,uu.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Cr(e){const t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Eg{constructor(e){this.Nr=e,this.docs=new ad(Yc.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,o=this.Nr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return uu.resolve(n?n.document.mutableCopy():Xd.newInvalidDocument(t))}getEntries(e,t){let n=Jh();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Xd.newInvalidDocument(e))})),uu.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=Jh();const o=t.path,s=new Yc(o.child("")),a=this.docs.getIteratorFrom(s);for(;a.hasNext();){const{key:e,value:{document:s}}=a.getNext();if(!o.isPrefixOf(e.path))break;e.path.length>o.length+1||su(iu(s),n)<=0||(r.has(s.key)||Wh(t,s))&&(i=i.insert(s.key,s.mutableCopy()))}return uu.resolve(i)}getAllFromCollectionGroup(e,t,n,r){Tc()}Lr(e,t){return uu.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new kg(this)}getSize(e){return uu.resolve(this.size)}}class kg extends sg{constructor(e){super(),this.hr=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.hr.addEntry(e,r)):this.hr.removeEntry(n)})),uu.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}}class Ig{constructor(e){this.persistence=e,this.Br=new Qh((e=>Ih(e)),Th),this.lastRemoteSnapshotVersion=Kc.min(),this.highestTargetId=0,this.kr=0,this.qr=new bg,this.targetCount=0,this.Qr=Qm.qn()}forEachTarget(e,t){return this.Br.forEach(((e,n)=>t(n))),uu.resolve()}getLastRemoteSnapshotVersion(e){return uu.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return uu.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),uu.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.kr&&(this.kr=t),uu.resolve()}Un(e){this.Br.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Qr=new Qm(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,uu.resolve()}updateTargetData(e,t){return this.Un(t),uu.resolve()}removeTargetData(e,t){return this.Br.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,uu.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Br.forEach(((o,s)=>{s.sequenceNumber<=t&&null===n.get(s.targetId)&&(this.Br.delete(o),i.push(this.removeMatchingKeysForTargetId(e,s.targetId)),r++)})),uu.waitFor(i).next((()=>r))}getTargetCount(e){return uu.resolve(this.targetCount)}getTargetData(e,t){const n=this.Br.get(t)||null;return uu.resolve(n)}addMatchingKeys(e,t,n){return this.qr.mr(t,n),uu.resolve()}removeMatchingKeys(e,t,n){this.qr.pr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),uu.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),uu.resolve()}getMatchingKeysForTargetId(e,t){const n=this.qr.Sr(t);return uu.resolve(n)}containsKey(e,t){return uu.resolve(this.qr.containsKey(t))}}class Tg{constructor(e,t){this.Kr={},this.overlays={},this.$r=new Eu(0),this.Ur=!1,this.Ur=!0,this.Wr=new wg,this.referenceDelegate=e(this),this.Gr=new Ig(this),this.indexManager=new Rm,this.remoteDocumentCache=function(e){return new Eg(e)}((e=>this.referenceDelegate.zr(e))),this.serializer=new Kp(t),this.jr=new yg(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new vg,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Kr[e.toKey()];return n||(n=new Sg(t,this.referenceDelegate),this.Kr[e.toKey()]=n),n}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,n){Sc("MemoryPersistence","Starting transaction:",e);const r=new Cg(this.$r.next());return this.referenceDelegate.Hr(),n(r).next((e=>this.referenceDelegate.Jr(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Yr(e,t){return uu.or(Object.values(this.Kr).map((n=>()=>n.containsKey(e,t))))}}class Cg extends lu{constructor(e){super(),this.currentSequenceNumber=e}}class xg{constructor(e){this.persistence=e,this.Zr=new bg,this.Xr=null}static ei(e){return new xg(e)}get ti(){if(this.Xr)return this.Xr;throw Tc()}addReference(e,t,n){return this.Zr.addReference(n,t),this.ti.delete(n.toString()),uu.resolve()}removeReference(e,t,n){return this.Zr.removeReference(n,t),this.ti.add(n.toString()),uu.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),uu.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach((e=>this.ti.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.ti.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Hr(){this.Xr=new Set}Jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return uu.forEach(this.ti,(n=>{const r=Yc.fromPath(n);return this.ni(e,r).next((e=>{e||t.removeEntry(r,Kc.min())}))})).next((()=>(this.Xr=null,t.apply(e))))}updateLimboDocument(e,t){return this.ni(e,t).next((e=>{e?this.ti.delete(t.toString()):this.ti.add(t.toString())}))}zr(e){return 0}ni(e,t){return uu.or([()=>uu.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}}class Ag{constructor(e,t){this.persistence=e,this.ri=new Qh((e=>Cu(e.path)),((e,t)=>e.isEqual(t))),this.garbageCollector=rg(this,t)}static ei(e,t){return new Ag(e,t)}Hr(){}Jr(e){return uu.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){const t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}nr(e){let t=0;return this.er(e,(e=>{t++})).next((()=>t))}er(e,t){return uu.forEach(this.ri,((n,r)=>this.ir(e,n,r).next((e=>e?uu.resolve():t(r)))))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.Lr(e,(r=>this.ir(e,r,t).next((e=>{e||(n++,i.removeEntry(r,Kc.min()))})))).next((()=>i.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),uu.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.ri.set(n,e.currentSequenceNumber),uu.resolve()}removeReference(e,t,n){return this.ri.set(n,e.currentSequenceNumber),uu.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),uu.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Ld(e.data.value)),t}ir(e,t,n){return uu.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.ri.get(t);return uu.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Rg{constructor(e){this.serializer=e}O(e,t,n,r){const i=new du("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Pu,{unique:!0}),e.createObjectStore("documentMutations")}(e),Pg(e),function(e){e.createObjectStore("remoteDocuments")}(e));let o=uu.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),Pg(e)),o=o.next((()=>function(e){const t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Kc.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(i)))),n<4&&r>=4&&(0!==n&&(o=o.next((()=>function(e,t){return t.store("mutations").U().next((n=>{e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Pu,{unique:!0});const r=t.store("mutations"),i=n.map((e=>r.put(e)));return uu.waitFor(i)}))}(e,i)))),o=o.next((()=>{!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((()=>this.ii(i)))),n<6&&r>=6&&(o=o.next((()=>(function(e){e.createObjectStore("remoteDocumentGlobal")}(e),this.si(i))))),n<7&&r>=7&&(o=o.next((()=>this.oi(i)))),n<8&&r>=8&&(o=o.next((()=>this._i(e,i)))),n<9&&r>=9&&(o=o.next((()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((()=>this.ai(i)))),n<11&&r>=11&&(o=o.next((()=>{!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((()=>{!function(e){const t=e.createObjectStore("documentOverlays",{keyPath:Ku});t.createIndex("collectionPathOverlayIndex",Gu,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",Qu,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((()=>function(e){const t=e.createObjectStore("remoteDocumentsV14",{keyPath:Lu});t.createIndex("documentKeyIndex",Mu),t.createIndex("collectionGroupIndex",Fu)}(e))).next((()=>this.ui(e,i))).next((()=>e.deleteObjectStore("remoteDocuments")))),n<14&&r>=14&&(o=o.next((()=>this.ci(e,i)))),n<15&&r>=15&&(o=o.next((()=>function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:Bu}).createIndex("sequenceNumberIndex",qu,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:Wu}).createIndex("documentKeyIndex",Hu,{unique:!1})}(e)))),n<16&&r>=16&&(o=o.next((()=>{t.objectStore("indexState").clear()})).next((()=>{t.objectStore("indexEntries").clear()}))),n<17&&r>=17&&(o=o.next((()=>{!function(e){e.createObjectStore("globals",{keyPath:"name"})}(e)}))),o}si(e){let t=0;return e.store("remoteDocuments").J(((e,n)=>{t+=Bm(n)})).next((()=>{const n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}ii(e){const t=e.store("mutationQueues"),n=e.store("mutations");return t.U().next((t=>uu.forEach(t,(t=>{const r=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return n.U("userMutationsIndex",r).next((n=>uu.forEach(n,(n=>{Cc(n.userId===t.userId);const r=Yp(this.serializer,n);return zm(e,t.userId,r).next((()=>{}))}))))}))))}oi(e){const t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((e=>{const r=[];return n.J(((n,i)=>{const o=new Qc(n),s=function(e){return[0,Cu(e)]}(o);r.push(t.get(s).next((n=>n?uu.resolve():(n=>t.put({targetId:0,path:Cu(n),sequenceNumber:e.highestListenSequenceNumber}))(o))))})).next((()=>uu.waitFor(r)))}))}_i(e,t){e.createObjectStore("collectionParents",{keyPath:zu});const n=t.store("collectionParents"),r=new Pm,i=e=>{if(r.add(e)){const t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:Cu(r)})}};return t.store("remoteDocuments").J({H:!0},((e,t)=>{const n=new Qc(e);return i(n.popLast())})).next((()=>t.store("documentMutations").J({H:!0},((e,t)=>{let[n,r,o]=e;const s=Ru(r);return i(s.popLast())}))))}ai(e){const t=e.store("targets");return t.J(((e,n)=>{const r=Xp(n),i=Zp(this.serializer,r);return t.put(i)}))}ui(e,t){const n=t.store("remoteDocuments"),r=[];return n.J(((e,n)=>{const i=t.store("remoteDocumentsV14"),o=function(e){return e.document?new Yc(Qc.fromString(e.document.name).popFirst(5)):e.noDocument?Yc.fromSegments(e.noDocument.path):e.unknownDocument?Yc.fromSegments(e.unknownDocument.path):Tc()}(n).path.toArray(),s={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(i.put(s))})).next((()=>uu.waitFor(r)))}ci(e,t){const n=t.store("mutations"),r=lg(this.serializer),i=new Tg(xg.ei,this.serializer.ht);return n.U().next((e=>{const n=new Map;return e.forEach((e=>{var t;let r=null!==(t=n.get(e.userId))&&void 0!==t?t:sf();Yp(this.serializer,e).keys().forEach((e=>r=r.add(e))),n.set(e.userId,r)})),uu.forEach(n,((e,n)=>{const o=new vc(n),s=am.Pt(this.serializer,o),a=i.getIndexManager(o),l=qm.Pt(o,this.serializer,a,i.referenceDelegate);return new gg(r,l,s,a).recalculateAndSaveOverlaysForDocumentKeys(new nd(t,Eu.oe),e).next()}))}))}}function Pg(e){e.createObjectStore("targetDocuments",{keyPath:Uu}).createIndex("documentTargetsIndex",Vu,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",ju,{unique:!0}),e.createObjectStore("targetGlobal")}const Og="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Ng{constructor(e,t,n,r,i,o,s,a,l,c){let u=arguments.length>10&&void 0!==arguments[10]?arguments[10]:17;if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.li=i,this.window=o,this.document=s,this.hi=l,this.Pi=c,this.Ti=u,this.$r=null,this.Ur=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ii=null,this.inForeground=!1,this.Ei=null,this.di=null,this.Ai=Number.NEGATIVE_INFINITY,this.Ri=e=>Promise.resolve(),!Ng.p())throw new Rc(Ac.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new ig(this,r),this.Vi=t+"main",this.serializer=new Kp(a),this.mi=new hu(this.Vi,this.Ti,new Rg(this.serializer)),this.Wr=new cm,this.Gr=new $m(this.referenceDelegate,this.serializer),this.remoteDocumentCache=lg(this.serializer),this.jr=new im,this.window&&this.window.localStorage?this.fi=this.window.localStorage:(this.fi=null,!1===c&&Ec("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.gi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Rc(Ac.FAILED_PRECONDITION,Og);return this.pi(),this.yi(),this.wi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Gr.getHighestSequenceNumber(e)))})).then((e=>{this.$r=new Eu(e,this.hi)})).then((()=>{this.Ur=!0})).catch((e=>(this.mi&&this.mi.close(),Promise.reject(e))))}Si(e){return this.Ri=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.mi.L((async t=>{null===t.newVersion&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.li.enqueueAndForget((async()=>{this.started&&await this.gi()})))}gi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>Lg(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.bi(e).next((e=>{e||(this.isPrimary=!1,this.li.enqueueRetryable((()=>this.Ri(!1))))}))})).next((()=>this.Di(e))).next((t=>this.isPrimary&&!t?this.vi(e).next((()=>!1)):!!t&&this.Ci(e).next((()=>!0)))))).catch((e=>{if(gu(e))return Sc("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Sc("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.li.enqueueRetryable((()=>this.Ri(e))),this.isPrimary=e}))}bi(e){return Dg(e).get("owner").next((e=>uu.resolve(this.Fi(e))))}Mi(e){return Lg(e).delete(this.clientId)}async xi(){if(this.isPrimary&&!this.Oi(this.Ai,18e5)){this.Ai=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(e=>{const t=rd(e,"clientMetadata");return t.U().next((e=>{const n=this.Ni(e,18e5),r=e.filter((e=>-1===n.indexOf(e)));return uu.forEach(r,(e=>t.delete(e.clientId))).next((()=>r))}))})).catch((()=>[]));if(this.fi)for(const t of e)this.fi.removeItem(this.Li(t.clientId))}}wi(){this.di=this.li.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.gi().then((()=>this.xi())).then((()=>this.wi()))))}Fi(e){return!!e&&e.ownerId===this.clientId}Di(e){return this.Pi?uu.resolve(!0):Dg(e).get("owner").next((t=>{if(null!==t&&this.Oi(t.leaseTimestampMs,5e3)&&!this.Bi(t.ownerId)){if(this.Fi(t)&&this.networkEnabled)return!0;if(!this.Fi(t)){if(!t.allowTabSynchronization)throw new Rc(Ac.FAILED_PRECONDITION,Og);return!1}}return!(!this.networkEnabled||!this.inForeground)||Lg(e).U().next((e=>void 0===this.Ni(e,5e3).find((e=>{if(this.clientId!==e.clientId){const t=!this.networkEnabled&&e.networkEnabled,n=!this.inForeground&&e.inForeground,r=this.networkEnabled===e.networkEnabled;if(t||n&&r)return!0}return!1}))))})).next((e=>(this.isPrimary!==e&&Sc("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e)))}async shutdown(){this.Ur=!1,this.ki(),this.di&&(this.di.cancel(),this.di=null),this.qi(),this.Qi(),await this.mi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(e=>{const t=new nd(e,Eu.oe);return this.vi(t).next((()=>this.Mi(t)))})),this.mi.close(),this.Ki()}Ni(e,t){return e.filter((e=>this.Oi(e.updateTimeMs,t)&&!this.Bi(e.clientId)))}$i(){return this.runTransaction("getActiveClients","readonly",(e=>Lg(e).U().next((e=>this.Ni(e,18e5).map((e=>e.clientId))))))}get started(){return this.Ur}getGlobalsCache(){return this.Wr}getMutationQueue(e,t){return qm.Pt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Nm(e,this.serializer.ht.databaseId)}getDocumentOverlayCache(e){return am.Pt(this.serializer,e)}getBundleCache(){return this.jr}runTransaction(e,t,n){Sc("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",i=function(e){return 17===e?td:16===e?ed:15===e?Zu:14===e?Xu:13===e?Yu:12===e?Ju:11===e?$u:void Tc()}(this.Ti);let o;return this.mi.runTransaction(e,r,i,(r=>(o=new nd(r,this.$r?this.$r.next():Eu.oe),"readwrite-primary"===t?this.bi(o).next((e=>!!e||this.Di(o))).next((t=>{if(!t)throw Ec("Failed to obtain primary lease for action '".concat(e,"'.")),this.isPrimary=!1,this.li.enqueueRetryable((()=>this.Ri(!1))),new Rc(Ac.FAILED_PRECONDITION,au);return n(o)})).next((e=>this.Ci(o).next((()=>e)))):this.Ui(o).next((()=>n(o)))))).then((e=>(o.raiseOnCommittedEvent(),e)))}Ui(e){return Dg(e).get("owner").next((e=>{if(null!==e&&this.Oi(e.leaseTimestampMs,5e3)&&!this.Bi(e.ownerId)&&!this.Fi(e)&&!(this.Pi||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Rc(Ac.FAILED_PRECONDITION,Og)}))}Ci(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Dg(e).put("owner",t)}static p(){return hu.p()}vi(e){const t=Dg(e);return t.get("owner").next((e=>this.Fi(e)?(Sc("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):uu.resolve()))}Oi(e,t){const n=Date.now();return!(e<n-t)&&(!(e>n)||(Ec("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}pi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ei=()=>{this.li.enqueueAndForget((()=>(this.inForeground="visible"===this.document.visibilityState,this.gi())))},this.document.addEventListener("visibilitychange",this.Ei),this.inForeground="visible"===this.document.visibilityState)}qi(){this.Ei&&(this.document.removeEventListener("visibilitychange",this.Ei),this.Ei=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Ii=()=>{this.ki();const e=/(?:Version|Mobile)\/1[456]/;vn()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.li.enterRestrictedMode(!0),this.li.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Ii))}Qi(){this.Ii&&(this.window.removeEventListener("pagehide",this.Ii),this.Ii=null)}Bi(e){var t;try{const n=null!==(null===(t=this.fi)||void 0===t?void 0:t.getItem(this.Li(e)));return Sc("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Ec("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}ki(){if(this.fi)try{this.fi.setItem(this.Li(this.clientId),String(Date.now()))}catch(HP){Ec("Failed to set zombie client id.",HP)}}Ki(){if(this.fi)try{this.fi.removeItem(this.Li(this.clientId))}catch(HP){}}Li(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}function Dg(e){return rd(e,"owner")}function Lg(e){return rd(e,"clientMetadata")}function Mg(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class Fg{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Wi=n,this.Gi=r}static zi(e,t){let n=sf(),r=sf();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Fg(e,t.fromCache,n,r)}}class jg{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Ug{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=vn()?8:fu(hn())>0?6:4}initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.Xi(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.es(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new jg;return this.ts(e,t,n).next((r=>{if(i.result=r,this.Hi)return this.ns(e,t,n,r.size)}))})).next((()=>i.result))}ns(e,t,n,r){return n.documentReadCount<this.Ji?(_c()<=Un.DEBUG&&Sc("QueryEngine","SDK will not create cache indexes for query:",qh(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),uu.resolve()):(_c()<=Un.DEBUG&&Sc("QueryEngine","Query:",qh(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Yi*r?(_c()<=Un.DEBUG&&Sc("QueryEngine","The SDK decides to create cache indexes for query:",qh(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Fh(t))):uu.resolve())}Xi(e,t){if(Dh(t))return uu.resolve(null);let n=Fh(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=Vh(t,null,"F"),n=Fh(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=sf(...r);return this.Zi.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const o=this.rs(t,r);return this.ss(t,o,i,n.readTime)?this.Xi(e,Vh(t,null,"F")):this.os(e,o,t,n)}))))})))))}es(e,t,n,r){return Dh(t)||r.isEqual(Kc.min())?uu.resolve(null):this.Zi.getDocuments(e,n).next((i=>{const o=this.rs(t,i);return this.ss(t,o,n,r)?uu.resolve(null):(_c()<=Un.DEBUG&&Sc("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),qh(t)),this.os(e,o,t,ru(r,-1)).next((e=>e)))}))}rs(e,t){let n=new ud(Kh(e));return t.forEach(((t,r)=>{Wh(e,r)&&(n=n.add(r))})),n}ss(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}ts(e,t,n){return _c()<=Un.DEBUG&&Sc("QueryEngine","Using full collection scan to execute query:",qh(t)),this.Zi.getDocumentsMatchingQuery(e,t,ou.min(),n)}os(e,t,n,r){return this.Zi.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class Vg{constructor(e,t,n,r){this.persistence=e,this._s=t,this.serializer=r,this.us=new ad(Bc),this.cs=new Qh((e=>Ih(e)),Th),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(n)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new gg(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.us)))}}function zg(e,t,n,r){return new Vg(e,t,n,r)}async function Bg(e,t){const n=xc(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.Ps(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],o=[];let s=sf();for(const e of r){i.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}for(const e of t){o.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}return n.localDocuments.getDocuments(e,s).next((e=>({Ts:e,removedBatchIds:i,addedBatchIds:o})))}))}))}function qg(e){const t=xc(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Gr.getLastRemoteSnapshotVersion(e)))}function Wg(e,t,n){let r=sf(),i=sf();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=Jh();return n.forEach(((n,o)=>{const s=e.get(n);o.isFoundDocument()!==s.isFoundDocument()&&(i=i.add(n)),o.isNoDocument()&&o.version.isEqual(Kc.min())?(t.removeEntry(n,o.readTime),r=r.insert(n,o)):!s.isValidDocument()||o.version.compareTo(s.version)>0||0===o.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(o),r=r.insert(n,o)):Sc("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",o.version)})),{Is:r,Es:i}}))}function Hg(e,t){const n=xc(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function Kg(e,t){const n=xc(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Gr.getTargetData(e,t).next((i=>i?(r=i,uu.resolve(r)):n.Gr.allocateTargetId(e).next((i=>(r=new Hp(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Gr.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.us.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.us=n.us.insert(e.targetId,e),n.cs.set(t,e.targetId)),e}))}async function Gg(e,t,n){const r=xc(e),i=r.us.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!gu(e))throw e;Sc("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.us=r.us.remove(t),r.cs.delete(i.target)}function Qg(e,t,n){const r=xc(e);let i=Kc.min(),o=sf();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=xc(e),i=r.cs.get(n);return void 0!==i?uu.resolve(r.us.get(i)):r.Gr.getTargetData(t,n)}(r,e,Fh(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Gr.getMatchingKeysForTargetId(e,t.targetId).next((e=>{o=e}))})).next((()=>r._s.getDocumentsMatchingQuery(e,t,n?i:Kc.min(),n?o:sf()))).next((e=>(Yg(r,Hh(t),e),{documents:e,ds:o})))))}function $g(e,t){const n=xc(e),r=xc(n.Gr),i=n.us.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(e=>r.ut(e,t).next((e=>e?e.target:null))))}function Jg(e,t){const n=xc(e),r=n.ls.get(t)||Kc.min();return n.persistence.runTransaction("Get new document changes","readonly",(e=>n.hs.getAllFromCollectionGroup(e,t,ru(r,-1),Number.MAX_SAFE_INTEGER))).then((e=>(Yg(n,t,e),e)))}function Yg(e,t,n){let r=e.ls.get(t)||Kc.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.ls.set(t,r)}async function Xg(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:sf();const r=await Kg(e,Fh(em(t.bundledQuery))),i=xc(e);return i.persistence.runTransaction("Save named query","readwrite",(e=>{const o=wp(t.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.jr.saveNamedQuery(e,t);const s=r.withResumeToken(md.EMPTY_BYTE_STRING,o);return i.us=i.us.insert(s.targetId,s),i.Gr.updateTargetData(e,s).next((()=>i.Gr.removeMatchingKeysForTargetId(e,r.targetId))).next((()=>i.Gr.addMatchingKeys(e,n,r.targetId))).next((()=>i.jr.saveNamedQuery(e,t)))}))}function Zg(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function ey(e,t,n){let r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function ty(e,t){return"firestore_targets_".concat(e,"_").concat(t)}class ny{constructor(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}static fs(e,t,n){const r=JSON.parse(n);let i,o="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return o&&r.error&&(o="string"==typeof r.error.message&&"string"==typeof r.error.code,o&&(i=new Rc(r.error.code,r.error.message))),o?new ny(e,t,r.state,i):(Ec("SharedClientState","Failed to parse mutation state for ID '".concat(t,"': ").concat(n)),null)}gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ry{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static fs(e,t){const n=JSON.parse(t);let r,i="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return i&&n.error&&(i="string"==typeof n.error.message&&"string"==typeof n.error.code,i&&(r=new Rc(n.error.code,n.error.message))),i?new ry(e,n.state,r):(Ec("SharedClientState","Failed to parse target state for ID '".concat(e,"': ").concat(t)),null)}gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class iy{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static fs(e,t){const n=JSON.parse(t);let r="object"==typeof n&&n.activeTargetIds instanceof Array,i=lf();for(let o=0;r&&o<n.activeTargetIds.length;++o)r=Tu(n.activeTargetIds[o]),i=i.add(n.activeTargetIds[o]);return r?new iy(e,i):(Ec("SharedClientState","Failed to parse client data for instance '".concat(e,"': ").concat(t)),null)}}class oy{constructor(e,t){this.clientId=e,this.onlineState=t}static fs(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new oy(t.clientId,t.onlineState):(Ec("SharedClientState","Failed to parse online state: ".concat(e)),null)}}class sy{constructor(){this.activeTargetIds=lf()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ay{constructor(e,t,n,r,i){this.window=e,this.li=t,this.persistenceKey=n,this.ws=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Ss=this.bs.bind(this),this.Ds=new ad(Bc),this.started=!1,this.vs=[];const o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Cs=Zg(this.persistenceKey,this.ws),this.Fs=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.Ds=this.Ds.insert(this.ws,new sy),this.Ms=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.xs=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.Os=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.Ns=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.Ls=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.Ss)}static p(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.$i();for(const n of e){if(n===this.ws)continue;const e=this.getItem(Zg(this.persistenceKey,n));if(e){const t=iy.fs(n,e);t&&(this.Ds=this.Ds.insert(t.clientId,t))}}this.Bs();const t=this.storage.getItem(this.Ns);if(t){const e=this.ks(t);e&&this.qs(e)}for(const n of this.vs)this.bs(n);this.vs=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.Fs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Qs(this.Ds)}isActiveQueryTarget(e){let t=!1;return this.Ds.forEach(((n,r)=>{r.activeTargetIds.has(e)&&(t=!0)})),t}addPendingMutation(e){this.Ks(e,"pending")}updateMutationState(e,t,n){this.Ks(e,t,n),this.$s(e)}addLocalQueryTarget(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n="not-current";if(this.isActiveQueryTarget(e)){const t=this.storage.getItem(ty(this.persistenceKey,e));if(t){const r=ry.fs(e,t);r&&(n=r.state)}}return t&&this.Us.ps(e),this.Bs(),n}removeLocalQueryTarget(e){this.Us.ys(e),this.Bs()}isLocalQueryTarget(e){return this.Us.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(ty(this.persistenceKey,e))}updateQueryState(e,t,n){this.Ws(e,t,n)}handleUserChange(e,t,n){t.forEach((e=>{this.$s(e)})),this.currentUser=e,n.forEach((e=>{this.addPendingMutation(e)}))}setOnlineState(e){this.Gs(e)}notifyBundleLoaded(e){this.zs(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Ss),this.removeItem(this.Cs),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Sc("SharedClientState","READ",e,t),t}setItem(e,t){Sc("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Sc("SharedClientState","REMOVE",e),this.storage.removeItem(e)}bs(e){const t=e;if(t.storageArea===this.storage){if(Sc("SharedClientState","EVENT",t.key,t.newValue),t.key===this.Cs)return void Ec("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.li.enqueueRetryable((async()=>{if(this.started){if(null!==t.key)if(this.Ms.test(t.key)){if(null==t.newValue){const e=this.js(t.key);return this.Hs(e,null)}{const e=this.Js(t.key,t.newValue);if(e)return this.Hs(e.clientId,e)}}else if(this.xs.test(t.key)){if(null!==t.newValue){const e=this.Ys(t.key,t.newValue);if(e)return this.Zs(e)}}else if(this.Os.test(t.key)){if(null!==t.newValue){const e=this.Xs(t.key,t.newValue);if(e)return this.eo(e)}}else if(t.key===this.Ns){if(null!==t.newValue){const e=this.ks(t.newValue);if(e)return this.qs(e)}}else if(t.key===this.Fs){const e=function(e){let t=Eu.oe;if(null!=e)try{const n=JSON.parse(e);Cc("number"==typeof n),t=n}catch(e){Ec("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(t.newValue);e!==Eu.oe&&this.sequenceNumberHandler(e)}else if(t.key===this.Ls){const e=this.no(t.newValue);await Promise.all(e.map((e=>this.syncEngine.ro(e))))}}else this.vs.push(t)}))}}get Us(){return this.Ds.get(this.ws)}Bs(){this.setItem(this.Cs,this.Us.gs())}Ks(e,t,n){const r=new ny(this.currentUser,e,t,n),i=ey(this.persistenceKey,this.currentUser,e);this.setItem(i,r.gs())}$s(e){const t=ey(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Gs(e){const t={clientId:this.ws,onlineState:e};this.storage.setItem(this.Ns,JSON.stringify(t))}Ws(e,t,n){const r=ty(this.persistenceKey,e),i=new ry(e,t,n);this.setItem(r,i.gs())}zs(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Ls,t)}js(e){const t=this.Ms.exec(e);return t?t[1]:null}Js(e,t){const n=this.js(e);return iy.fs(n,t)}Ys(e,t){const n=this.xs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return ny.fs(new vc(i),r,t)}Xs(e,t){const n=this.Os.exec(e),r=Number(n[1]);return ry.fs(r,t)}ks(e){return oy.fs(e)}no(e){return JSON.parse(e)}async Zs(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.io(e.batchId,e.state,e.error);Sc("SharedClientState","Ignoring mutation for non-active user ".concat(e.user.uid))}eo(e){return this.syncEngine.so(e.targetId,e.state,e.error)}Hs(e,t){const n=t?this.Ds.insert(e,t):this.Ds.remove(e),r=this.Qs(this.Ds),i=this.Qs(n),o=[],s=[];return i.forEach((e=>{r.has(e)||o.push(e)})),r.forEach((e=>{i.has(e)||s.push(e)})),this.syncEngine.oo(o,s).then((()=>{this.Ds=n}))}qs(e){this.Ds.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Qs(e){let t=lf();return e.forEach(((e,n)=>{t=t.unionWith(n.activeTargetIds)})),t}}class ly{constructor(){this._o=new sy,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,n){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new sy,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class cy{uo(e){}shutdown(){}}class uy{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){Sc("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){Sc("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let dy=null;function hy(){return null===dy?dy=268435456+Math.round(2147483648*Math.random()):dy++,"0x"+dy.toString(16)}const fy={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class py{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}const my="WebChannelConnection";class gy extends class{get Co(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Fo=t+"://"+e.host,this.Mo="projects/".concat(n,"/databases/").concat(r),this.xo="(default)"===this.databaseId.database?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}Oo(e,t,n,r,i){const o=hy(),s=this.No(e,t.toUriEncodedString());Sc("RestConnection","Sending RPC '".concat(e,"' ").concat(o,":"),s,n);const a={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(a,r,i),this.Bo(e,s,a,n).then((t=>(Sc("RestConnection","Received RPC '".concat(e,"' ").concat(o,": "),t),t)),(t=>{throw kc("RestConnection","RPC '".concat(e,"' ").concat(o," failed with error: "),t,"url: ",s,"request:",n),t}))}ko(e,t,n,r,i,o){return this.Oo(e,t,n,r,i)}Lo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+wc,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}No(e,t){const n=fy[e];return"".concat(this.Fo,"/v1/").concat(t,":").concat(n)}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,t,n,r){const i=hy();return new Promise(((o,s)=>{const a=new ac;a.setWithCredentials(!0),a.listenOnce(cc.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case uc.NO_ERROR:const t=a.getResponseJson();Sc(my,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),o(t);break;case uc.TIMEOUT:Sc(my,"RPC '".concat(e,"' ").concat(i," timed out")),s(new Rc(Ac.DEADLINE_EXCEEDED,"Request time out"));break;case uc.HTTP_ERROR:const n=a.getStatus();if(Sc(my,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Ac).indexOf(t)>=0?t:Ac.UNKNOWN}(t.status);s(new Rc(e,t.message))}else s(new Rc(Ac.UNKNOWN,"Server responded with status "+a.getStatus()))}else s(new Rc(Ac.UNAVAILABLE,"Connection failed."));break;default:Tc()}}finally{Sc(my,"RPC '".concat(e,"' ").concat(i," completed."))}}));const l=JSON.stringify(r);Sc(my,"RPC '".concat(e,"' ").concat(i," sending request:"),r),a.send(t,"POST",l,n,15)}))}qo(e,t,n){const r=hy(),i=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=pc(),s=fc(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.useFetchStreams=!0),this.Lo(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const c=i.join("");Sc(my,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),a);const u=o.createWebChannel(c,a);let d=!1,h=!1;const f=new py({Eo:t=>{h?Sc(my,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(d||(Sc(my,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),d=!0),Sc(my,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},Ao:()=>u.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(u,lc.EventType.OPEN,(()=>{h||(Sc(my,"RPC '".concat(e,"' stream ").concat(r," transport opened.")),f.So())})),p(u,lc.EventType.CLOSE,(()=>{h||(h=!0,Sc(my,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.Do())})),p(u,lc.EventType.ERROR,(t=>{h||(h=!0,kc(my,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),f.Do(new Rc(Ac.UNAVAILABLE,"The operation could not be completed")))})),p(u,lc.EventType.MESSAGE,(t=>{var n;if(!h){const i=t.data[0];Cc(!!i);const o=i,s=(null==o?void 0:o.error)||(null===(n=o[0])||void 0===n?void 0:n.error);if(s){Sc(my,"RPC '".concat(e,"' stream ").concat(r," received error:"),s);const t=s.status;let n=function(e){const t=Hf[e];if(void 0!==t)return Qf(t)}(t),i=s.message;void 0===n&&(n=Ac.INTERNAL,i="Unknown error status: "+t+" with message "+s.message),h=!0,f.Do(new Rc(n,i)),u.close()}else Sc(my,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f.vo(i)}})),p(s,hc.STAT_EVENT,(t=>{t.stat===dc.PROXY?Sc(my,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===dc.NOPROXY&&Sc(my,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((()=>{f.bo()}),0),f}}function yy(){return"undefined"!=typeof window?window:null}function vy(){return"undefined"!=typeof document?document:null}function wy(e){return new pp(e,!0)}class by{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.li=e,this.timerId=t,this.Qo=n,this.Ko=r,this.$o=i,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const t=Math.floor(this.Uo+this.Ho()),n=Math.max(0,Date.now()-this.Go),r=Math.max(0,t-n);r>0&&Sc("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.Uo," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.Wo=this.li.enqueueAfterDelay(this.timerId,r,(()=>(this.Go=Date.now(),e()))),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){null!==this.Wo&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){null!==this.Wo&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}class _y{constructor(e,t,n,r,i,o,s,a){this.li=e,this.Yo=n,this.Zo=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=a,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new by(e,t)}i_(){return 1===this.state||5===this.state||this.s_()}s_(){return 2===this.state||3===this.state}start(){this.n_=0,4!==this.state?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&null===this.e_&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,(()=>this.u_())))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,t){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,4!==e?this.r_.reset():t&&t.code===Ac.RESOURCE_EXHAUSTED?(Ec(t.toString()),Ec("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):t&&t.code===Ac.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(t)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.Xo===t&&this.I_(n,r)}),(t=>{e((()=>{const e=new Rc(Ac.UNKNOWN,"Fetching auth token failed: "+t.message);return this.E_(e)}))}))}I_(e,t){const n=this.T_(this.Xo);this.stream=this.d_(e,t),this.stream.Ro((()=>{n((()=>this.listener.Ro()))})),this.stream.mo((()=>{n((()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,(()=>(this.s_()&&(this.state=3),Promise.resolve()))),this.listener.mo())))})),this.stream.po((e=>{n((()=>this.E_(e)))})),this.stream.onMessage((e=>{n((()=>1==++this.n_?this.A_(e):this.onNext(e)))}))}o_(){this.state=5,this.r_.jo((async()=>{this.state=0,this.start()}))}E_(e){return Sc("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget((()=>this.Xo===e?t():(Sc("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Sy extends _y{constructor(e,t,n,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}d_(e,t){return this.connection.qo("Listen",e,t)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Tc()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.useProto3Json?(Cc(void 0===t||"string"==typeof t),md.fromBase64String(t||"")):(Cc(void 0===t||t instanceof Buffer||t instanceof Uint8Array),md.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,a=s&&function(e){const t=void 0===e.code?Ac.UNKNOWN:Qf(e.code);return new Rc(t,e.message||"")}(s);n=new sp(r,i,o,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=kp(e,r.document.name),o=wp(r.document.updateTime),s=r.document.createTime?wp(r.document.createTime):Kc.min(),a=new Jd({mapValue:{fields:r.document.fields}}),l=Xd.newFoundDocument(i,o,s,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new ip(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=kp(e,r.document),o=r.readTime?wp(r.readTime):Kc.min(),s=Xd.newNoDocument(i,o),a=r.removedTargetIds||[];n=new ip([],a,s.key,s)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=kp(e,r.document),o=r.removedTargetIds||[];n=new ip([],o,i,null)}else{if(!("filter"in t))return Tc();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,o=new Wf(r,i),s=e.targetId;n=new op(s,o)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Kc.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Kc.min():t.readTime?wp(t.readTime):Kc.min()}(e);return this.listener.R_(t,n)}V_(e){const t={};t.database=Cp(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Ch(r)?{documents:Np(e,r)}:{query:Dp(e,r).ct},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=yp(e,t.resumeToken);const r=mp(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Kc.min())>0){n.readTime=gp(e,t.snapshotVersion.toTimestamp());const r=mp(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Tc()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.c_(t)}m_(e){const t={};t.database=Cp(this.serializer),t.removeTarget=e,this.c_(t)}}class Ey extends _y{constructor(e,t,n,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,t){return this.connection.qo("Write",e,t)}A_(e){return Cc(!!e.streamToken),this.lastStreamToken=e.streamToken,Cc(!e.writeResults||0===e.writeResults.length),this.listener.p_()}onNext(e){Cc(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const t=function(e,t){return e&&e.length>0?(Cc(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?wp(e.updateTime):wp(t);return n.isEqual(Kc.min())&&(n=wp(t)),new If(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=wp(e.commitTime);return this.listener.y_(n,t)}w_(){const e={};e.database=Cp(this.serializer),this.c_(e)}g_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>Pp(this.serializer,e)))};this.c_(t)}}class ky extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.S_=!1}b_(){if(this.S_)throw new Rc(Ac.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,n,r){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[o,s]=i;return this.connection.Oo(e,_p(t,n),r,o,s)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Ac.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Rc(Ac.UNKNOWN,e.toString())}))}ko(e,t,n,r,i){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((o=>{let[s,a]=o;return this.connection.ko(e,_p(t,n),r,s,a,i)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Ac.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Rc(Ac.UNKNOWN,e.toString())}))}terminate(){this.S_=!0,this.connection.terminate()}}class Iy{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){0===this.D_&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve()))))}O_(e){"Online"===this.state?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.M_("Offline")))}set(e){this.N_(),this.D_=0,"Online"===e&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.C_?(Ec(t),this.C_=!1):Sc("OnlineStateTracker",t)}N_(){null!==this.v_&&(this.v_.cancel(),this.v_=null)}}class Ty{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=i,this.Q_.uo((e=>{n.enqueueAndForget((async()=>{Ly(this)&&(Sc("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=xc(e);t.k_.add(4),await xy(t),t.K_.set("Unknown"),t.k_.delete(4),await Cy(t)}(this))}))})),this.K_=new Iy(n,r)}}async function Cy(e){if(Ly(e))for(const t of e.q_)await t(!0)}async function xy(e){for(const t of e.q_)await t(!1)}function Ay(e,t){const n=xc(e);n.B_.has(t.targetId)||(n.B_.set(t.targetId,t),Dy(n)?Ny(n):ev(n).s_()&&Py(n,t))}function Ry(e,t){const n=xc(e),r=ev(n);n.B_.delete(t),r.s_()&&Oy(n,t),0===n.B_.size&&(r.s_()?r.a_():Ly(n)&&n.K_.set("Unknown"))}function Py(e,t){if(e.U_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Kc.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}ev(e).V_(t)}function Oy(e,t){e.U_.xe(t),ev(e).m_(t)}function Ny(e){e.U_=new lp({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ut:t=>e.B_.get(t)||null,nt:()=>e.datastore.serializer.databaseId}),ev(e).start(),e.K_.F_()}function Dy(e){return Ly(e)&&!ev(e).i_()&&e.B_.size>0}function Ly(e){return 0===xc(e).k_.size}function My(e){e.U_=void 0}async function Fy(e){e.K_.set("Online")}async function jy(e){e.B_.forEach(((t,n)=>{Py(e,t)}))}async function Uy(e,t){My(e),Dy(e)?(e.K_.O_(t),Ny(e)):e.K_.set("Unknown")}async function Vy(e,t,n){if(e.K_.set("Online"),t instanceof sp&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.B_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.B_.delete(r),e.U_.removeTarget(r))}(e,t)}catch(n){Sc("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await zy(e,n)}else if(t instanceof ip?e.U_.$e(t):t instanceof op?e.U_.Je(t):e.U_.Ge(t),!n.isEqual(Kc.min()))try{const t=await qg(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.U_.it(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.B_.get(r);i&&e.B_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.B_.get(t);if(!r)return;e.B_.set(t,r.withResumeToken(md.EMPTY_BYTE_STRING,r.snapshotVersion)),Oy(e,t);const i=new Hp(r.target,t,n,r.sequenceNumber);Py(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Sc("RemoteStore","Failed to raise snapshot:",t),await zy(e,t)}}async function zy(e,t,n){if(!gu(t))throw t;e.k_.add(1),await xy(e),e.K_.set("Offline"),n||(n=()=>qg(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{Sc("RemoteStore","Retrying IndexedDB access"),await n(),e.k_.delete(1),await Cy(e)}))}function By(e,t){return t().catch((n=>zy(e,n,t)))}async function qy(e){const t=xc(e),n=tv(t);let r=t.L_.length>0?t.L_[t.L_.length-1].batchId:-1;for(;Wy(t);)try{const e=await Hg(t.localStore,r);if(null===e){0===t.L_.length&&n.a_();break}r=e.batchId,Hy(t,e)}catch(e){await zy(t,e)}Ky(t)&&Gy(t)}function Wy(e){return Ly(e)&&e.L_.length<10}function Hy(e,t){e.L_.push(t);const n=tv(e);n.s_()&&n.f_&&n.g_(t.mutations)}function Ky(e){return Ly(e)&&!tv(e).i_()&&e.L_.length>0}function Gy(e){tv(e).start()}async function Qy(e){tv(e).w_()}async function $y(e){const t=tv(e);for(const n of e.L_)t.g_(n.mutations)}async function Jy(e,t,n){const r=e.L_.shift(),i=Bf.from(r,t,n);await By(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await qy(e)}async function Yy(e,t){t&&tv(e).f_&&await async function(e,t){if(function(e){return Gf(e)&&e!==Ac.ABORTED}(t.code)){const n=e.L_.shift();tv(e).__(),await By(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await qy(e)}}(e,t),Ky(e)&&Gy(e)}async function Xy(e,t){const n=xc(e);n.asyncQueue.verifyOperationInProgress(),Sc("RemoteStore","RemoteStore received new credentials");const r=Ly(n);n.k_.add(3),await xy(n),r&&n.K_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.k_.delete(3),await Cy(n)}async function Zy(e,t){const n=xc(e);t?(n.k_.delete(2),await Cy(n)):t||(n.k_.add(2),await xy(n),n.K_.set("Unknown"))}function ev(e){return e.W_||(e.W_=function(e,t,n){const r=xc(e);return r.b_(),new Sy(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Ro:Fy.bind(null,e),mo:jy.bind(null,e),po:Uy.bind(null,e),R_:Vy.bind(null,e)}),e.q_.push((async t=>{t?(e.W_.__(),Dy(e)?Ny(e):e.K_.set("Unknown")):(await e.W_.stop(),My(e))}))),e.W_}function tv(e){return e.G_||(e.G_=function(e,t,n){const r=xc(e);return r.b_(),new Ey(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Ro:()=>Promise.resolve(),mo:Qy.bind(null,e),po:Yy.bind(null,e),p_:$y.bind(null,e),y_:Jy.bind(null,e)}),e.q_.push((async t=>{t?(e.G_.__(),await qy(e)):(await e.G_.stop(),e.L_.length>0&&(Sc("RemoteStore","Stopping write stream with ".concat(e.L_.length," pending writes")),e.L_=[]))}))),e.G_}class nv{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Pc,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const o=Date.now()+n,s=new nv(e,t,o,r,i);return s.start(n),s}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Rc(Ac.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function rv(e,t){if(Ec("AsyncQueue","".concat(t,": ").concat(e)),gu(e))return new Rc(Ac.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class iv{static emptySet(e){return new iv(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||Yc.comparator(t.key,n.key):(e,t)=>Yc.comparator(e.key,t.key),this.keyedMap=Xh(),this.sortedSet=new ad(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof iv))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new iv;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class ov{constructor(){this.z_=new ad(Yc.comparator)}track(e){const t=e.doc.key,n=this.z_.get(t);n?0!==e.type&&3===n.type?this.z_=this.z_.insert(t,e):3===e.type&&1!==n.type?this.z_=this.z_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.z_=this.z_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.z_=this.z_.remove(t):1===e.type&&2===n.type?this.z_=this.z_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):Tc():this.z_=this.z_.insert(t,e)}j_(){const e=[];return this.z_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class sv{constructor(e,t,n,r,i,o,s,a,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const o=[];return t.forEach((e=>{o.push({type:0,doc:e})})),new sv(e,t,iv.emptySet(t),o,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&zh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class av{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some((e=>e.Z_()))}}class lv{constructor(){this.queries=cv(),this.onlineState="Unknown",this.X_=new Set}terminate(){!function(e,t){const n=xc(e),r=n.queries;n.queries=cv(),r.forEach(((e,n)=>{for(const r of n.J_)r.onError(t)}))}(this,new Rc(Ac.ABORTED,"Firestore shutting down"))}}function cv(){return new Qh((e=>Bh(e)),zh)}async function uv(e,t){const n=xc(e);let r=3;const i=t.query;let o=n.queries.get(i);o?!o.Y_()&&t.Z_()&&(r=2):(o=new av,r=t.Z_()?0:1);try{switch(r){case 0:o.H_=await n.onListen(i,!0);break;case 1:o.H_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=rv(e,"Initialization of query '".concat(qh(t.query),"' failed"));return void t.onError(n)}n.queries.set(i,o),o.J_.push(t),t.ea(n.onlineState),o.H_&&t.ta(o.H_)&&pv(n)}async function dv(e,t){const n=xc(e),r=t.query;let i=3;const o=n.queries.get(r);if(o){const e=o.J_.indexOf(t);e>=0&&(o.J_.splice(e,1),0===o.J_.length?i=t.Z_()?0:1:!o.Y_()&&t.Z_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function hv(e,t){const n=xc(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.J_)e.ta(i)&&(r=!0);t.H_=i}}r&&pv(n)}function fv(e,t,n){const r=xc(e),i=r.queries.get(t);if(i)for(const o of i.J_)o.onError(n);r.queries.delete(t)}function pv(e){e.X_.forEach((e=>{e.next()}))}var mv,gv;(gv=mv||(mv={})).na="default",gv.Cache="cache";class yv{constructor(e,t,n){this.query=e,this.ra=t,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=n||{}}ta(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new sv(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ia?this.oa(e)&&(this.ra.next(e),t=!0):this._a(e,this.onlineState)&&(this.aa(e),t=!0),this.sa=e,t}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let t=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),t=!0),t}_a(e,t){if(!e.fromCache)return!0;if(!this.Z_())return!0;const n="Offline"!==t;return(!this.options.ua||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}oa(e){if(e.docChanges.length>0)return!0;const t=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}aa(e){e=sv.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==mv.Cache}}class vv{constructor(e,t){this.ca=e,this.byteLength=t}la(){return"metadata"in this.ca}}class wv{constructor(e){this.serializer=e}As(e){return kp(this.serializer,e)}Rs(e){return e.metadata.exists?Rp(this.serializer,e.document,!1):Xd.newNoDocument(this.As(e.metadata.name),this.Vs(e.metadata.readTime))}Vs(e){return wp(e)}}class bv{constructor(e,t,n){this.ha=e,this.localStore=t,this.serializer=n,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=_v(e)}Pa(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.ca.namedQuery)this.queries.push(e.ca.namedQuery);else if(e.ca.documentMetadata){this.documents.push({metadata:e.ca.documentMetadata}),e.ca.documentMetadata.exists||++t;const n=Qc.fromString(e.ca.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.ca.document&&(this.documents[this.documents.length-1].document=e.ca.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Ta(e){const t=new Map,n=new wv(this.serializer);for(const r of e)if(r.metadata.queries){const e=n.As(r.metadata.name);for(const n of r.metadata.queries){const r=(t.get(n)||sf()).add(e);t.set(n,r)}}return t}async complete(){const e=await async function(e,t,n,r){const i=xc(e);let o=sf(),s=Jh();for(const c of n){const e=t.As(c.metadata.name);c.document&&(o=o.add(e));const n=t.Rs(c);n.setReadTime(t.Vs(c.metadata.readTime)),s=s.insert(e,n)}const a=i.hs.newChangeBuffer({trackRemovals:!0}),l=await Kg(i,function(e){return Fh(Nh(Qc.fromString("__bundle__/docs/".concat(e))))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",(e=>Wg(e,a,s).next((t=>(a.apply(e),t))).next((t=>i.Gr.removeMatchingKeysForTargetId(e,l.targetId).next((()=>i.Gr.addMatchingKeys(e,o,l.targetId))).next((()=>i.localDocuments.getLocalViewOfDocuments(e,t.Is,t.Es))).next((()=>t.Is))))))}(this.localStore,new wv(this.serializer),this.documents,this.ha.id),t=this.Ta(this.documents);for(const n of this.queries)await Xg(this.localStore,n,t.get(n.name));return this.progress.taskState="Success",{progress:this.progress,Ia:this.collectionGroups,Ea:e}}}function _v(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}class Sv{constructor(e){this.key=e}}class Ev{constructor(e){this.key=e}}class kv{constructor(e,t){this.query=e,this.da=t,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=sf(),this.mutatedKeys=sf(),this.Va=Kh(e),this.ma=new iv(this.Va)}get fa(){return this.da}ga(e,t){const n=t?t.pa:new ov,r=t?t.ma:this.ma;let i=t?t.mutatedKeys:this.mutatedKeys,o=r,s=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),u=Wh(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),f=!0):this.ya(c,u)||(n.track({type:2,doc:u}),f=!0,(a&&this.Va(u,a)>0||l&&this.Va(u,l)<0)&&(s=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(a||l)&&(s=!0)),f&&(u?(o=o.add(u),i=h?i.add(e):i.delete(e)):(o=o.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){const e="F"===this.query.limitType?o.last():o.first();o=o.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{ma:o,pa:n,ss:s,mutatedKeys:i}}ya(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const o=e.pa.j_();o.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Tc()}};return n(e)-n(t)}(e.type,t.type)||this.Va(e.doc,t.doc))),this.wa(n),r=null!=r&&r;const s=t&&!r?this.Sa():[],a=0===this.Ra.size&&this.current&&!r?1:0,l=a!==this.Aa;return this.Aa=a,0!==o.length||l?{snapshot:new sv(this.query,e.ma,i,o,e.mutatedKeys,0===a,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),ba:s}:{ba:s}}ea(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ma:this.ma,pa:new ov,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach((e=>this.da=this.da.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.da=this.da.delete(e))),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=sf(),this.ma.forEach((e=>{this.Da(e.key)&&(this.Ra=this.Ra.add(e.key))}));const t=[];return e.forEach((e=>{this.Ra.has(e)||t.push(new Ev(e))})),this.Ra.forEach((n=>{e.has(n)||t.push(new Sv(n))})),t}va(e){this.da=e.ds,this.Ra=sf();const t=this.ga(e.documents);return this.applyChanges(t,!0)}Ca(){return sv.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,0===this.Aa,this.hasCachedResults)}}class Iv{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Tv{constructor(e){this.key=e,this.Fa=!1}}class Cv{constructor(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Ma={},this.xa=new Qh((e=>Bh(e)),zh),this.Oa=new Map,this.Na=new Set,this.La=new ad(Yc.comparator),this.Ba=new Map,this.ka=new bg,this.qa={},this.Qa=new Map,this.Ka=Qm.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return!0===this.$a}}async function xv(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=rw(e);let i;const o=r.xa.get(t);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Ca()):i=await Rv(r,t,n,!0),i}async function Av(e,t){const n=rw(e);await Rv(n,t,!0,!1)}async function Rv(e,t,n,r){const i=await Kg(e.localStore,Fh(t)),o=i.targetId,s=e.sharedClientState.addLocalQueryTarget(o,n);let a;return r&&(a=await Pv(e,t,o,"current"===s,i.resumeToken)),e.isPrimaryClient&&n&&Ay(e.remoteStore,i),a}async function Pv(e,t,n,r,i){e.Ua=(t,n,r)=>async function(e,t,n,r){let i=t.view.ga(n);i.ss&&(i=await Qg(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.ga(n,i)})));const o=r&&r.targetChanges.get(t.targetId),s=r&&null!=r.targetMismatches.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,o,s);return qv(e,t.targetId,a.ba),a.snapshot}(e,t,n,r);const o=await Qg(e.localStore,t,!0),s=new kv(t,o.ds),a=s.ga(o.documents),l=rp.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=s.applyChanges(a,e.isPrimaryClient,l);qv(e,n,c.ba);const u=new Iv(t,n,s);return e.xa.set(t,u),e.Oa.has(n)?e.Oa.get(n).push(t):e.Oa.set(n,[t]),c.snapshot}async function Ov(e,t,n){const r=xc(e),i=r.xa.get(t),o=r.Oa.get(i.targetId);if(o.length>1)return r.Oa.set(i.targetId,o.filter((e=>!zh(e,t)))),void r.xa.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Gg(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Ry(r.remoteStore,i.targetId),zv(r,i.targetId)})).catch(cu)):(zv(r,i.targetId),await Gg(r.localStore,i.targetId,!0))}async function Nv(e,t){const n=xc(e),r=n.xa.get(t),i=n.Oa.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Ry(n.remoteStore,r.targetId))}async function Dv(e,t){const n=xc(e);try{const e=await function(e,t){const n=xc(e),r=t.snapshotVersion;let i=n.us;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const o=n.hs.newChangeBuffer({trackRemovals:!0});i=n.us;const s=[];t.targetChanges.forEach(((o,a)=>{const l=i.get(a);if(!l)return;s.push(n.Gr.removeMatchingKeys(e,o.removedDocuments,a).next((()=>n.Gr.addMatchingKeys(e,o.addedDocuments,a))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?c=c.withResumeToken(md.EMPTY_BYTE_STRING,Kc.min()).withLastLimboFreeSnapshotVersion(Kc.min()):o.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(o.resumeToken,r)),i=i.insert(a,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,o)&&s.push(n.Gr.updateTargetData(e,c))}));let a=Jh(),l=sf();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),s.push(Wg(e,o,t.documentUpdates).next((e=>{a=e.Is,l=e.Es}))),!r.isEqual(Kc.min())){const t=n.Gr.getLastRemoteSnapshotVersion(e).next((t=>n.Gr.setTargetsMetadata(e,e.currentSequenceNumber,r)));s.push(t)}return uu.waitFor(s).next((()=>o.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,a,l))).next((()=>a))})).then((e=>(n.us=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Ba.get(t);r&&(Cc(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.Fa=!0:e.modifiedDocuments.size>0?Cc(r.Fa):e.removedDocuments.size>0&&(Cc(r.Fa),r.Fa=!1))})),await Kv(n,e,t)}catch(e){await cu(e)}}function Lv(e,t,n){const r=xc(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.xa.forEach(((n,r)=>{const i=r.view.ea(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=xc(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.J_)i.ea(t)&&(r=!0)})),r&&pv(n)}(r.eventManager,t),e.length&&r.Ma.R_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Mv(e,t,n){const r=xc(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Ba.get(t),o=i&&i.key;if(o){let e=new ad(Yc.comparator);e=e.insert(o,Xd.newNoDocument(o,Kc.min()));const n=sf().add(o),i=new np(Kc.min(),new Map,new ad(Bc),e,n);await Dv(r,i),r.La=r.La.remove(o),r.Ba.delete(t),Hv(r)}else await Gg(r.localStore,t,!1).then((()=>zv(r,t,n))).catch(cu)}async function Fv(e,t){const n=xc(e),r=t.batch.batchId;try{const e=await function(e,t){const n=xc(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.hs.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,o=i.keys();let s=uu.resolve();return o.forEach((e=>{s=s.next((()=>r.getEntry(t,e))).next((t=>{const o=n.docVersions.get(e);Cc(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),s.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=sf();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);Vv(n,r,null),Uv(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Kv(n,e)}catch(e){await cu(e)}}async function jv(e,t,n){const r=xc(e);try{const e=await function(e,t){const n=xc(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(Cc(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);Vv(r,t,n),Uv(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Kv(r,e)}catch(n){await cu(n)}}function Uv(e,t){(e.Qa.get(t)||[]).forEach((e=>{e.resolve()})),e.Qa.delete(t)}function Vv(e,t,n){const r=xc(e);let i=r.qa[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.qa[r.currentUser.toKey()]=i}}function zv(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Oa.get(t))e.xa.delete(r),n&&e.Ma.Wa(r,n);e.Oa.delete(t),e.isPrimaryClient&&e.ka.yr(t).forEach((t=>{e.ka.containsKey(t)||Bv(e,t)}))}function Bv(e,t){e.Na.delete(t.path.canonicalString());const n=e.La.get(t);null!==n&&(Ry(e.remoteStore,n),e.La=e.La.remove(t),e.Ba.delete(n),Hv(e))}function qv(e,t,n){for(const r of n)r instanceof Sv?(e.ka.addReference(r.key,t),Wv(e,r)):r instanceof Ev?(Sc("SyncEngine","Document no longer in limbo: "+r.key),e.ka.removeReference(r.key,t),e.ka.containsKey(r.key)||Bv(e,r.key)):Tc()}function Wv(e,t){const n=t.key,r=n.path.canonicalString();e.La.get(n)||e.Na.has(r)||(Sc("SyncEngine","New document in limbo: "+n),e.Na.add(r),Hv(e))}function Hv(e){for(;e.Na.size>0&&e.La.size<e.maxConcurrentLimboResolutions;){const t=e.Na.values().next().value;e.Na.delete(t);const n=new Yc(Qc.fromString(t)),r=e.Ka.next();e.Ba.set(r,new Tv(n)),e.La=e.La.insert(n,r),Ay(e.remoteStore,new Hp(Fh(Nh(n.path)),r,"TargetPurposeLimboResolution",Eu.oe))}}async function Kv(e,t,n){const r=xc(e),i=[],o=[],s=[];r.xa.isEmpty()||(r.xa.forEach(((e,a)=>{s.push(r.Ua(a,t,n).then((e=>{var t;if((e||n)&&r.isPrimaryClient){const i=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(a.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(a.targetId,i?"current":"not-current")}if(e){i.push(e);const t=Fg.zi(a.targetId,e);o.push(t)}})))})),await Promise.all(s),r.Ma.R_(i),await async function(e,t){const n=xc(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>uu.forEach(t,(t=>uu.forEach(t.Wi,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>uu.forEach(t.Gi,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!gu(e))throw e;Sc("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.us.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.us=n.us.insert(e,i)}}}(r.localStore,o))}async function Gv(e,t){const n=xc(e);if(!n.currentUser.isEqual(t)){Sc("SyncEngine","User change. New user:",t.toKey());const e=await Bg(n.localStore,t);n.currentUser=t,function(e,t){e.Qa.forEach((e=>{e.forEach((e=>{e.reject(new Rc(Ac.CANCELLED,t))}))})),e.Qa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Kv(n,e.Ts)}}function Qv(e,t){const n=xc(e),r=n.Ba.get(t);if(r&&r.Fa)return sf().add(r.key);{let e=sf();const r=n.Oa.get(t);if(!r)return e;for(const t of r){const r=n.xa.get(t);e=e.unionWith(r.view.fa)}return e}}async function $v(e,t){const n=xc(e),r=await Qg(n.localStore,t.query,!0),i=t.view.va(r);return n.isPrimaryClient&&qv(n,t.targetId,i.ba),i}async function Jv(e,t){const n=xc(e);return Jg(n.localStore,t).then((e=>Kv(n,e)))}async function Yv(e,t,n,r){const i=xc(e),o=await function(e,t){const n=xc(e),r=xc(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(e=>r.On(e,t).next((t=>t?n.localDocuments.getDocuments(e,t):uu.resolve(null)))))}(i.localStore,t);null!==o?("pending"===n?await qy(i.remoteStore):"acknowledged"===n||"rejected"===n?(Vv(i,t,r||null),Uv(i,t),function(e,t){xc(xc(e).mutationQueue).Ln(t)}(i.localStore,t)):Tc(),await Kv(i,o)):Sc("SyncEngine","Cannot apply mutation batch with id: "+t)}async function Xv(e,t,n){const r=xc(e),i=[],o=[];for(const s of t){let e;const t=r.Oa.get(s);if(t&&0!==t.length){e=await Kg(r.localStore,Fh(t[0]));for(const e of t){const t=r.xa.get(e),n=await $v(r,t);n.snapshot&&o.push(n.snapshot)}}else{const t=await $g(r.localStore,s);e=await Kg(r.localStore,t),await Pv(r,Zv(t),s,!1,e.resumeToken)}i.push(e)}return r.Ma.R_(o),i}function Zv(e){return Oh(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function ew(e){return function(e){return xc(xc(e).persistence).$i()}(xc(e).localStore)}async function tw(e,t,n,r){const i=xc(e);if(i.$a)return void Sc("SyncEngine","Ignoring unexpected query state notification.");const o=i.Oa.get(t);if(o&&o.length>0)switch(n){case"current":case"not-current":{const e=await Jg(i.localStore,Hh(o[0])),r=np.createSynthesizedRemoteEventForCurrentChange(t,"current"===n,md.EMPTY_BYTE_STRING);await Kv(i,e,r);break}case"rejected":await Gg(i.localStore,t,!0),zv(i,t,r);break;default:Tc()}}async function nw(e,t,n){const r=rw(e);if(r.$a){for(const e of t){if(r.Oa.has(e)&&r.sharedClientState.isActiveQueryTarget(e)){Sc("SyncEngine","Adding an already active target "+e);continue}const t=await $g(r.localStore,e),n=await Kg(r.localStore,t);await Pv(r,Zv(t),n.targetId,!1,n.resumeToken),Ay(r.remoteStore,n)}for(const e of n)r.Oa.has(e)&&await Gg(r.localStore,e,!1).then((()=>{Ry(r.remoteStore,e),zv(r,e)})).catch(cu)}}function rw(e){const t=xc(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Dv.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Qv.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Mv.bind(null,t),t.Ma.R_=hv.bind(null,t.eventManager),t.Ma.Wa=fv.bind(null,t.eventManager),t}function iw(e){const t=xc(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Fv.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=jv.bind(null,t),t}class ow{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=wy(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,t){return null}Ya(e,t){return null}Ha(e){return zg(this.persistence,new Ug,e.initialUser,this.serializer)}ja(e){return new Tg(xg.ei,this.serializer)}za(e){return new ly}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ow.provider={build:()=>new ow};class sw extends ow{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,t){Cc(this.persistence.referenceDelegate instanceof Ag);const n=this.persistence.referenceDelegate.garbageCollector;return new tg(n,e.asyncQueue,t)}ja(e){const t=void 0!==this.cacheSizeBytes?Vm.withCacheSize(this.cacheSizeBytes):Vm.DEFAULT;return new Tg((e=>Ag.ei(e,t)),this.serializer)}}class aw extends ow{constructor(e,t,n){super(),this.Za=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Za.initialize(this,e),await iw(this.Za.syncEngine),await qy(this.Za.remoteStore),await this.persistence.Si((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}Ha(e){return zg(this.persistence,new Ug,e.initialUser,this.serializer)}Ja(e,t){const n=this.persistence.referenceDelegate.garbageCollector;return new tg(n,e.asyncQueue,t)}Ya(e,t){const n=new Su(t,this.persistence);return new _u(e.asyncQueue,n)}ja(e){const t=Mg(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Vm.withCacheSize(this.cacheSizeBytes):Vm.DEFAULT;return new Ng(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,yy(),vy(),this.serializer,this.sharedClientState,!!this.forceOwnership)}za(e){return new ly}}class lw extends aw{constructor(e,t){super(e,t,!1),this.Za=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.Za.syncEngine;this.sharedClientState instanceof ay&&(this.sharedClientState.syncEngine={io:Yv.bind(null,t),so:tw.bind(null,t),oo:nw.bind(null,t),$i:ew.bind(null,t),ro:Jv.bind(null,t)},await this.sharedClientState.start()),await this.persistence.Si((async e=>{await async function(e,t){const n=xc(e);if(rw(n),iw(n),!0===t&&!0!==n.$a){const e=n.sharedClientState.getAllActiveQueryTargets(),t=await Xv(n,e.toArray());n.$a=!0,await Zy(n.remoteStore,!0);for(const r of t)Ay(n.remoteStore,r)}else if(!1===t&&!1!==n.$a){const e=[];let t=Promise.resolve();n.Oa.forEach(((r,i)=>{n.sharedClientState.isLocalQueryTarget(i)?e.push(i):t=t.then((()=>(zv(n,i),Gg(n.localStore,i,!0)))),Ry(n.remoteStore,i)})),await t,await Xv(n,e),function(e){const t=xc(e);t.Ba.forEach(((e,n)=>{Ry(t.remoteStore,n)})),t.ka.wr(),t.Ba=new Map,t.La=new ad(Yc.comparator)}(n),n.$a=!1,await Zy(n.remoteStore,!1)}}(this.Za.syncEngine,e),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start():e||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(e&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():e||this.indexBackfillerScheduler.stop())}))}za(e){const t=yy();if(!ay.p(t))throw new Rc(Ac.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=Mg(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new ay(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class cw{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Lv(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Gv.bind(null,this.syncEngine),await Zy(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new lv}createDatastore(e){const t=wy(e.databaseInfo.databaseId),n=function(e){return new gy(e)}(e.databaseInfo);return function(e,t,n,r){return new ky(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new Ty(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>Lv(this.syncEngine,e,0)),uy.p()?new uy:new cy)}createSyncEngine(e,t){return function(e,t,n,r,i,o,s){const a=new Cv(e,t,n,r,i,o);return s&&(a.$a=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=xc(e);Sc("RemoteStore","RemoteStore shutting down."),t.k_.add(5),await xy(t),t.Q_.shutdown(),t.K_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}function uw(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{async read(){if(n<e.byteLength){const r={value:e.slice(n,n+t),done:!1};return n+=t,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}cw.provider={build:()=>new cw};class dw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):Ec("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}class hw{constructor(e,t){this.tu=e,this.serializer=t,this.metadata=new Pc,this.buffer=new Uint8Array,this.nu=new TextDecoder("utf-8"),this.ru().then((e=>{e&&e.la()?this.metadata.resolve(e.ca.metadata):this.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.ca))))}),(e=>this.metadata.reject(e)))}close(){return this.tu.cancel()}async getMetadata(){return this.metadata.promise}async Ga(){return await this.getMetadata(),this.ru()}async ru(){const e=await this.iu();if(null===e)return null;const t=this.nu.decode(e),n=Number(t);isNaN(n)&&this.su("length string (".concat(t,") is not valid number"));const r=await this.ou(n);return new vv(JSON.parse(r),e.length+n)}_u(){return this.buffer.findIndex((e=>e==="{".charCodeAt(0)))}async iu(){for(;this._u()<0&&!await this.au(););if(0===this.buffer.length)return null;const e=this._u();e<0&&this.su("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async ou(e){for(;this.buffer.length<e;)await this.au()&&this.su("Reached the end of bundle when more is expected.");const t=this.nu.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}su(e){throw this.tu.cancel(),new Error("Invalid bundle format: ".concat(e))}async au(){const e=await this.tu.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}class fw{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new Rc(Ac.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await async function(e,t){const n=xc(e),r={documents:t.map((e=>Ep(n.serializer,e)))},i=await n.ko("BatchGetDocuments",n.serializer.databaseId,Qc.emptyPath(),r,t.length),o=new Map;i.forEach((e=>{const t=function(e,t){return"found"in t?function(e,t){Cc(!!t.found),t.found.name,t.found.updateTime;const n=kp(e,t.found.name),r=wp(t.found.updateTime),i=t.found.createTime?wp(t.found.createTime):Kc.min(),o=new Jd({mapValue:{fields:t.found.fields}});return Xd.newFoundDocument(n,r,i,o)}(e,t):"missing"in t?function(e,t){Cc(!!t.missing),Cc(!!t.readTime);const n=kp(e,t.missing),r=wp(t.readTime);return Xd.newNoDocument(n,r)}(e,t):Tc()}(n.serializer,e);o.set(t.key.toString(),t)}));const s=[];return t.forEach((e=>{const t=o.get(e.toString());Cc(!!t),s.push(t)})),s}(this.datastore,e);return t.forEach((e=>this.recordVersion(e))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastTransactionError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new Uf(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((e,t)=>{const n=Yc.fromPath(t);this.mutations.push(new Vf(n,this.precondition(n)))})),await async function(e,t){const n=xc(e),r={writes:t.map((e=>Pp(n.serializer,e)))};await n.Oo("Commit",n.serializer.databaseId,Qc.emptyPath(),r)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Tc();t=Kc.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Rc(Ac.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Kc.min())?Tf.exists(!1):Tf.updateTime(t):Tf.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Kc.min()))throw new Rc(Ac.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Tf.updateTime(t)}return Tf.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class pw{constructor(e,t,n,r,i){this.asyncQueue=e,this.datastore=t,this.options=n,this.updateFunction=r,this.deferred=i,this.uu=n.maxAttempts,this.r_=new by(this.asyncQueue,"transaction_retry")}cu(){this.uu-=1,this.lu()}lu(){this.r_.jo((async()=>{const e=new fw(this.datastore),t=this.hu(e);t&&t.then((t=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(t)})).catch((e=>{this.Pu(e)}))))})).catch((e=>{this.Pu(e)}))}))}hu(e){try{const t=this.updateFunction(e);return!ku(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Pu(e){this.uu>0&&this.Tu(e)?(this.uu-=1,this.asyncQueue.enqueueAndForget((()=>(this.lu(),Promise.resolve())))):this.deferred.reject(e)}Tu(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Gf(t)}return!1}}class mw{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=vc.UNAUTHENTICATED,this.clientId=zc.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,(async e=>{Sc("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(Sc("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Pc;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=rv(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function gw(e,t){e.asyncQueue.verifyOperationInProgress(),Sc("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await Bg(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function yw(e,t){e.asyncQueue.verifyOperationInProgress();const n=await vw(e);Sc("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>Xy(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>Xy(t.remoteStore,n))),e._onlineComponents=t}async function vw(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Sc("FirestoreClient","Using user provided OfflineComponentProvider");try{await gw(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===Ac.FAILED_PRECONDITION||e.code===Ac.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;kc("Error using user provided cache. Falling back to memory cache: "+n),await gw(e,new ow)}}else Sc("FirestoreClient","Using default OfflineComponentProvider"),await gw(e,new sw(void 0));return e._offlineComponents}async function ww(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Sc("FirestoreClient","Using user provided OnlineComponentProvider"),await yw(e,e._uninitializedComponentsProvider._online)):(Sc("FirestoreClient","Using default OnlineComponentProvider"),await yw(e,new cw))),e._onlineComponents}function bw(e){return vw(e).then((e=>e.persistence))}function _w(e){return vw(e).then((e=>e.localStore))}function Sw(e){return ww(e).then((e=>e.remoteStore))}function Ew(e){return ww(e).then((e=>e.syncEngine))}function kw(e){return ww(e).then((e=>e.datastore))}async function Iw(e){const t=await ww(e),n=t.eventManager;return n.onListen=xv.bind(null,t.syncEngine),n.onUnlisten=Ov.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=Av.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=Nv.bind(null,t.syncEngine),n}function Tw(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Pc;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new dw({next:a=>{o.eu(),t.enqueueAndForget((()=>dv(e,s)));const l=a.docs.has(n);!l&&a.fromCache?i.reject(new Rc(Ac.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&a.fromCache&&r&&"server"===r.source?i.reject(new Rc(Ac.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:e=>i.reject(e)}),s=new yv(Nh(n.path),o,{includeMetadataChanges:!0,ua:!0});return uv(e,s)}(await Iw(e),e.asyncQueue,t,n,r))),r.promise}function Cw(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Pc;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new dw({next:n=>{o.eu(),t.enqueueAndForget((()=>dv(e,s))),n.fromCache&&"server"===r.source?i.reject(new Rc(Ac.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),s=new yv(n,o,{includeMetadataChanges:!0,ua:!0});return uv(e,s)}(await Iw(e),e.asyncQueue,t,n,r))),r.promise}function xw(e,t,n,r){const i=function(e,t){let n;return n="string"==typeof e?Jf().encode(e):e,function(e,t){return new hw(e,t)}(function(e,t){if(e instanceof Uint8Array)return uw(e,t);if(e instanceof ArrayBuffer)return uw(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),t)}(n,wy(t));e.asyncQueue.enqueueAndForget((async()=>{!function(e,t,n){const r=xc(e);(async function(e,t,n){try{const r=await t.getMetadata();if(await function(e,t){const n=xc(e),r=wp(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(e=>n.jr.getBundleMetadata(e,t.id))).then((e=>!!e&&e.createTime.compareTo(r)>=0))}(e.localStore,r))return await t.close(),n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(r)),Promise.resolve(new Set);n._updateProgress(_v(r));const i=new bv(r,e.localStore,t.serializer);let o=await t.Ga();for(;o;){const e=await i.Pa(o);e&&n._updateProgress(e),o=await t.Ga()}const s=await i.complete();return await Kv(e,s.Ea,void 0),await function(e,t){const n=xc(e);return n.persistence.runTransaction("Save bundle","readwrite",(e=>n.jr.saveBundleMetadata(e,t)))}(e.localStore,r),n._completeWith(s.progress),Promise.resolve(s.Ia)}catch(e){return kc("SyncEngine","Loading bundle failed with ".concat(e)),n._failWith(e),Promise.resolve(new Set)}})(r,t,n).then((e=>{r.sharedClientState.notifyBundleLoaded(e)}))}(await Ew(e),i,r)}))}function Aw(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Rw=new Map;function Pw(e,t,n){if(!n)throw new Rc(Ac.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Ow(e,t,n,r){if(!0===t&&!0===r)throw new Rc(Ac.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function Nw(e){if(!Yc.isDocumentKey(e))throw new Rc(Ac.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Dw(e){if(Yc.isDocumentKey(e))throw new Rc(Ac.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Lw(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":Tc()}function Mw(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Rc(Ac.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Lw(e);throw new Rc(Ac.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function Fw(e,t){if(t<=0)throw new Rc(Ac.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}class jw{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Rc(Ac.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Rc(Ac.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Ow("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Aw(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Rc(Ac.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new Rc(Ac.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new Rc(Ac.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Uw{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new jw({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Rc(Ac.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Rc(Ac.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new jw(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Nc;switch(e.type){case"firstParty":return new Fc(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Rc(Ac.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Rw.get(e);t&&(Sc("ComponentProvider","Removing Datastore"),Rw.delete(e),t.terminate())}(this),Promise.resolve()}}function Vw(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const o=(e=Mw(e,Uw))._getSettings(),s="".concat(t,":").concat(n);if("firestore.googleapis.com"!==o.host&&o.host!==s&&kc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=vc.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[nn(JSON.stringify({alg:"none",type:"JWT"})),nn(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const o=r.mockUserToken.sub||r.mockUserToken.user_id;if(!o)throw new Rc(Ac.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new vc(o)}e._authCredentials=new Dc(new Oc(t,n))}}class zw{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new zw(this.firestore,e,this._query)}}class Bw{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qw(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Bw(this.firestore,e,this._key)}}class qw extends zw{constructor(e,t,n){super(e,t,Nh(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Bw(this.firestore,null,new Yc(e))}withConverter(e){return new qw(this.firestore,e,this._path)}}function Ww(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=On(e),Pw("collection","path",t),e instanceof Uw){const n=Qc.fromString(t,...r);return Dw(n),new qw(e,null,n)}{if(!(e instanceof Bw||e instanceof qw))throw new Rc(Ac.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Qc.fromString(t,...r));return Dw(n),new qw(e.firestore,null,n)}}function Hw(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=On(e),1===arguments.length&&(t=zc.newId()),Pw("doc","path",t),e instanceof Uw){const n=Qc.fromString(t,...r);return Nw(n),new Bw(e,null,new Yc(n))}{if(!(e instanceof Bw||e instanceof qw))throw new Rc(Ac.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Qc.fromString(t,...r));return Nw(n),new Bw(e.firestore,e instanceof qw?e.converter:null,new Yc(n))}}function Kw(e,t){return e=On(e),t=On(t),(e instanceof Bw||e instanceof qw)&&(t instanceof Bw||t instanceof qw)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function Gw(e,t){return e=On(e),t=On(t),e instanceof zw&&t instanceof zw&&e.firestore===t.firestore&&zh(e._query,t._query)&&e.converter===t.converter}class Qw{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new by(this,"async_queue_retry"),this.fu=()=>{const e=vy();e&&Sc("AsyncQueue","Visibility state changed to "+e.visibilityState),this.r_.Jo()},this.gu=e;const t=vy();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const t=vy();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise((()=>{}));const t=new Pc;return this.yu((()=>this.Eu&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Iu.push(e),this.wu())))}async wu(){if(0!==this.Iu.length){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(HP){if(!gu(HP))throw HP;Sc("AsyncQueue","Operation failed with retryable error: "+HP)}this.Iu.length>0&&this.r_.jo((()=>this.wu()))}}yu(e){const t=this.gu.then((()=>(this.Ru=!0,e().catch((e=>{this.Au=e,this.Ru=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Ec("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.Ru=!1,e))))));return this.gu=t,t}enqueueAfterDelay(e,t,n){this.pu(),this.mu.indexOf(e)>-1&&(t=0);const r=nv.createAndSchedule(this,e,t,n,(e=>this.Su(e)));return this.du.push(r),r}pu(){this.Au&&Tc()}verifyOperationInProgress(){}async bu(){let e;do{e=this.gu,await e}while(e!==this.gu)}Du(e){for(const t of this.du)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then((()=>{this.du.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.du)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.bu()}))}Cu(e){this.mu.push(e)}Su(e){const t=this.du.indexOf(e);this.du.splice(t,1)}}function $w(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class Jw{constructor(){this._progressObserver={},this._taskCompletionResolver=new Pc,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Yw extends Uw{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new Qw,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Qw(e),this._firestoreClient=void 0,await e}}}function Xw(e){if(e._terminated)throw new Rc(Ac.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||Zw(e),e._firestoreClient}function Zw(e){var t,n,r;const i=e._freezeSettings(),o=function(e,t,n,r){return new Ed(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Aw(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new mw(e._authCredentials,e._appCheckCredentials,e._queue,o,e._componentsProvider&&function(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}function eb(e,t,n){if((e=Mw(e,Yw))._firestoreClient||e._terminated)throw new Rc(Ac.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(e._componentsProvider||e._getSettings().localCache)throw new Rc(Ac.FAILED_PRECONDITION,"SDK cache is already specified.");e._componentsProvider={_online:t,_offline:n},Zw(e)}function tb(e){return function(e){const t=new Pc;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t){const n=xc(e);Ly(n.remoteStore)||Sc("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const e=await function(e){const t=xc(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(e=>t.mutationQueue.getHighestUnacknowledgedBatchId(e)))}(n.localStore);if(-1===e)return void t.resolve();const r=n.Qa.get(e)||[];r.push(t),n.Qa.set(e,r)}catch(e){const n=rv(e,"Initialization of waitForPendingWrites() operation failed");t.reject(n)}}(await Ew(e),t))),t.promise}(Xw(e=Mw(e,Yw)))}function nb(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await bw(e),n=await Sw(e);return t.setNetworkEnabled(!0),function(e){const t=xc(e);return t.k_.delete(0),Cy(t)}(n)}))}(Xw(e=Mw(e,Yw)))}function rb(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await bw(e),n=await Sw(e);return t.setNetworkEnabled(!1),async function(e){const t=xc(e);t.k_.add(0),await xy(t),t.K_.set("Offline")}(n)}))}(Xw(e=Mw(e,Yw)))}function ib(e,t){return function(e,t){return e.asyncQueue.enqueue((async()=>function(e,t){const n=xc(e);return n.persistence.runTransaction("Get named query","readonly",(e=>n.jr.getNamedQuery(e,t)))}(await _w(e),t)))}(Xw(e=Mw(e,Yw)),t).then((t=>t?new zw(e,null,t.query):null))}class ob{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ob(md.fromBase64String(e))}catch(e){throw new Rc(Ac.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new ob(md.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class sb{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new Rc(Ac.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Jc(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class ab{constructor(e){this._methodName=e}}class lb{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Rc(Ac.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Rc(Ac.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Bc(this._lat,e._lat)||Bc(this._long,e._long)}}class cb{constructor(e){this._values=(e||[]).map((e=>e))}toArray(){return this._values.map((e=>e))}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}}const ub=/^__.*__$/;class db{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Lf(e,this.data,this.fieldMask,t,this.fieldTransforms):new Df(e,this.data,t,this.fieldTransforms)}}class hb{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Lf(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function fb(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Tc()}}class pb{constructor(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Fu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new pb(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.xu({path:n,Nu:!1});return r.Lu(e),r}Bu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.xu({path:n,Nu:!1});return r.Fu(),r}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return Db(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(0===e.length)throw this.qu("Document fields must not be empty");if(fb(this.Mu)&&ub.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class mb{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||wy(e)}$u(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new pb({Mu:e,methodName:t,Ku:n,path:Jc.emptyPath(),Nu:!1,Qu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function gb(e){const t=e._freezeSettings(),n=wy(e._databaseId);return new mb(e._databaseId,!!t.ignoreUndefinedProperties,n)}function yb(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const s=e.$u(o.merge||o.mergeFields?2:0,t,n,i);Rb("Data must be an object, but it was:",s,r);const a=xb(r,s);let l,c;if(o.merge)l=new fd(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const e=[];for(const r of o.mergeFields){const i=Pb(t,r,n);if(!s.contains(i))throw new Rc(Ac.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));Lb(e,i)||e.push(i)}l=new fd(e),c=s.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=s.fieldTransforms;return new db(new Jd(a),l,c)}class vb extends ab{_toFieldTransform(e){if(2!==e.Mu)throw 1===e.Mu?e.qu("".concat(this._methodName,"() can only appear at the top level of your update data")):e.qu("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof vb}}function wb(e,t,n){return new pb({Mu:3,Ku:t.settings.Ku,methodName:e._methodName,Nu:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class bb extends ab{_toFieldTransform(e){return new kf(e.path,new gf)}isEqual(e){return e instanceof bb}}class _b extends ab{constructor(e,t){super(e),this.Uu=t}_toFieldTransform(e){const t=wb(this,e,!0),n=this.Uu.map((e=>Cb(e,t))),r=new yf(n);return new kf(e.path,r)}isEqual(e){return e instanceof _b&&kn(this.Uu,e.Uu)}}class Sb extends ab{constructor(e,t){super(e),this.Uu=t}_toFieldTransform(e){const t=wb(this,e,!0),n=this.Uu.map((e=>Cb(e,t))),r=new wf(n);return new kf(e.path,r)}isEqual(e){return e instanceof Sb&&kn(this.Uu,e.Uu)}}class Eb extends ab{constructor(e,t){super(e),this.Wu=t}_toFieldTransform(e){const t=new _f(e.serializer,df(e.serializer,this.Wu));return new kf(e.path,t)}isEqual(e){return e instanceof Eb&&this.Wu===e.Wu}}function kb(e,t,n,r){const i=e.$u(1,t,n);Rb("Data must be an object, but it was:",i,r);const o=[],s=Jd.empty();od(r,((e,r)=>{const a=Nb(t,e,n);r=On(r);const l=i.Bu(a);if(r instanceof vb)o.push(a);else{const e=Cb(r,l);null!=e&&(o.push(a),s.set(a,e))}}));const a=new fd(o);return new hb(s,a,i.fieldTransforms)}function Ib(e,t,n,r,i,o){const s=e.$u(1,t,n),a=[Pb(t,r,n)],l=[i];if(o.length%2!=0)throw new Rc(Ac.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let h=0;h<o.length;h+=2)a.push(Pb(t,o[h])),l.push(o[h+1]);const c=[],u=Jd.empty();for(let h=a.length-1;h>=0;--h)if(!Lb(c,a[h])){const e=a[h];let t=l[h];t=On(t);const n=s.Bu(e);if(t instanceof vb)c.push(e);else{const r=Cb(t,n);null!=r&&(c.push(e),u.set(e,r))}}const d=new fd(c);return new hb(u,d,s.fieldTransforms)}function Tb(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Cb(n,e.$u(r?4:3,t))}function Cb(e,t){if(Ab(e=On(e)))return Rb("Unsupported field value:",t,e),xb(e,t);if(e instanceof ab)return function(e,t){if(!fb(t.Mu))throw t.qu("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.qu("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Nu&&4!==t.Mu)throw t.qu("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=Cb(i,t.ku(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=On(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return df(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Hc.fromDate(e);return{timestampValue:gp(t.serializer,n)}}if(e instanceof Hc){const n=new Hc(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:gp(t.serializer,n)}}if(e instanceof lb)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof ob)return{bytesValue:yp(t.serializer,e._byteString)};if(e instanceof Bw){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.qu("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:bp(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof cb)return function(e,t){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:e.toArray().map((e=>{if("number"!=typeof e)throw t.qu("VectorValues must only contain numeric values.");return cf(t.serializer,e)}))}}}}}}(e,t);throw t.qu("Unsupported field value: ".concat(Lw(e)))}(e,t)}function xb(e,t){const n={};return sd(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):od(e,((e,r)=>{const i=Cb(r,t.Ou(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Ab(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Hc||e instanceof lb||e instanceof ob||e instanceof Bw||e instanceof ab||e instanceof cb)}function Rb(e,t,n){if(!Ab(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=Lw(n);throw"an object"===r?t.qu(e+" a custom object"):t.qu(e+" "+r)}}function Pb(e,t,n){if((t=On(t))instanceof sb)return t._internalPath;if("string"==typeof t)return Nb(e,t);throw Db("Field path arguments must be of type string or ",e,!1,void 0,n)}const Ob=new RegExp("[~\\*/\\[\\]]");function Nb(e,t,n){if(t.search(Ob)>=0)throw Db("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new sb(...t.split("."))._internalPath}catch(EI){throw Db("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Db(e,t,n,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a="Function ".concat(t,"() called with invalid data");n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=" in field ".concat(r)),s&&(l+=" in document ".concat(i)),l+=")"),new Rc(Ac.INVALID_ARGUMENT,a+e+l)}function Lb(e,t){return e.some((e=>e.isEqual(t)))}class Mb{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Bw(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Fb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(jb("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Fb extends Mb{data(){return super.data()}}function jb(e,t){return"string"==typeof t?Nb(e,t):t instanceof sb?t._internalPath:t._delegate._internalPath}function Ub(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Rc(Ac.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Vb{}class zb extends Vb{}function Bb(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];t instanceof Vb&&n.push(t),n=n.concat(i),function(e){const t=e.filter((e=>e instanceof Wb)).length,n=e.filter((e=>e instanceof qb)).length;if(t>1||t>0&&n>0)throw new Rc(Ac.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const s of n)e=s._apply(e);return e}class qb extends zb{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new qb(e,t,n)}_apply(e){const t=this._parse(e);return Xb(e._query,t),new zw(e.firestore,e.converter,Uh(e._query,t))}_parse(e){const t=gb(e.firestore),n=function(e,t,n,r,i,o,s){let a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new Rc(Ac.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(o,"' queries on documentId()."));if("in"===o||"not-in"===o){Yb(s,o);const t=[];for(const n of s)t.push(Jb(r,e,n));a={arrayValue:{values:t}}}else a=Jb(r,e,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Yb(s,o),a=Tb(n,t,s,"in"===o||"not-in"===o);return oh.create(i,o,a)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class Wb extends Vb{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Wb(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:sh.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)Xb(n,i),n=Uh(n,i)}(e._query,t),new zw(e.firestore,e.converter,Uh(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Hb extends zb{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Hb(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new Rc(Ac.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Rc(Ac.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new nh(t,n)}(e._query,this._field,this._direction);return new zw(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new Ph(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}class Kb extends zb{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new Kb(e,t,n)}_apply(e){return new zw(e.firestore,e.converter,Vh(e._query,this._limit,this._limitType))}}class Gb extends zb{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new Gb(e,t,n)}_apply(e){const t=$b(e,this.type,this._docOrFields,this._inclusive);return new zw(e.firestore,e.converter,function(e,t){return new Ph(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}class Qb extends zb{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new Qb(e,t,n)}_apply(e){const t=$b(e,this.type,this._docOrFields,this._inclusive);return new zw(e.firestore,e.converter,function(e,t){return new Ph(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}function $b(e,t,n,r){if(n[0]=On(n[0]),n[0]instanceof Mb)return function(e,t,n,r,i){if(!r)throw new Rc(Ac.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));const o=[];for(const s of Mh(e))if(s.field.isKeyField())o.push(Md(t,r.key));else{const e=r.data.field(s.field);if(bd(e))throw new Rc(Ac.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=s.field.canonicalString();throw new Rc(Ac.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(e,"' (used as the orderBy) does not exist."))}o.push(e)}return new Zd(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);{const i=gb(e.firestore);return function(e,t,n,r,i,o){const s=e.explicitOrderBy;if(i.length>s.length)throw new Rc(Ac.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));const a=[];for(let l=0;l<i.length;l++){const o=i[l];if(s[l].field.isKeyField()){if("string"!=typeof o)throw new Rc(Ac.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof o));if(!Lh(e)&&-1!==o.indexOf("/"))throw new Rc(Ac.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(o,"' contains a slash."));const n=e.path.child(Qc.fromString(o));if(!Yc.isDocumentKey(n))throw new Rc(Ac.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(n,"' is not because it contains an odd number of segments."));const i=new Yc(n);a.push(Md(t,i))}else{const e=Tb(n,r,o);a.push(e)}}return new Zd(a,o)}(e._query,e.firestore._databaseId,i,t,n,r)}}function Jb(e,t,n){if("string"==typeof(n=On(n))){if(""===n)throw new Rc(Ac.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Lh(t)&&-1!==n.indexOf("/"))throw new Rc(Ac.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(Qc.fromString(n));if(!Yc.isDocumentKey(r))throw new Rc(Ac.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Md(e,new Yc(r))}if(n instanceof Bw)return Md(e,n._key);throw new Rc(Ac.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Lw(n),"."))}function Yb(e,t){if(!Array.isArray(e)||0===e.length)throw new Rc(Ac.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function Xb(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new Rc(Ac.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Rc(Ac.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class Zb{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Cd(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vd(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(wd(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Tc()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return od(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertVectorValue(e){var t,n,r;const i=null===(r=null===(n=null===(t=e.fields)||void 0===t?void 0:t.value.arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map((e=>vd(e.doubleValue)));return new cb(i)}convertGeoPoint(e){return new lb(vd(e.latitude),vd(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=_d(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Sd(e));default:return null}}convertTimestamp(e){const t=yd(e);return new Hc(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Qc.fromString(e);Cc(Wp(n));const r=new kd(n.get(1),n.get(3)),i=new Yc(n.popFirst(5));return r.isEqual(t)||Ec("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function e_(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class t_ extends Zb{constructor(e){super(),this.firestore=e}convertBytes(e){return new ob(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Bw(this.firestore,null,t)}}class n_{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class r_ extends Mb{constructor(e,t,n,r,i,o){super(e,t,n,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new i_(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(jb("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class i_ extends r_{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class o_{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new n_(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new i_(this._firestore,this._userDataWriter,n.key,n,new n_(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Rc(Ac.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new i_(e._firestore,e._userDataWriter,n.doc.key,n.doc,new n_(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new i_(e._firestore,e._userDataWriter,t.doc.key,t.doc,new n_(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,o=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),o=n.indexOf(t.doc.key)),{type:s_(t.type),doc:r,oldIndex:i,newIndex:o}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function s_(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Tc()}}function a_(e,t){return e instanceof r_&&t instanceof r_?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof o_&&t instanceof o_&&e._firestore===t._firestore&&Gw(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}class l_ extends Zb{constructor(e){super(),this.firestore=e}convertBytes(e){return new ob(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Bw(this.firestore,null,t)}}function c_(e){e=Mw(e,Bw);const t=Mw(e.firestore,Yw),n=Xw(t),r=new l_(t);return function(e,t){const n=new Pc;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await function(e,t){const n=xc(e);return n.persistence.runTransaction("read document","readonly",(e=>n.localDocuments.getDocument(e,t)))}(e,t);r.isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new Rc(Ac.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(e){const r=rv(e,"Failed to get document '".concat(t," from cache"));n.reject(r)}}(await _w(e),t,n))),n.promise}(n,e._key).then((n=>new r_(t,r,e._key,n,new n_(null!==n&&n.hasLocalMutations,!0),e.converter)))}function u_(e){e=Mw(e,zw);const t=Mw(e.firestore,Yw),n=Xw(t),r=new l_(t);return function(e,t){const n=new Pc;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await Qg(e,t,!0),i=new kv(t,r.ds),o=i.ga(r.documents),s=i.applyChanges(o,!1);n.resolve(s.snapshot)}catch(e){const r=rv(e,"Failed to execute query '".concat(t," against cache"));n.reject(r)}}(await _w(e),t,n))),n.promise}(n,e._query).then((n=>new o_(t,r,e,n)))}function d_(e,t,n){e=Mw(e,Bw);const r=Mw(e.firestore,Yw),i=e_(e.converter,t,n);return m_(r,[yb(gb(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Tf.none())])}function h_(e,t,n){e=Mw(e,Bw);const r=Mw(e.firestore,Yw),i=gb(r);let o;for(var s=arguments.length,a=new Array(s>3?s-3:0),l=3;l<s;l++)a[l-3]=arguments[l];return o="string"==typeof(t=On(t))||t instanceof sb?Ib(i,"updateDoc",e._key,t,n,a):kb(i,"updateDoc",e._key,t),m_(r,[o.toMutation(e._key,Tf.exists(!0))])}function f_(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,o,s;e=On(e);let a={includeMetadataChanges:!1,source:"default"},l=0;"object"!=typeof n[l]||$w(n[l])||(a=n[l],l++);const c={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if($w(n[l])){const e=n[l];n[l]=null===(i=e.next)||void 0===i?void 0:i.bind(e),n[l+1]=null===(o=e.error)||void 0===o?void 0:o.bind(e),n[l+2]=null===(s=e.complete)||void 0===s?void 0:s.bind(e)}let u,d,h;if(e instanceof Bw)d=Mw(e.firestore,Yw),h=Nh(e._key.path),u={next:t=>{n[l]&&n[l](g_(d,e,t))},error:n[l+1],complete:n[l+2]};else{const t=Mw(e,zw);d=Mw(t.firestore,Yw),h=t._query;const r=new l_(d);u={next:e=>{n[l]&&n[l](new o_(d,r,t,e))},error:n[l+1],complete:n[l+2]},Ub(e._query)}return function(e,t,n,r){const i=new dw(r),o=new yv(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>uv(await Iw(e),o))),()=>{i.eu(),e.asyncQueue.enqueueAndForget((async()=>dv(await Iw(e),o)))}}(Xw(d),h,c,u)}function p_(e,t){return function(e,t){const n=new dw(t);return e.asyncQueue.enqueueAndForget((async()=>function(e,t){xc(e).X_.add(t),t.next()}(await Iw(e),n))),()=>{n.eu(),e.asyncQueue.enqueueAndForget((async()=>function(e,t){xc(e).X_.delete(t)}(await Iw(e),n)))}}(Xw(e=Mw(e,Yw)),$w(t)?t:{next:t})}function m_(e,t){return function(e,t){const n=new Pc;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=iw(e);try{const e=await function(e,t){const n=xc(e),r=Hc.now(),i=t.reduce(((e,t)=>e.add(t.key)),sf());let o,s;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let a=Jh(),l=sf();return n.hs.getEntries(e,i).next((e=>{a=e,a.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,a))).next((i=>{o=i;const s=[];for(const e of t){const t=Of(e,o.get(e.key).overlayedDocument);null!=t&&s.push(new Lf(e.key,t,Yd(t.value.mapValue),Tf.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,s,t)})).next((t=>{s=t;const r=t.applyToLocalDocumentSet(o,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:s.batchId,changes:Zh(o)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.qa[e.currentUser.toKey()];r||(r=new ad(Bc)),r=r.insert(t,n),e.qa[e.currentUser.toKey()]=r}(r,e.batchId,n),await Kv(r,e.changes),await qy(r.remoteStore)}catch(e){const t=rv(e,"Failed to persist write");n.reject(t)}}(await Ew(e),t,n))),n.promise}(Xw(e),t)}function g_(e,t,n){const r=n.docs.get(t._key),i=new l_(e);return new r_(e,i,t._key,r,new n_(n.hasPendingWrites,n.fromCache),t.converter)}const y_={maxAttempts:5};class v_{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=gb(e)}set(e,t,n){this._verifyNotCommitted();const r=w_(e,this._firestore),i=e_(r.converter,t,n),o=yb(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,Tf.none())),this}update(e,t,n){this._verifyNotCommitted();const r=w_(e,this._firestore);let i;for(var o=arguments.length,s=new Array(o>3?o-3:0),a=3;a<o;a++)s[a-3]=arguments[a];return i="string"==typeof(t=On(t))||t instanceof sb?Ib(this._dataReader,"WriteBatch.update",r._key,t,n,s):kb(this._dataReader,"WriteBatch.update",r._key,t),this._mutations.push(i.toMutation(r._key,Tf.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=w_(e,this._firestore);return this._mutations=this._mutations.concat(new Uf(t._key,Tf.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Rc(Ac.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function w_(e,t){if((e=On(e)).firestore!==t)throw new Rc(Ac.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class b_ extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=gb(e)}get(e){const t=w_(e,this._firestore),n=new t_(this._firestore);return this._transaction.lookup([t._key]).then((e=>{if(!e||1!==e.length)return Tc();const r=e[0];if(r.isFoundDocument())return new Mb(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new Mb(this._firestore,n,t._key,null,t.converter);throw Tc()}))}set(e,t,n){const r=w_(e,this._firestore),i=e_(r.converter,t,n),o=yb(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this}update(e,t,n){const r=w_(e,this._firestore);let i;for(var o=arguments.length,s=new Array(o>3?o-3:0),a=3;a<o;a++)s[a-3]=arguments[a];return i="string"==typeof(t=On(t))||t instanceof sb?Ib(this._dataReader,"Transaction.update",r._key,t,n,s):kb(this._dataReader,"Transaction.update",r._key,t),this._transaction.update(r._key,i),this}delete(e){const t=w_(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=w_(e,this._firestore),n=new l_(this._firestore);return super.get(e).then((e=>new r_(this._firestore,n,t._key,e._document,new n_(!1,!1),t.converter)))}}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){wc=e}(Zr),Wr(new Nn("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const o=e.getProvider("app").getImmediate(),s=new Yw(new Lc(e.getProvider("auth-internal")),new Uc(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Rc(Ac.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new kd(e.options.projectId,t)}(o,r),o);return i=Object.assign({useFetchStreams:t},i),s._setSettings(i),s}),"PUBLIC").setMultipleInstances(!0)),oi(yc,"4.7.5",e),oi(yc,"4.7.5","esm2017")}();function __(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Rc("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function S_(){if("undefined"===typeof Uint8Array)throw new Rc("unimplemented","Uint8Arrays are not available in this environment.")}function E_(){if("undefined"==typeof atob)throw new Rc("unimplemented","Blobs are unavailable in Firestore in this environment.")}class k_{constructor(e){this._delegate=e}static fromBase64String(e){return E_(),new k_(ob.fromBase64String(e))}static fromUint8Array(e){return S_(),new k_(ob.fromUint8Array(e))}toBase64(){return E_(),this._delegate.toBase64()}toUint8Array(){return S_(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function I_(e){return function(e,t){if("object"!==typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"===typeof n[r])return!0;return!1}(e,["next","error","complete"])}class T_{enableIndexedDbPersistence(e,t){return function(e,t){kc("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=e._freezeSettings();return eb(e,cw.provider,{build:e=>new aw(e,n.cacheSizeBytes,null==t?void 0:t.forceOwnership)}),Promise.resolve()}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return async function(e){kc("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=e._freezeSettings();eb(e,cw.provider,{build:e=>new lw(e,t.cacheSizeBytes)})}(e._delegate)}clearIndexedDbPersistence(e){return function(e){if(e._initialized&&!e._terminated)throw new Rc(Ac.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new Pc;return e._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await async function(e){if(!hu.p())return Promise.resolve();const t=e+"main";await hu.delete(t)}(Mg(e._databaseId,e._persistenceKey)),t.resolve()}catch(e){t.reject(e)}})),t.promise}(e._delegate)}}class C_{constructor(e,t,n){this._delegate=t,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},e instanceof kd||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();e.merge||t.host===e.host||kc("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Vw(this._delegate,e,t,n)}enableNetwork(){return nb(this._delegate)}disableNetwork(){return rb(this._delegate)}enablePersistence(e){let t=!1,n=!1;return e&&(t=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,Ow("synchronizeTabs",t,"experimentalForceOwningTab",n)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return tb(this._delegate)}onSnapshotsInSync(e){return p_(this._delegate,e)}get app(){if(!this._appCompat)throw new Rc("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new z_(this,Ww(this._delegate,e))}catch(HP){throw N_(HP,"collection()","Firestore.collection()")}}doc(e){try{return new O_(this,Hw(this._delegate,e))}catch(HP){throw N_(HP,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new j_(this,function(e,t){if(e=Mw(e,Uw),Pw("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Rc(Ac.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new zw(e,null,function(e){return new Ph(Qc.emptyPath(),e)}(t))}(this._delegate,e))}catch(HP){throw N_(HP,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(e,t,n){e=Mw(e,Yw);const r=Object.assign(Object.assign({},y_),n);return function(e){if(e.maxAttempts<1)throw new Rc(Ac.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){const r=new Pc;return e.asyncQueue.enqueueAndForget((async()=>{const i=await kw(e);new pw(e.asyncQueue,i,n,t,r).cu()})),r.promise}(Xw(e),(n=>t(new b_(e,n))),r)}(this._delegate,(t=>e(new A_(this,t))))}batch(){return Xw(this._delegate),new R_(new v_(this._delegate,(e=>m_(this._delegate,e))))}loadBundle(e){return function(e,t){const n=Xw(e=Mw(e,Yw)),r=new Jw;return xw(n,e._databaseId,t,r),r}(this._delegate,e)}namedQuery(e){return ib(this._delegate,e).then((e=>e?new j_(this,e):null))}}class x_ extends Zb{constructor(e){super(),this.firestore=e}convertBytes(e){return new k_(new ob(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return O_.forKey(t,this.firestore,null)}}class A_{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new x_(e)}get(e){const t=B_(e);return this._delegate.get(t).then((e=>new M_(this._firestore,new r_(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,t.converter))))}set(e,t,n){const r=B_(e);return n?(__("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),o=3;o<r;o++)i[o-3]=arguments[o];const s=B_(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,n,...i),this}delete(e){const t=B_(e);return this._delegate.delete(t),this}}class R_{constructor(e){this._delegate=e}set(e,t,n){const r=B_(e);return n?(__("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),o=3;o<r;o++)i[o-3]=arguments[o];const s=B_(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,n,...i),this}delete(e){const t=B_(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class P_{constructor(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}fromFirestore(e,t){const n=new i_(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new F_(this._firestore,n),null!==t&&void 0!==t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const n=P_.INSTANCES;let r=n.get(e);r||(r=new WeakMap,n.set(e,r));let i=r.get(t);return i||(i=new P_(e,new x_(e),t),r.set(t,i)),i}}P_.INSTANCES=new WeakMap;class O_{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new x_(e)}static forPath(e,t,n){if(e.length%2!==0)throw new Rc("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(e.canonicalString()," has ").concat(e.length));return new O_(t,new Bw(t._delegate,n,new Yc(e)))}static forKey(e,t,n){return new O_(t,new Bw(t._delegate,n,e))}get id(){return this._delegate.id}get parent(){return new z_(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new z_(this.firestore,Ww(this._delegate,e))}catch(HP){throw N_(HP,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=On(e))instanceof Bw&&Kw(this._delegate,e)}set(e,t){t=__("DocumentReference.set",t);try{return t?d_(this._delegate,e,t):d_(this._delegate,e)}catch(HP){throw N_(HP,"setDoc()","DocumentReference.set()")}}update(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?h_(this._delegate,e):h_(this._delegate,e,t,...r)}catch(HP){throw N_(HP,"updateDoc()","DocumentReference.update()")}}delete(){return m_(Mw((e=this._delegate).firestore,Yw),[new Uf(e._key,Tf.none())]);var e}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=D_(t),i=L_(t,(e=>new M_(this.firestore,new r_(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))));return f_(this._delegate,r,i)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?c_(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=Mw(e,Bw);const t=Mw(e.firestore,Yw);return Tw(Xw(t),e._key,{source:"server"}).then((n=>g_(t,e,n)))}(this._delegate):function(e){e=Mw(e,Bw);const t=Mw(e.firestore,Yw);return Tw(Xw(t),e._key).then((n=>g_(t,e,n)))}(this._delegate),t.then((e=>new M_(this.firestore,new r_(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))))}withConverter(e){return new O_(this.firestore,e?this._delegate.withConverter(P_.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function N_(e,t,n){return e.message=e.message.replace(t,n),e}function D_(e){for(const t of e)if("object"===typeof t&&!I_(t))return t;return{}}function L_(e,t){var n,r;let i;return i=I_(e[0])?e[0]:I_(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]},{next:e=>{i.next&&i.next(t(e))},error:null===(n=i.error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class M_{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new O_(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return a_(this._delegate,e._delegate)}}class F_ extends M_{data(e){const t=this._delegate.data(e);return this._delegate._converter||void 0!==t||Tc(),t}}class j_{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new x_(e)}where(e,t,n){try{return new j_(this.firestore,Bb(this._delegate,function(e,t,n){const r=t,i=jb("where",e);return qb._create(i,r,n)}(e,t,n)))}catch(HP){throw N_(HP,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new j_(this.firestore,Bb(this._delegate,function(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=jb("orderBy",e);return Hb._create(n,t)}(e,t)))}catch(HP){throw N_(HP,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new j_(this.firestore,Bb(this._delegate,(Fw("limit",t=e),Kb._create("limit",t,"F"))))}catch(t){throw N_(t,"limit()","Query.limit()")}var t}limitToLast(e){try{return new j_(this.firestore,Bb(this._delegate,(Fw("limitToLast",t=e),Kb._create("limitToLast",t,"L"))))}catch(t){throw N_(t,"limitToLast()","Query.limitToLast()")}var t}startAt(){try{return new j_(this.firestore,Bb(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Gb._create("startAt",t,!0)}(...arguments)))}catch(HP){throw N_(HP,"startAt()","Query.startAt()")}}startAfter(){try{return new j_(this.firestore,Bb(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Gb._create("startAfter",t,!1)}(...arguments)))}catch(HP){throw N_(HP,"startAfter()","Query.startAfter()")}}endBefore(){try{return new j_(this.firestore,Bb(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Qb._create("endBefore",t,!1)}(...arguments)))}catch(HP){throw N_(HP,"endBefore()","Query.endBefore()")}}endAt(){try{return new j_(this.firestore,Bb(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Qb._create("endAt",t,!0)}(...arguments)))}catch(HP){throw N_(HP,"endAt()","Query.endAt()")}}isEqual(e){return Gw(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?u_(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=Mw(e,zw);const t=Mw(e.firestore,Yw),n=Xw(t),r=new l_(t);return Cw(n,e._query,{source:"server"}).then((n=>new o_(t,r,e,n)))}(this._delegate):function(e){e=Mw(e,zw);const t=Mw(e.firestore,Yw),n=Xw(t),r=new l_(t);return Ub(e._query),Cw(n,e._query).then((n=>new o_(t,r,e,n)))}(this._delegate),t.then((e=>new V_(this.firestore,new o_(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))))}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=D_(t),i=L_(t,(e=>new V_(this.firestore,new o_(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))));return f_(this._delegate,r,i)}withConverter(e){return new j_(this.firestore,e?this._delegate.withConverter(P_.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class U_{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new F_(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class V_{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new j_(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map((e=>new F_(this._firestore,e)))}docChanges(e){return this._delegate.docChanges(e).map((e=>new U_(this._firestore,e)))}forEach(e,t){this._delegate.forEach((n=>{e.call(t,new F_(this._firestore,n))}))}isEqual(e){return a_(this._delegate,e._delegate)}}class z_ extends j_{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new O_(this.firestore,e):null}doc(e){try{return new O_(this.firestore,void 0===e?Hw(this._delegate):Hw(this._delegate,e))}catch(HP){throw N_(HP,"doc()","CollectionReference.doc()")}}add(e){return function(e,t){const n=Mw(e.firestore,Yw),r=Hw(e),i=e_(e.converter,t);return m_(n,[yb(gb(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Tf.exists(!1))]).then((()=>r))}(this._delegate,e).then((e=>new O_(this.firestore,e)))}isEqual(e){return Kw(this._delegate,e._delegate)}withConverter(e){return new z_(this.firestore,e?this._delegate.withConverter(P_.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function B_(e){return Mw(e,Bw)}class q_{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._delegate=new sb(...t)}static documentId(){return new q_(Jc.keyField().canonicalString())}isEqual(e){return(e=On(e))instanceof sb&&this._delegate._internalPath.isEqual(e._internalPath)}}class W_{static serverTimestamp(){const e=new bb("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new W_(e)}static delete(){const e=new vb("deleteField");return e._methodName="FieldValue.delete",new W_(e)}static arrayUnion(){const e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new _b("arrayUnion",t)}(...arguments);return e._methodName="FieldValue.arrayUnion",new W_(e)}static arrayRemove(){const e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Sb("arrayRemove",t)}(...arguments);return e._methodName="FieldValue.arrayRemove",new W_(e)}static increment(e){const t=new Eb("increment",e);return t._methodName="FieldValue.increment",new W_(t)}constructor(e){this._delegate=e}isEqual(e){return this._delegate.isEqual(e._delegate)}}const H_={Firestore:C_,GeoPoint:lb,Timestamp:Hc,Blob:k_,Transaction:A_,WriteBatch:R_,DocumentReference:O_,DocumentSnapshot:M_,Query:j_,QueryDocumentSnapshot:F_,QuerySnapshot:V_,CollectionReference:z_,FieldPath:q_,FieldValue:W_,setLogLevel:function(e){var t;t=e,bc.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};var K_;function G_(){return window}(function(e,t){e.INTERNAL.registerComponent(new Nn("firestore-compat",(e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},H_)))})(K_=Si,((e,t)=>new C_(e,t,new T_))),K_.registerVersion("@firebase/firestore-compat","0.3.40");async function Q_(e,t,n){var r;const{BuildInfo:i}=G_();$i(t.sessionId,"AuthEvent did not contain a session ID");const o=await async function(e){const t=function(e){if($i(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);const t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map((e=>e.toString(16).padStart(2,"0"))).join("")}(t.sessionId),s={};return Wo()?s.ibi=i.packageName:zo()?s.apn=i.packageName:zi(e,"operation-not-supported-in-this-environment"),i.displayName&&(s.appDisplayName=i.displayName),s.sessionId=o,Hl(e,n,t.type,void 0,null!==(r=t.eventId)&&void 0!==r?r:void 0,s)}function $_(e){const{cordova:t}=G_();return new Promise((n=>{t.plugins.browsertab.isAvailable((r=>{let i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hn();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}class J_ extends El{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise((e=>{this.resolveInitialized=e}))}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInitialized(),this.passiveListeners.forEach((t=>t(e))),super.onEvent(e)}async initialized(){await this.initPromise}}async function Y_(e){const t=await eS()._get(tS(e));return t&&await eS()._remove(tS(e)),t}function X_(e,t){var n,r;const i=function(e){const t=nS(e),n=t.link?decodeURIComponent(t.link):void 0,r=nS(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return nS(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){const t=nS(i),o=t.firebaseError?function(e){try{return JSON.parse(e)}catch(HP){return null}}(decodeURIComponent(t.firebaseError)):null,s=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],a=s?Bi(s):null;return a?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:a,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function Z_(){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<20;n++){const n=Math.floor(62*Math.random());e.push(t.charAt(n))}return e.join("")}function eS(){return Po(xa)}function tS(e){return Do("authEvent",e.config.apiKey,e.name)}function nS(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};const[t,...n]=e.split("?");return Cn(n.join("?"))}const rS=class{constructor(){this._redirectPersistence=Ra,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=_l,this._overrideRedirectResult=ml}async _initialize(e){const t=e._key();let n=this.eventManagers.get(t);return n||(n=new J_(e),this.eventManagers.set(t,n),this.attachCallbackListeners(e,n)),n}_openPopup(e){zi(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,n,r){!function(e){var t,n,r,i,o,s,a,l,c,u;const d=G_();Gi("function"===typeof(null===(t=null===d||void 0===d?void 0:d.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Gi("undefined"!==typeof(null===(n=null===d||void 0===d?void 0:d.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Gi("function"===typeof(null===(o=null===(i=null===(r=null===d||void 0===d?void 0:d.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===o?void 0:o.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Gi("function"===typeof(null===(l=null===(a=null===(s=null===d||void 0===d?void 0:d.cordova)||void 0===s?void 0:s.plugins)||void 0===a?void 0:a.browsertab)||void 0===l?void 0:l.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Gi("function"===typeof(null===(u=null===(c=null===d||void 0===d?void 0:d.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===u?void 0:u.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(e);const i=await this._initialize(e);await i.initialized(),i.resetRedirect(),hl.clear(),await this._originValidation(e);const o=function(e,t){return{type:t,eventId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,urlResponse:null,sessionId:Z_(),postBody:null,tenantId:e.tenantId,error:Bi(e,"no-auth-event")}}(e,n,r);await function(e,t){return eS()._set(tS(e),t)}(e,o);const s=await Q_(e,o,t);return async function(e,t,n){const{cordova:r}=G_();let i=()=>{};try{await new Promise(((o,s)=>{let a=null;function l(){var e;o();const t=null===(e=r.plugins.browsertab)||void 0===e?void 0:e.close;"function"===typeof t&&t(),"function"===typeof(null===n||void 0===n?void 0:n.close)&&n.close()}function c(){a||(a=window.setTimeout((()=>{s(Bi(e,"redirect-cancelled-by-user"))}),2e3))}function u(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}t.addPassiveListener(l),document.addEventListener("resume",c,!1),zo()&&document.addEventListener("visibilitychange",u,!1),i=()=>{t.removePassiveListener(l),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",u,!1),a&&window.clearTimeout(a)}}))}finally{i()}}(e,i,await $_(s))}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){const{BuildInfo:t}=G_(),n={};Wo()?n.iosBundleId=t.packageName:zo()?n.androidPackageName=t.packageName:zi(e,"operation-not-supported-in-this-environment"),await Tl(e,n)}(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:n,handleOpenURL:r,BuildInfo:i}=G_(),o=setTimeout((async()=>{await Y_(e),t.onEvent(iS())}),500),s=async n=>{clearTimeout(o);const r=await Y_(e);let i=null;r&&(null===n||void 0===n?void 0:n.url)&&(i=X_(r,n.url)),t.onEvent(i||iS())};"undefined"!==typeof n&&"function"===typeof n.subscribe&&n.subscribe(null,s);const a=r,l="".concat(i.packageName.toLowerCase(),"://");G_().handleOpenURL=async e=>{if(e.toLowerCase().startsWith(l)&&s({url:e}),"function"===typeof a)try{a(e)}catch(HP){console.error(HP)}}}};function iS(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Bi("no-auth-event")}}function oS(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function sS(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hn();return!("file:"!==oS()&&"ionic:"!==oS()&&"capacitor:"!==oS()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function aS(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hn();return yn()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hn();return/Edge\/\d+/.test(e)}(e)}function lS(){try{const e=self.localStorage,t=Oa();if(e)return e.setItem(t,"1"),e.removeItem(t),!aS()||wn()}catch(HP){return cS()&&wn()}return!1}function cS(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function uS(){return("http:"===oS()||"https:"===oS()||mn()||sS())&&!(gn()||fn())&&lS()&&!cS()}function dS(){return sS()&&"undefined"!==typeof document}const hS={LOCAL:"local",NONE:"none",SESSION:"session"},fS=Gi,pS="persistence";async function mS(e){await e._initializationPromise;const t=gS(),n=Do(pS,e.config.apiKey,e.name);t&&t.setItem(n,e._getPersistence())}function gS(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(HP){return null}}const yS=Gi;class vS{constructor(){this.browserResolver=Po(Gl),this.cordovaResolver=Po(rS),this.underlyingResolver=null,this._redirectPersistence=Ra,this._completeRedirectFn=_l,this._overrideRedirectResult=ml}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,n,r)}async _openRedirect(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,n,r)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return dS()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return yS(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await async function(){return!!dS()&&new Promise((e=>{const t=setTimeout((()=>{e(!1)}),1e3);document.addEventListener("deviceready",(()=>{clearTimeout(t),e(!0)}))}))}();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}function wS(e){return e.unwrap()}function bS(e,t){var n;const r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code)){t.resolver=new kS(e,function(e,t){var n;const r=On(e),i=t;return Gi(t.customData.operationType,r,"argument-error"),Gi(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),_a._fromError(r,i)}(e,t))}else if(r){const e=_S(t),n=t;e&&(n.credential=e,n.tenantId=r.tenantId||void 0,n.email=r.email||void 0,n.phoneNumber=r.phoneNumber||void 0)}}function _S(e){const{_tokenResponse:t}=e instanceof bn?e.customData:e;if(!t)return null;if(!(e instanceof bn)&&"temporaryProof"in t&&"phoneNumber"in t)return rl.credentialFromResult(e);const n=t.providerId;if(!n||n===Ci)return null;let r;switch(n){case Ti:r=Ns;break;case ki:r=Os;break;case Ii:r=Ds;break;case xi:r=Fs;break;default:const{oauthIdToken:e,oauthAccessToken:i,oauthTokenSecret:o,pendingToken:s,nonce:a}=t;return i||o||e||s?s?n.startsWith("saml.")?Ls._create(n,s):Es._fromParams({providerId:n,signInMethod:n,pendingToken:s,idToken:e,accessToken:i}):new Ps(n).credential({idToken:e,accessToken:i,rawNonce:a}):null}return e instanceof bn?r.credentialFromError(e):r.credentialFromResult(e)}function SS(e,t){return t.catch((t=>{throw t instanceof bn&&bS(e,t),t})).then((e=>{const t=e.operationType,n=e.user;return{operationType:t,credential:(r=e,_S(r)),additionalUserInfo:wa(e),user:IS.getOrCreate(n)};var r}))}async function ES(e,t){const n=await t;return{verificationId:n.verificationId,confirm:t=>SS(e,n.confirm(t))}}class kS{constructor(e,t){this.resolver=t,this.auth=e.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return SS(wS(this.auth),this.resolver.resolveSignIn(e))}}class IS{constructor(e){this._delegate=e,this.multiFactor=function(e){const t=On(e);return ka.has(t)||ka.set(t,Ea._fromUser(t)),ka.get(t)}(e)}static getOrCreate(e){return IS.USER_MAP.has(e)||IS.USER_MAP.set(e,new IS(e)),IS.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return SS(this.auth,Js(this._delegate,e))}async linkWithPhoneNumber(e,t){return ES(this.auth,async function(e,t,n){const r=On(e);await Ks(!1,r,"phone");const i=await tl(r.auth,t,On(n));return new el(i,(e=>Js(r,e)))}(this._delegate,e,t))}async linkWithPopup(e){return SS(this.auth,async function(e,t,n){const r=On(e);Hi(r.auth,t,As);const i=il(r.auth,n);return new dl(r.auth,"linkViaPopup",t,i,r).executeNotNull()}(this._delegate,e,vS))}async linkWithRedirect(e){return await mS(Jo(this.auth)),bl(this._delegate,e,vS)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return SS(this.auth,Ys(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return ES(this.auth,async function(e,t,n){const r=On(e);if(Qr(r.auth.app))return Promise.reject(Wi(r.auth));const i=await tl(r.auth,t,On(n));return new el(i,(e=>Ys(r,e)))}(this._delegate,e,t))}reauthenticateWithPopup(e){return SS(this.auth,async function(e,t,n){const r=On(e);if(Qr(r.auth.app))return Promise.reject(Bi(r.auth,"operation-not-supported-in-this-environment"));Hi(r.auth,t,As);const i=il(r.auth,n);return new dl(r.auth,"reauthViaPopup",t,i,r).executeNotNull()}(this._delegate,e,vS))}async reauthenticateWithRedirect(e){return await mS(Jo(this.auth)),wl(this._delegate,e,vS)}sendEmailVerification(e){return ca(this._delegate,e)}async unlink(e){return await Ws(this._delegate,e),this}updateEmail(e){return function(e,t){const n=On(e);return Qr(n.auth.app)?Promise.reject(Wi(n.auth)):ha(n,t,null)}(this._delegate,e)}updatePassword(e){return function(e,t){return ha(On(e),null,t)}(this._delegate,e)}updatePhoneNumber(e){return async function(e,t){const n=On(e);if(Qr(n.auth.app))return Promise.reject(Wi(n.auth));await Hs(n,t)}(this._delegate,e)}updateProfile(e){return da(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return ua(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}IS.USER_MAP=new WeakMap;const TS=Gi;class CS{constructor(e,t){if(this.app=e,t.isInitialized())return this._delegate=t.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:n}=e.options;TS(n,"invalid-api-key",{appName:e.name}),TS(n,"invalid-api-key",{appName:e.name});const r="undefined"!==typeof window?vS:void 0;this._delegate=t.initialize({options:{persistence:AS(n,e.name),popupRedirectResolver:r}}),this._delegate._updateErrorMap(Mi),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?IS.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){ds(this._delegate,e,t)}applyActionCode(e){return ia(this._delegate,e)}checkActionCode(e){return oa(this._delegate,e)}confirmPasswordReset(e,t){return async function(e,t,n){await ms(On(e),{oobCode:t,newPassword:n}).catch((async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&ra(e),t}))}(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return SS(this._delegate,sa(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return la(this._delegate,e)}isSignInWithEmailLink(e){return function(e,t){const n=Cs.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}async getRedirectResult(){TS(uS(),this._delegate,"operation-not-supported-in-this-environment");const e=await async function(e,t){return await Jo(e)._initializationPromise,_l(e,t,!1)}(this._delegate,vS);return e?SS(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){!function(e,t){Jo(e)._logFramework(t)}(this._delegate,e)}onAuthStateChanged(e,t,n){const{next:r,error:i,complete:o}=xS(e,t,n);return this._delegate.onAuthStateChanged(r,i,o)}onIdTokenChanged(e,t,n){const{next:r,error:i,complete:o}=xS(e,t,n);return this._delegate.onIdTokenChanged(r,i,o)}sendSignInLinkToEmail(e,t){return async function(e,t,n){const r=Jo(e),i={requestType:"EMAIL_SIGNIN",email:t,clientType:"CLIENT_TYPE_WEB"};!function(e,t){Gi(t.handleCodeInApp,r,"argument-error"),t&&na(r,e,t)}(i,n),await cs(r,i,"getOobCode",bs,"EMAIL_PASSWORD_PROVIDER")}(this._delegate,e,t)}sendPasswordResetEmail(e,t){return async function(e,t,n){const r=Jo(e),i={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};n&&na(r,i,n),await cs(r,i,"getOobCode",ws,"EMAIL_PASSWORD_PROVIDER")}(this._delegate,e,t||void 0)}async setPersistence(e){let t;switch(function(e,t){fS(Object.values(hS).includes(t),e,"invalid-persistence-type"),gn()?fS(t!==hS.SESSION,e,"unsupported-persistence-type"):fn()?fS(t===hS.NONE,e,"unsupported-persistence-type"):cS()?fS(t===hS.NONE||t===hS.LOCAL&&wn(),e,"unsupported-persistence-type"):fS(t===hS.NONE||lS(),e,"unsupported-persistence-type")}(this._delegate,e),e){case hS.SESSION:t=Ra;break;case hS.LOCAL:t=await Po(Ha)._isAvailable()?Ha:xa;break;case hS.NONE:t=No;break;default:return zi("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return SS(this._delegate,async function(e){var t;if(Qr(e.app))return Promise.reject(Wi(e));const n=Jo(e);if(await n._initializationPromise,null===(t=n.currentUser)||void 0===t?void 0:t.isAnonymous)return new Us({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await js(n,{returnSecureToken:!0}),i=await Us._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}(this._delegate))}signInWithCredential(e){return SS(this._delegate,$s(this._delegate,e))}signInWithCustomToken(e){return SS(this._delegate,Xs(this._delegate,e))}signInWithEmailAndPassword(e,t){return SS(this._delegate,aa(this._delegate,e,t))}signInWithEmailLink(e,t){return SS(this._delegate,async function(e,t,n){if(Qr(e.app))return Promise.reject(Wi(e));const r=On(e),i=xs.credentialWithLink(t,n||Ji());return Gi(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),$s(r,i)}(this._delegate,e,t))}signInWithPhoneNumber(e,t){return ES(this._delegate,async function(e,t,n){if(Qr(e.app))return Promise.reject(Wi(e));const r=Jo(e),i=await tl(r,t,On(n));return new el(i,(e=>$s(r,e)))}(this._delegate,e,t))}async signInWithPopup(e){return TS(uS(),this._delegate,"operation-not-supported-in-this-environment"),SS(this._delegate,async function(e,t,n){if(Qr(e.app))return Promise.reject(Bi(e,"operation-not-supported-in-this-environment"));const r=Jo(e);Hi(e,t,As);const i=il(r,n);return new dl(r,"signInViaPopup",t,i).executeNotNull()}(this._delegate,e,vS))}async signInWithRedirect(e){return TS(uS(),this._delegate,"operation-not-supported-in-this-environment"),await mS(this._delegate),vl(this._delegate,e,vS)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return async function(e,t){const{data:n}=await oa(On(e),t);return n.email}(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}function xS(e,t,n){let r=e;"function"!==typeof e&&({next:r,error:t,complete:n}=e);const i=r;return{next:e=>i(e&&IS.getOrCreate(e)),error:t,complete:n}}function AS(e,t){const n=function(e,t){const n=gS();if(!n)return[];const r=Do(pS,e,t);switch(n.getItem(r)){case hS.NONE:return[No];case hS.LOCAL:return[Ha,Ra];case hS.SESSION:return[Ra];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(Ha)||n.push(Ha),"undefined"!==typeof window)for(const r of[xa,Ra])n.includes(r)||n.push(r);return n.includes(No)||n.push(No),n}CS.Persistence=hS;class RS{static credential(e,t){return rl.credential(e,t)}constructor(){this.providerId="phone",this._delegate=new rl(wS(Si.auth()))}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}RS.PHONE_SIGN_IN_METHOD=rl.PHONE_SIGN_IN_METHOD,RS.PROVIDER_ID=rl.PROVIDER_ID;const PS=Gi;class OS{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Si.app();var r;PS(null===(r=n.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:n.name}),this._delegate=new Za(n.auth(),e,t),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(e){e.INTERNAL.registerComponent(new Nn("auth-compat",(e=>{const t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new CS(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Ai,PASSWORD_RESET:Ri,RECOVER_EMAIL:Pi,REVERT_SECOND_FACTOR_ADDITION:Oi,VERIFY_AND_CHANGE_EMAIL:Ni,VERIFY_EMAIL:Di}},EmailAuthProvider:xs,FacebookAuthProvider:Os,GithubAuthProvider:Ds,GoogleAuthProvider:Ns,OAuthProvider:Ps,SAMLAuthProvider:Ms,PhoneAuthProvider:RS,PhoneMultiFactorGenerator:Jl,RecaptchaVerifier:OS,TwitterAuthProvider:Fs,Auth:CS,AuthCredential:ps,Error:bn}).setInstantiationMode("LAZY").setMultipleInstances(!1)),e.registerVersion("@firebase/auth-compat","0.5.16")}(Si);const NS=Si.initializeApp({apiKey:"AIzaSyAZNH-Bh4omKMHhany2YVh4K7w28jQbt6w",authDomain:"clone-34143.firebaseapp.com",projectId:"clone-34143",storageBucket:"clone-34143.appspot.com",messagingSenderId:"691932265803",appId:"1:691932265803:web:ba041a9bf87963ab807cce"}),DS=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ni();const t=Hr(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=Hr(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(kn(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;zi(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Gl,persistence:[Ha,xa,Ra]}),r=un("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(i=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>ec)return;const r=null===t||void 0===t?void 0:t.token;tc!==r&&(tc=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))});!function(e,t,n){On(e).beforeAuthStateChanged(t,n)}(n,t,(()=>t(n.currentUser))),function(e,t,n,r){On(e).onIdTokenChanged(t,n,r)}(n,(e=>t(e)))}}var i;const o=ln("auth");return o&&ds(n,"http://".concat(o)),n}(NS),LS=NS.firestore(),MS=()=>{var e;const[{user:t,basket:n}]=(0,r.useContext)(Yt),i=null===n||void 0===n?void 0:n.reduce(((e,t)=>t.amount+e),0),o=Array.isArray(n)?i:0;return(0,qt.jsxs)("section",{className:bt,children:[(0,qt.jsx)("section",{children:(0,qt.jsxs)("div",{className:_t,children:[(0,qt.jsxs)("div",{className:St,children:[(0,qt.jsx)(ht,{to:"/",children:(0,qt.jsx)("img",{src:"https://pngimg.com/uploads/amazon/amazon_PNG11.png",alt:"Amazon Logo"})}),(0,qt.jsxs)("div",{className:Et,children:[(0,qt.jsx)("span",{children:(0,qt.jsx)(Vt,{size:20})}),(0,qt.jsxs)("div",{children:[(0,qt.jsx)("p",{children:"Delivered to"}),(0,qt.jsx)("span",{children:"Ethiopia"})]})]})]}),(0,qt.jsxs)("div",{className:kt,children:[(0,qt.jsx)("select",{name:"",id:"",children:(0,qt.jsx)("option",{value:"",children:"All"})}),(0,qt.jsx)("input",{type:"text"}),(0,qt.jsx)(zt,{size:25})]}),(0,qt.jsxs)("div",{className:It,children:[(0,qt.jsxs)("div",{className:Tt,children:[(0,qt.jsx)("img",{src:"https://upload.wikimedia.org/wikipedia/en/a/a4/Flag_of_the_United_States.svg",alt:"Flag"}),(0,qt.jsx)("select",{name:"",id:"",children:(0,qt.jsx)("option",{value:"",children:"EN"})})]}),(0,qt.jsx)(ht,{to:!t&&"/auth",children:(0,qt.jsx)("div",{children:t?(0,qt.jsxs)(qt.Fragment,{children:[(0,qt.jsxs)("p",{children:["Hello ",null===(e=t.email)||void 0===e?void 0:e.split("@")[0]]}),(0,qt.jsx)("span",{onClick:()=>DS.signOut(),children:"SignOut"})]}):(0,qt.jsxs)(qt.Fragment,{children:[(0,qt.jsx)("p",{children:"Hello, Sign In"}),(0,qt.jsx)("span",{children:"Account & Lists"})]})})}),(0,qt.jsxs)(ht,{to:"/returns",children:[(0,qt.jsx)("p",{children:"Returns"}),(0,qt.jsx)("span",{children:"& Orders"})]}),(0,qt.jsxs)(ht,{to:"/cart",className:Ct,children:[(0,qt.jsx)(Ht,{size:35}),(0,qt.jsx)("span",{children:o})]})]})]})}),(0,qt.jsx)(Wt,{})]})};const FS=function(e){let{children:t}=e;return(0,qt.jsxs)("div",{children:[(0,qt.jsx)(MS,{}),t]})};var jS=n(577);const US=[n.p+"static/media/10001.16833de55a457502d21a.jpg",n.p+"static/media/10003.c914c0c9e43c17916041.jpg",n.p+"static/media/10002.805821d23a3f63566f17.jpg"],VS="Carousel_hero_img__F7XyD";const zS=function(){return(0,qt.jsxs)("div",{children:[(0,qt.jsx)(jS.FN,{autoPlay:!0,infiniteLoop:!0,showIndicators:!1,showThumbs:!1,children:US.map((e=>(0,qt.jsx)("img",{src:e},e)))}),(0,qt.jsx)("div",{className:VS,children:" "})]})},BS=[{title:"Electronics",name:"electronics",imgLink:"https://images-na.ssl-images-amazon.com/images/G/01/AmazonExports/Fuji/2020/May/Dashboard/Fuji_Dash_TV_2X._SY304_CB432517900_.jpg"},{title:"Discover fashion trends",name:"women's clothing",imgLink:"https://m.media-amazon.com/images/I/61Ly+mpKM7L._AC_SY500_.jpg"},{title:"men's clothing",name:"men's clothing",imgLink:"https://m.media-amazon.com/images/I/618bcm65ksL.AC_UL480_FMwebp_QL65.jpg"},{title:"Jewelery",name:"ewelery",imgLink:"https://m.media-amazon.com/images/I/71r7eWuCsaL.AC_UL480_FMwebp_QL65.jpg"}],qS="Category_category__fZipY",WS="Category_category_container__IAqAN";const HS=function(e){let{data:t}=e;return(0,qt.jsx)("div",{className:qS,children:(0,qt.jsxs)(ht,{to:"/category/".concat(t.name),children:[(0,qt.jsx)("span",{children:(0,qt.jsx)("h2",{children:null===t||void 0===t?void 0:t.title})}),(0,qt.jsx)("img",{src:null===t||void 0===t?void 0:t.imgLink,alt:""}),(0,qt.jsx)("p",{children:"Shop Now"})]})})};const KS=function(){return(0,qt.jsx)("section",{className:WS,children:BS.map((e=>(0,qt.jsx)(HS,{data:e})))})};function GS(e,t){return function(){return e.apply(t,arguments)}}const{toString:QS}=Object.prototype,{getPrototypeOf:$S}=Object,JS=(YS=Object.create(null),e=>{const t=QS.call(e);return YS[t]||(YS[t]=t.slice(8,-1).toLowerCase())});var YS;const XS=e=>(e=e.toLowerCase(),t=>JS(t)===e),ZS=e=>t=>typeof t===e,{isArray:eE}=Array,tE=ZS("undefined");const nE=XS("ArrayBuffer");const rE=ZS("string"),iE=ZS("function"),oE=ZS("number"),sE=e=>null!==e&&"object"===typeof e,aE=e=>{if("object"!==JS(e))return!1;const t=$S(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},lE=XS("Date"),cE=XS("File"),uE=XS("Blob"),dE=XS("FileList"),hE=XS("URLSearchParams"),[fE,pE,mE,gE]=["ReadableStream","Request","Response","Headers"].map(XS);function yE(e,t){let n,r,{allOwnKeys:i=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),eE(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{const r=i?Object.getOwnPropertyNames(e):Object.keys(e),o=r.length;let s;for(n=0;n<o;n++)s=r[n],t.call(null,e[s],s,e)}}function vE(e,t){t=t.toLowerCase();const n=Object.keys(e);let r,i=n.length;for(;i-- >0;)if(r=n[i],t===r.toLowerCase())return r;return null}const wE="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,bE=e=>!tE(e)&&e!==wE;const _E=(SE="undefined"!==typeof Uint8Array&&$S(Uint8Array),e=>SE&&e instanceof SE);var SE;const EE=XS("HTMLFormElement"),kE=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),IE=XS("RegExp"),TE=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};yE(n,((n,i)=>{let o;!1!==(o=t(n,i,e))&&(r[i]=o||n)})),Object.defineProperties(e,r)},CE="abcdefghijklmnopqrstuvwxyz",xE="0123456789",AE={DIGIT:xE,ALPHA:CE,ALPHA_DIGIT:CE+CE.toUpperCase()+xE};const RE=XS("AsyncFunction"),PE=(OE="function"===typeof setImmediate,NE=iE(wE.postMessage),OE?setImmediate:NE?((e,t)=>(wE.addEventListener("message",(n=>{let{source:r,data:i}=n;r===wE&&i===e&&t.length&&t.shift()()}),!1),n=>{t.push(n),wE.postMessage(e,"*")}))("axios@".concat(Math.random()),[]):e=>setTimeout(e));var OE,NE;const DE="undefined"!==typeof queueMicrotask?queueMicrotask.bind(wE):"undefined"!==typeof process&&process.nextTick||PE,LE={isArray:eE,isArrayBuffer:nE,isBuffer:function(e){return null!==e&&!tE(e)&&null!==e.constructor&&!tE(e.constructor)&&iE(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||iE(e.append)&&("formdata"===(t=JS(e))||"object"===t&&iE(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&nE(e.buffer),t},isString:rE,isNumber:oE,isBoolean:e=>!0===e||!1===e,isObject:sE,isPlainObject:aE,isReadableStream:fE,isRequest:pE,isResponse:mE,isHeaders:gE,isUndefined:tE,isDate:lE,isFile:cE,isBlob:uE,isRegExp:IE,isFunction:iE,isStream:e=>sE(e)&&iE(e.pipe),isURLSearchParams:hE,isTypedArray:_E,isFileList:dE,forEach:yE,merge:function e(){const{caseless:t}=bE(this)&&this||{},n={},r=(r,i)=>{const o=t&&vE(n,i)||i;aE(n[o])&&aE(r)?n[o]=e(n[o],r):aE(r)?n[o]=e({},r):eE(r)?n[o]=r.slice():n[o]=r};for(let i=0,o=arguments.length;i<o;i++)arguments[i]&&yE(arguments[i],r);return n},extend:function(e,t,n){let{allOwnKeys:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return yE(t,((t,r)=>{n&&iE(t)?e[r]=GS(t,n):e[r]=t}),{allOwnKeys:r}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let i,o,s;const a={};if(t=t||{},null==e)return t;do{for(i=Object.getOwnPropertyNames(e),o=i.length;o-- >0;)s=i[o],r&&!r(s,e,t)||a[s]||(t[s]=e[s],a[s]=!0);e=!1!==n&&$S(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:JS,kindOfTest:XS,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(eE(e))return e;let t=e.length;if(!oE(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:EE,hasOwnProperty:kE,hasOwnProp:kE,reduceDescriptors:TE,freezeMethods:e=>{TE(e,((t,n)=>{if(iE(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];iE(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach((e=>{n[e]=!0}))};return eE(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:vE,global:wE,isContextDefined:bE,ALPHABET:AE,generateString:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:AE.ALPHA_DIGIT,n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n},isSpecCompliantForm:function(e){return!!(e&&iE(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(sE(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[r]=e;const i=eE(e)?[]:{};return yE(e,((e,t)=>{const o=n(e,r+1);!tE(o)&&(i[t]=o)})),t[r]=void 0,i}}return e};return n(e,0)},isAsyncFn:RE,isThenable:e=>e&&(sE(e)||iE(e))&&iE(e.then)&&iE(e.catch),setImmediate:PE,asap:DE};function ME(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}LE.inherits(ME,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:LE.toJSONObject(this.config),code:this.code,status:this.status}}});const FE=ME.prototype,jE={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{jE[e]={value:e}})),Object.defineProperties(ME,jE),Object.defineProperty(FE,"isAxiosError",{value:!0}),ME.from=(e,t,n,r,i,o)=>{const s=Object.create(FE);return LE.toFlatObject(e,s,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),ME.call(s,e.message,t,n,r,i),s.cause=e,s.name=e.name,o&&Object.assign(s,o),s};const UE=ME;function VE(e){return LE.isPlainObject(e)||LE.isArray(e)}function zE(e){return LE.endsWith(e,"[]")?e.slice(0,-2):e}function BE(e,t,n){return e?e.concat(t).map((function(e,t){return e=zE(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}const qE=LE.toFlatObject(LE,{},null,(function(e){return/^is[A-Z]/.test(e)}));const WE=function(e,t,n){if(!LE.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=LE.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!LE.isUndefined(t[e])}))).metaTokens,i=n.visitor||c,o=n.dots,s=n.indexes,a=(n.Blob||"undefined"!==typeof Blob&&Blob)&&LE.isSpecCompliantForm(t);if(!LE.isFunction(i))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(LE.isDate(e))return e.toISOString();if(!a&&LE.isBlob(e))throw new UE("Blob is not supported. Use a Buffer instead.");return LE.isArrayBuffer(e)||LE.isTypedArray(e)?a&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,i){let a=e;if(e&&!i&&"object"===typeof e)if(LE.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(LE.isArray(e)&&function(e){return LE.isArray(e)&&!e.some(VE)}(e)||(LE.isFileList(e)||LE.endsWith(n,"[]"))&&(a=LE.toArray(e)))return n=zE(n),a.forEach((function(e,r){!LE.isUndefined(e)&&null!==e&&t.append(!0===s?BE([n],r,o):null===s?n:n+"[]",l(e))})),!1;return!!VE(e)||(t.append(BE(i,n,o),l(e)),!1)}const u=[],d=Object.assign(qE,{defaultVisitor:c,convertValue:l,isVisitable:VE});if(!LE.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!LE.isUndefined(n)){if(-1!==u.indexOf(n))throw Error("Circular reference detected in "+r.join("."));u.push(n),LE.forEach(n,(function(n,o){!0===(!(LE.isUndefined(n)||null===n)&&i.call(t,n,LE.isString(o)?o.trim():o,r,d))&&e(n,r?r.concat(o):[o])})),u.pop()}}(e),t};function HE(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function KE(e,t){this._pairs=[],e&&WE(e,this,t)}const GE=KE.prototype;GE.append=function(e,t){this._pairs.push([e,t])},GE.toString=function(e){const t=e?function(t){return e.call(this,t,HE)}:HE;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const QE=KE;function $E(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function JE(e,t,n){if(!t)return e;const r=n&&n.encode||$E;LE.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let o;if(o=i?i(t,n):LE.isURLSearchParams(t)?t.toString():new QE(t,n).toString(r),o){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}const YE=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){LE.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},XE={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},ZE={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:QE,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},ek="undefined"!==typeof window&&"undefined"!==typeof document,tk="object"===typeof navigator&&navigator||void 0,nk=ek&&(!tk||["ReactNative","NativeScript","NS"].indexOf(tk.product)<0),rk="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,ik=ek&&window.location.href||"http://localhost",ok=d(d({},t),ZE);const sk=function(e){function t(e,n,r,i){let o=e[i++];if("__proto__"===o)return!0;const s=Number.isFinite(+o),a=i>=e.length;if(o=!o&&LE.isArray(r)?r.length:o,a)return LE.hasOwnProp(r,o)?r[o]=[r[o],n]:r[o]=n,!s;r[o]&&LE.isObject(r[o])||(r[o]=[]);return t(e,n,r[o],i)&&LE.isArray(r[o])&&(r[o]=function(e){const t={},n=Object.keys(e);let r;const i=n.length;let o;for(r=0;r<i;r++)o=n[r],t[o]=e[o];return t}(r[o])),!s}if(LE.isFormData(e)&&LE.isFunction(e.entries)){const n={};return LE.forEachEntry(e,((e,r)=>{t(function(e){return LE.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),r,n,0)})),n}return null};const ak={transitional:XE,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,i=LE.isObject(e);i&&LE.isHTMLForm(e)&&(e=new FormData(e));if(LE.isFormData(e))return r?JSON.stringify(sk(e)):e;if(LE.isArrayBuffer(e)||LE.isBuffer(e)||LE.isStream(e)||LE.isFile(e)||LE.isBlob(e)||LE.isReadableStream(e))return e;if(LE.isArrayBufferView(e))return e.buffer;if(LE.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return WE(e,new ok.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return ok.isNode&&LE.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((o=LE.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return WE(o?{"files[]":e}:e,t&&new t,this.formSerializer)}}return i||r?(t.setContentType("application/json",!1),function(e,t,n){if(LE.isString(e))try{return(t||JSON.parse)(e),LE.trim(e)}catch(HP){if("SyntaxError"!==HP.name)throw HP}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||ak.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(LE.isResponse(e)||LE.isReadableStream(e))return e;if(e&&LE.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(HP){if(n){if("SyntaxError"===HP.name)throw UE.from(HP,UE.ERR_BAD_RESPONSE,this,null,this.response);throw HP}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ok.classes.FormData,Blob:ok.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};LE.forEach(["delete","get","head","post","put","patch"],(e=>{ak.headers[e]={}}));const lk=ak,ck=LE.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),uk=Symbol("internals");function dk(e){return e&&String(e).trim().toLowerCase()}function hk(e){return!1===e||null==e?e:LE.isArray(e)?e.map(hk):String(e)}function fk(e,t,n,r,i){return LE.isFunction(r)?r.call(this,t,n):(i&&(t=n),LE.isString(t)?LE.isString(r)?-1!==t.indexOf(r):LE.isRegExp(r)?r.test(t):void 0:void 0)}class pk{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function i(e,t,n){const i=dk(t);if(!i)throw new Error("header name must be a non-empty string");const o=LE.findKey(r,i);(!o||void 0===r[o]||!0===n||void 0===n&&!1!==r[o])&&(r[o||t]=hk(e))}const o=(e,t)=>LE.forEach(e,((e,n)=>i(e,n,t)));if(LE.isPlainObject(e)||e instanceof this.constructor)o(e,t);else if(LE.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))o((e=>{const t={};let n,r,i;return e&&e.split("\n").forEach((function(e){i=e.indexOf(":"),n=e.substring(0,i).trim().toLowerCase(),r=e.substring(i+1).trim(),!n||t[n]&&ck[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)})),t})(e),t);else if(LE.isHeaders(e))for(const[s,a]of e.entries())i(a,s,n);else null!=e&&i(t,e,n);return this}get(e,t){if(e=dk(e)){const n=LE.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(LE.isFunction(t))return t.call(this,e,n);if(LE.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=dk(e)){const n=LE.findKey(this,e);return!(!n||void 0===this[n]||t&&!fk(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function i(e){if(e=dk(e)){const i=LE.findKey(n,e);!i||t&&!fk(0,n[i],i,t)||(delete n[i],r=!0)}}return LE.isArray(e)?e.forEach(i):i(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const i=t[n];e&&!fk(0,this[i],i,e,!0)||(delete this[i],r=!0)}return r}normalize(e){const t=this,n={};return LE.forEach(this,((r,i)=>{const o=LE.findKey(n,i);if(o)return t[o]=hk(r),void delete t[i];const s=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,n)=>t.toUpperCase()+n))}(i):String(i).trim();s!==i&&delete t[i],t[s]=hk(r),n[s]=!0})),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return LE.forEach(this,((n,r)=>{null!=n&&!1!==n&&(t[r]=e&&LE.isArray(n)?n.join(", "):n)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((e=>{let[t,n]=e;return t+": "+n})).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.forEach((e=>t.set(e))),t}static accessor(e){const t=(this[uk]=this[uk]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=dk(e);t[r]||(!function(e,t){const n=LE.toCamelCase(" "+t);["get","set","has"].forEach((r=>{Object.defineProperty(e,r+n,{value:function(e,n,i){return this[r].call(this,t,e,n,i)},configurable:!0})}))}(n,e),t[r]=!0)}return LE.isArray(e)?e.forEach(r):r(e),this}}pk.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),LE.reduceDescriptors(pk.prototype,((e,t)=>{let{value:n}=e,r=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[r]=e}}})),LE.freezeMethods(pk);const mk=pk;function gk(e,t){const n=this||lk,r=t||n,i=mk.from(r.headers);let o=r.data;return LE.forEach(e,(function(e){o=e.call(n,o,i.normalize(),t?t.status:void 0)})),i.normalize(),o}function yk(e){return!(!e||!e.__CANCEL__)}function vk(e,t,n){UE.call(this,null==e?"canceled":e,UE.ERR_CANCELED,t,n),this.name="CanceledError"}LE.inherits(vk,UE,{__CANCEL__:!0});const wk=vk;function bk(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new UE("Request failed with status code "+n.status,[UE.ERR_BAD_REQUEST,UE.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const _k=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i,o=0,s=0;return t=void 0!==t?t:1e3,function(a){const l=Date.now(),c=r[s];i||(i=l),n[o]=a,r[o]=l;let u=s,d=0;for(;u!==o;)d+=n[u++],u%=e;if(o=(o+1)%e,o===s&&(s=(s+1)%e),l-i<t)return;const h=c&&l-c;return h?Math.round(1e3*d/h):void 0}};const Sk=function(e,t){let n,r,i=0,o=1e3/t;const s=function(t){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();i=o,n=null,r&&(clearTimeout(r),r=null),e.apply(null,t)};return[function(){const e=Date.now(),t=e-i;for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];t>=o?s(l,e):(n=l,r||(r=setTimeout((()=>{r=null,s(n)}),o-t)))},()=>n&&s(n)]},Ek=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=0;const i=_k(50,250);return Sk((n=>{const o=n.loaded,s=n.lengthComputable?n.total:void 0,a=o-r,l=i(a);r=o;e({loaded:o,total:s,progress:s?o/s:void 0,bytes:a,rate:l||void 0,estimated:l&&s&&o<=s?(s-o)/l:void 0,event:n,lengthComputable:null!=s,[t?"download":"upload"]:!0})}),n)},kk=(e,t)=>{const n=null!=e;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},Ik=e=>function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return LE.asap((()=>e(...n)))},Tk=ok.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,ok.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(ok.origin),ok.navigator&&/(msie|trident)/i.test(ok.navigator.userAgent)):()=>!0,Ck=ok.hasStandardBrowserEnv?{write(e,t,n,r,i,o){const s=[e+"="+encodeURIComponent(t)];LE.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),LE.isString(r)&&s.push("path="+r),LE.isString(i)&&s.push("domain="+i),!0===o&&s.push("secure"),document.cookie=s.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function xk(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const Ak=e=>e instanceof mk?d({},e):e;function Rk(e,t){t=t||{};const n={};function r(e,t,n,r){return LE.isPlainObject(e)&&LE.isPlainObject(t)?LE.merge.call({caseless:r},e,t):LE.isPlainObject(t)?LE.merge({},t):LE.isArray(t)?t.slice():t}function i(e,t,n,i){return LE.isUndefined(t)?LE.isUndefined(e)?void 0:r(void 0,e,0,i):r(e,t,0,i)}function o(e,t){if(!LE.isUndefined(t))return r(void 0,t)}function s(e,t){return LE.isUndefined(t)?LE.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function a(n,i,o){return o in t?r(n,i):o in e?r(void 0,n):void 0}const l={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(e,t,n)=>i(Ak(e),Ak(t),0,!0)};return LE.forEach(Object.keys(Object.assign({},e,t)),(function(r){const o=l[r]||i,s=o(e[r],t[r],r);LE.isUndefined(s)&&o!==a||(n[r]=s)})),n}const Pk=e=>{const t=Rk({},e);let n,{data:r,withXSRFToken:i,xsrfHeaderName:o,xsrfCookieName:s,headers:a,auth:l}=t;if(t.headers=a=mk.from(a),t.url=JE(xk(t.baseURL,t.url),e.params,e.paramsSerializer),l&&a.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),LE.isFormData(r))if(ok.hasStandardBrowserEnv||ok.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(!1!==(n=a.getContentType())){const[e,...t]=n?n.split(";").map((e=>e.trim())).filter(Boolean):[];a.setContentType([e||"multipart/form-data",...t].join("; "))}if(ok.hasStandardBrowserEnv&&(i&&LE.isFunction(i)&&(i=i(t)),i||!1!==i&&Tk(t.url))){const e=o&&s&&Ck.read(s);e&&a.set(o,e)}return t},Ok="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){const r=Pk(e);let i=r.data;const o=mk.from(r.headers).normalize();let s,a,l,c,u,{responseType:d,onUploadProgress:h,onDownloadProgress:f}=r;function p(){c&&c(),u&&u(),r.cancelToken&&r.cancelToken.unsubscribe(s),r.signal&&r.signal.removeEventListener("abort",s)}let m=new XMLHttpRequest;function g(){if(!m)return;const r=mk.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders());bk((function(e){t(e),p()}),(function(e){n(e),p()}),{data:d&&"text"!==d&&"json"!==d?m.response:m.responseText,status:m.status,statusText:m.statusText,headers:r,config:e,request:m}),m=null}m.open(r.method.toUpperCase(),r.url,!0),m.timeout=r.timeout,"onloadend"in m?m.onloadend=g:m.onreadystatechange=function(){m&&4===m.readyState&&(0!==m.status||m.responseURL&&0===m.responseURL.indexOf("file:"))&&setTimeout(g)},m.onabort=function(){m&&(n(new UE("Request aborted",UE.ECONNABORTED,e,m)),m=null)},m.onerror=function(){n(new UE("Network Error",UE.ERR_NETWORK,e,m)),m=null},m.ontimeout=function(){let t=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const i=r.transitional||XE;r.timeoutErrorMessage&&(t=r.timeoutErrorMessage),n(new UE(t,i.clarifyTimeoutError?UE.ETIMEDOUT:UE.ECONNABORTED,e,m)),m=null},void 0===i&&o.setContentType(null),"setRequestHeader"in m&&LE.forEach(o.toJSON(),(function(e,t){m.setRequestHeader(t,e)})),LE.isUndefined(r.withCredentials)||(m.withCredentials=!!r.withCredentials),d&&"json"!==d&&(m.responseType=r.responseType),f&&([l,u]=Ek(f,!0),m.addEventListener("progress",l)),h&&m.upload&&([a,c]=Ek(h),m.upload.addEventListener("progress",a),m.upload.addEventListener("loadend",c)),(r.cancelToken||r.signal)&&(s=t=>{m&&(n(!t||t.type?new wk(null,e,m):t),m.abort(),m=null)},r.cancelToken&&r.cancelToken.subscribe(s),r.signal&&(r.signal.aborted?s():r.signal.addEventListener("abort",s)));const y=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(r.url);y&&-1===ok.protocols.indexOf(y)?n(new UE("Unsupported protocol "+y+":",UE.ERR_BAD_REQUEST,e)):m.send(i||null)}))},Nk=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,r=new AbortController;const i=function(e){if(!n){n=!0,s();const t=e instanceof Error?e:this.reason;r.abort(t instanceof UE?t:new wk(t instanceof Error?t.message:t))}};let o=t&&setTimeout((()=>{o=null,i(new UE("timeout ".concat(t," of ms exceeded"),UE.ETIMEDOUT))}),t);const s=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach((e=>{e.unsubscribe?e.unsubscribe(i):e.removeEventListener("abort",i)})),e=null)};e.forEach((e=>e.addEventListener("abort",i)));const{signal:a}=r;return a.unsubscribe=()=>LE.asap(s),a}};function Dk(e,t){this.v=e,this.k=t}function Lk(e){return function(){return new Mk(e.apply(this,arguments))}}function Mk(e){var t,n;function r(t,n){try{var o=e[t](n),s=o.value,a=s instanceof Dk;Promise.resolve(a?s.v:s).then((function(n){if(a){var l="return"===t?"return":"next";if(!s.k||n.done)return r(l,n);n=e[l](n).value}i(o.done?"return":"normal",n)}),(function(e){r("throw",e)}))}catch(e){i("throw",e)}}function i(e,i){switch(e){case"return":t.resolve({value:i,done:!0});break;case"throw":t.reject(i);break;default:t.resolve({value:i,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,i){return new Promise((function(o,s){var a={key:e,arg:i,resolve:o,reject:s,next:null};n?n=n.next=a:(t=n=a,r(e,i))}))},"function"!=typeof e.return&&(this.return=void 0)}function Fk(e){return new Dk(e,0)}function jk(e){var t={},n=!1;function r(t,r){return n=!0,r=new Promise((function(n){n(e[t](r))})),{done:!1,value:new Dk(r,1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return n?(n=!1,e):r("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(n)throw n=!1,e;return r("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return n?(n=!1,e):r("return",e)}),t}function Uk(e){var t,n,r,i=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,r=Symbol.iterator);i--;){if(n&&null!=(t=e[n]))return t.call(e);if(r&&null!=(t=e[r]))return new Vk(t.call(e));n="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}function Vk(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then((function(e){return{value:e,done:t}}))}return Vk=function(e){this.s=e,this.n=e.next},Vk.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new Vk(e)}Mk.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},Mk.prototype.next=function(e){return this._invoke("next",e)},Mk.prototype.throw=function(e){return this._invoke("throw",e)},Mk.prototype.return=function(e){return this._invoke("return",e)};const zk=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let r,i=0;for(;i<n;)r=i+t,yield e.slice(i,r),i=r},Bk=function(){var e=Lk((function*(e,t){var n,r=!1,i=!1;try{for(var o,s=Uk(qk(e));r=!(o=yield Fk(s.next())).done;r=!1){const e=o.value;yield*jk(Uk(zk(e,t)))}}catch(a){i=!0,n=a}finally{try{r&&null!=s.return&&(yield Fk(s.return()))}finally{if(i)throw n}}}));return function(t,n){return e.apply(this,arguments)}}(),qk=function(){var e=Lk((function*(e){if(e[Symbol.asyncIterator])return void(yield*jk(Uk(e)));const t=e.getReader();try{for(;;){const{done:e,value:n}=yield Fk(t.read());if(e)break;yield n}}finally{yield Fk(t.cancel())}}));return function(t){return e.apply(this,arguments)}}(),Wk=(e,t,n,r)=>{const i=Bk(e,t);let o,s=0,a=e=>{o||(o=!0,r&&r(e))};return new ReadableStream({async pull(e){try{const{done:t,value:r}=await i.next();if(t)return a(),void e.close();let o=r.byteLength;if(n){let e=s+=o;n(e)}e.enqueue(new Uint8Array(r))}catch(t){throw a(t),t}},cancel:e=>(a(e),i.return())},{highWaterMark:2})},Hk="function"===typeof fetch&&"function"===typeof Request&&"function"===typeof Response,Kk=Hk&&"function"===typeof ReadableStream,Gk=Hk&&("function"===typeof TextEncoder?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),Qk=function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return!!e(...n)}catch(HP){return!1}},$k=Kk&&Qk((()=>{let e=!1;const t=new Request(ok.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})),Jk=Kk&&Qk((()=>LE.isReadableStream(new Response("").body))),Yk={stream:Jk&&(e=>e.body)};var Xk;Hk&&(Xk=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((e=>{!Yk[e]&&(Yk[e]=LE.isFunction(Xk[e])?t=>t[e]():(t,n)=>{throw new UE("Response type '".concat(e,"' is not supported"),UE.ERR_NOT_SUPPORT,n)})})));const Zk=async(e,t)=>{const n=LE.toFiniteNumber(e.getContentLength());return null==n?(async e=>{if(null==e)return 0;if(LE.isBlob(e))return e.size;if(LE.isSpecCompliantForm(e)){const t=new Request(ok.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return LE.isArrayBufferView(e)||LE.isArrayBuffer(e)?e.byteLength:(LE.isURLSearchParams(e)&&(e+=""),LE.isString(e)?(await Gk(e)).byteLength:void 0)})(t):n},eI=Hk&&(async e=>{let{url:t,method:n,data:r,signal:i,cancelToken:o,timeout:s,onDownloadProgress:a,onUploadProgress:l,responseType:c,headers:u,withCredentials:h="same-origin",fetchOptions:f}=Pk(e);c=c?(c+"").toLowerCase():"text";let p,m=Nk([i,o&&o.toAbortSignal()],s);const g=m&&m.unsubscribe&&(()=>{m.unsubscribe()});let y;try{if(l&&$k&&"get"!==n&&"head"!==n&&0!==(y=await Zk(u,r))){let e,n=new Request(t,{method:"POST",body:r,duplex:"half"});if(LE.isFormData(r)&&(e=n.headers.get("content-type"))&&u.setContentType(e),n.body){const[e,t]=kk(y,Ek(Ik(l)));r=Wk(n.body,65536,e,t)}}LE.isString(h)||(h=h?"include":"omit");const i="credentials"in Request.prototype;p=new Request(t,d(d({},f),{},{signal:m,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:r,duplex:"half",credentials:i?h:void 0}));let o=await fetch(p);const s=Jk&&("stream"===c||"response"===c);if(Jk&&(a||s&&g)){const e={};["status","statusText","headers"].forEach((t=>{e[t]=o[t]}));const t=LE.toFiniteNumber(o.headers.get("content-length")),[n,r]=a&&kk(t,Ek(Ik(a),!0))||[];o=new Response(Wk(o.body,65536,n,(()=>{r&&r(),g&&g()})),e)}c=c||"text";let v=await Yk[LE.findKey(Yk,c)||"text"](o,e);return!s&&g&&g(),await new Promise(((t,n)=>{bk(t,n,{data:v,headers:mk.from(o.headers),status:o.status,statusText:o.statusText,config:e,request:p})}))}catch(v){if(g&&g(),v&&"TypeError"===v.name&&/fetch/i.test(v.message))throw Object.assign(new UE("Network Error",UE.ERR_NETWORK,e,p),{cause:v.cause||v});throw UE.from(v,v&&v.code,e,p)}}),tI={http:null,xhr:Ok,fetch:eI};LE.forEach(tI,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(HP){}Object.defineProperty(e,"adapterName",{value:t})}}));const nI=e=>"- ".concat(e),rI=e=>LE.isFunction(e)||null===e||!1===e,iI=e=>{e=LE.isArray(e)?e:[e];const{length:t}=e;let n,r;const i={};for(let o=0;o<t;o++){let t;if(n=e[o],r=n,!rI(n)&&(r=tI[(t=String(n)).toLowerCase()],void 0===r))throw new UE("Unknown adapter '".concat(t,"'"));if(r)break;i[t||"#"+o]=r}if(!r){const e=Object.entries(i).map((e=>{let[t,n]=e;return"adapter ".concat(t," ")+(!1===n?"is not supported by the environment":"is not available in the build")}));let n=t?e.length>1?"since :\n"+e.map(nI).join("\n"):" "+nI(e[0]):"as no adapter specified";throw new UE("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return r};function oI(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new wk(null,e)}function sI(e){oI(e),e.headers=mk.from(e.headers),e.data=gk.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return iI(e.adapter||lk.adapter)(e).then((function(t){return oI(e),t.data=gk.call(e,e.transformResponse,t),t.headers=mk.from(t.headers),t}),(function(t){return yk(t)||(oI(e),t&&t.response&&(t.response.data=gk.call(e,e.transformResponse,t.response),t.response.headers=mk.from(t.response.headers))),Promise.reject(t)}))}const aI="1.7.9",lI={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{lI[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));const cI={};lI.transitional=function(e,t,n){function r(e,t){return"[Axios v1.7.9] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,i,o)=>{if(!1===e)throw new UE(r(i," has been removed"+(t?" in "+t:"")),UE.ERR_DEPRECATED);return t&&!cI[i]&&(cI[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,o)}},lI.spelling=function(e){return(t,n)=>(console.warn("".concat(n," is likely a misspelling of ").concat(e)),!0)};const uI={assertOptions:function(e,t,n){if("object"!==typeof e)throw new UE("options must be an object",UE.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const o=r[i],s=t[o];if(s){const t=e[o],n=void 0===t||s(t,o,e);if(!0!==n)throw new UE("option "+o+" must be "+n,UE.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new UE("Unknown option "+o,UE.ERR_BAD_OPTION)}},validators:lI},dI=uI.validators;class hI{constructor(e){this.defaults=e,this.interceptors={request:new YE,response:new YE}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}catch(HP){}}throw n}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=Rk(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:i}=t;void 0!==n&&uI.assertOptions(n,{silentJSONParsing:dI.transitional(dI.boolean),forcedJSONParsing:dI.transitional(dI.boolean),clarifyTimeoutError:dI.transitional(dI.boolean)},!1),null!=r&&(LE.isFunction(r)?t.paramsSerializer={serialize:r}:uI.assertOptions(r,{encode:dI.function,serialize:dI.function},!0)),uI.assertOptions(t,{baseUrl:dI.spelling("baseURL"),withXsrfToken:dI.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=i&&LE.merge(i.common,i[t.method]);i&&LE.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete i[e]})),t.headers=mk.concat(o,i);const s=[];let a=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(a=a&&e.synchronous,s.unshift(e.fulfilled,e.rejected))}));const l=[];let c;this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));let u,d=0;if(!a){const e=[sI.bind(this),void 0];for(e.unshift.apply(e,s),e.push.apply(e,l),u=e.length,c=Promise.resolve(t);d<u;)c=c.then(e[d++],e[d++]);return c}u=s.length;let h=t;for(d=0;d<u;){const e=s[d++],t=s[d++];try{h=e(h)}catch(f){t.call(this,f);break}}try{c=sI.call(this,h)}catch(f){return Promise.reject(f)}for(d=0,u=l.length;d<u;)c=c.then(l[d++],l[d++]);return c}getUri(e){return JE(xk((e=Rk(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}LE.forEach(["delete","get","head","options"],(function(e){hI.prototype[e]=function(t,n){return this.request(Rk(n||{},{method:e,url:t,data:(n||{}).data}))}})),LE.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,i){return this.request(Rk(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}hI.prototype[e]=t(),hI.prototype[e+"Form"]=t(!0)}));const fI=hI;class pI{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const n=this;this.promise.then((e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null})),this.promise.then=e=>{let t;const r=new Promise((e=>{n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e,r,i){n.reason||(n.reason=new wk(e,r,i),t(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new pI((function(t){e=t})),cancel:e}}}const mI=pI;const gI={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(gI).forEach((e=>{let[t,n]=e;gI[n]=t}));const yI=gI;const vI=function e(t){const n=new fI(t),r=GS(fI.prototype.request,n);return LE.extend(r,fI.prototype,n,{allOwnKeys:!0}),LE.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(Rk(t,n))},r}(lk);vI.Axios=fI,vI.CanceledError=wk,vI.CancelToken=mI,vI.isCancel=yk,vI.VERSION=aI,vI.toFormData=WE,vI.AxiosError=UE,vI.Cancel=vI.CanceledError,vI.all=function(e){return Promise.all(e)},vI.spread=function(e){return function(t){return e.apply(null,t)}},vI.isAxiosError=function(e){return LE.isObject(e)&&!0===e.isAxiosError},vI.mergeConfig=Rk,vI.AxiosHeaders=mk,vI.formToJSON=e=>sk(LE.isHTMLForm(e)?new FormData(e):e),vI.getAdapter=iI,vI.HttpStatusCode=yI,vI.default=vI;const wI=vI;var bI=n(328),_I=n.n(bI);const SI=e=>{let{amount:t}=e;const n=_I()(t).format("$0,0.00");return(0,qt.jsx)("div",{children:n})};function EI(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=EI(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}const kI=function(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=EI(e))&&(r&&(r+=" "),r+=t);return r};const II=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MIN_SAFE_INTEGER,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.MAX_SAFE_INTEGER;return Math.max(t,Math.min(e,n))},TI={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};function CI(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;const r={};for(const i in e){const o=e[i];let s="",a=!0;for(let e=0;e<o.length;e+=1){const r=o[e];r&&(s+=(!0===a?"":" ")+t(r),a=!1,n&&n[r]&&(s+=" "+n[r]))}r[i]=s}return r}const xI=r.createContext();function AI(e){try{return e.matches(":focus-visible")}catch(t){0}return!1}function RI(e){const t=new URL("https://mui.com/production-error/?code=".concat(e));for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.forEach((e=>t.searchParams.append("args[]",e))),"Minified MUI error #".concat(e,"; visit ").concat(t," for the full message.")}function PI(e){if("string"!==typeof e)throw new Error(RI(7));return e.charAt(0).toUpperCase()+e.slice(1)}const OI=PI;let NI=0;const DI=d({},i).useId;const LI=function(e){if(void 0!==DI){const t=DI();return null!==e&&void 0!==e?e:t}return function(e){const[t,n]=r.useState(e),i=e||t;return r.useEffect((()=>{null==t&&(NI+=1,n("mui-".concat(NI)))}),[t]),i}(e)};const MI=function(e){let{controlled:t,default:n,name:i,state:o="value"}=e;const{current:s}=r.useRef(void 0!==t),[a,l]=r.useState(n);return[s?t:a,r.useCallback((e=>{s||l(e)}),[])]};const FI=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.useMemo((()=>t.every((e=>null==e))?null:e=>{t.forEach((t=>{!function(e,t){"function"===typeof e?e(t):e&&(e.current=t)}(t,e)}))}),t)};function jI(){return jI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jI.apply(null,arguments)}var UI=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(HP){}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){var t;return null==(t=e.parentNode)?void 0:t.removeChild(e)})),this.tags=[],this.ctr=0},e}(),VI=Math.abs,zI=String.fromCharCode,BI=Object.assign;function qI(e){return e.trim()}function WI(e,t,n){return e.replace(t,n)}function HI(e,t){return e.indexOf(t)}function KI(e,t){return 0|e.charCodeAt(t)}function GI(e,t,n){return e.slice(t,n)}function QI(e){return e.length}function $I(e){return e.length}function JI(e,t){return t.push(e),e}var YI=1,XI=1,ZI=0,eT=0,tT=0,nT="";function rT(e,t,n,r,i,o,s){return{value:e,root:t,parent:n,type:r,props:i,children:o,line:YI,column:XI,length:s,return:""}}function iT(e,t){return BI(rT("",null,null,"",null,null,0),e,{length:-e.length},t)}function oT(){return tT=eT>0?KI(nT,--eT):0,XI--,10===tT&&(XI=1,YI--),tT}function sT(){return tT=eT<ZI?KI(nT,eT++):0,XI++,10===tT&&(XI=1,YI++),tT}function aT(){return KI(nT,eT)}function lT(){return eT}function cT(e,t){return GI(nT,e,t)}function uT(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function dT(e){return YI=XI=1,ZI=QI(nT=e),eT=0,[]}function hT(e){return nT="",e}function fT(e){return qI(cT(eT-1,gT(91===e?e+2:40===e?e+1:e)))}function pT(e){for(;(tT=aT())&&tT<33;)sT();return uT(e)>2||uT(tT)>3?"":" "}function mT(e,t){for(;--t&&sT()&&!(tT<48||tT>102||tT>57&&tT<65||tT>70&&tT<97););return cT(e,lT()+(t<6&&32==aT()&&32==sT()))}function gT(e){for(;sT();)switch(tT){case e:return eT;case 34:case 39:34!==e&&39!==e&&gT(tT);break;case 40:41===e&&gT(e);break;case 92:sT()}return eT}function yT(e,t){for(;sT()&&e+tT!==57&&(e+tT!==84||47!==aT()););return"/*"+cT(t,eT-1)+"*"+zI(47===e?e:sT())}function vT(e){for(;!uT(aT());)sT();return cT(e,eT)}var wT="-ms-",bT="-moz-",_T="-webkit-",ST="comm",ET="rule",kT="decl",IT="@keyframes";function TT(e,t){for(var n="",r=$I(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function CT(e,t,n,r){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case kT:return e.return=e.return||e.value;case ST:return"";case IT:return e.return=e.value+"{"+TT(e.children,r)+"}";case ET:e.value=e.props.join(",")}return QI(n=TT(e.children,r))?e.return=e.value+"{"+n+"}":""}function xT(e){return function(t){t.root||(t=t.return)&&e(t)}}function AT(e){return hT(RT("",null,null,null,[""],e=dT(e),0,[0],e))}function RT(e,t,n,r,i,o,s,a,l){for(var c=0,u=0,d=s,h=0,f=0,p=0,m=1,g=1,y=1,v=0,w="",b=i,_=o,S=r,E=w;g;)switch(p=v,v=sT()){case 40:if(108!=p&&58==KI(E,d-1)){-1!=HI(E+=WI(fT(v),"&","&\f"),"&\f")&&(y=-1);break}case 34:case 39:case 91:E+=fT(v);break;case 9:case 10:case 13:case 32:E+=pT(p);break;case 92:E+=mT(lT()-1,7);continue;case 47:switch(aT()){case 42:case 47:JI(OT(yT(sT(),lT()),t,n),l);break;default:E+="/"}break;case 123*m:a[c++]=QI(E)*y;case 125*m:case 59:case 0:switch(v){case 0:case 125:g=0;case 59+u:-1==y&&(E=WI(E,/\f/g,"")),f>0&&QI(E)-d&&JI(f>32?NT(E+";",r,n,d-1):NT(WI(E," ","")+";",r,n,d-2),l);break;case 59:E+=";";default:if(JI(S=PT(E,t,n,c,u,i,a,w,b=[],_=[],d),o),123===v)if(0===u)RT(E,t,S,S,b,o,d,a,_);else switch(99===h&&110===KI(E,3)?100:h){case 100:case 108:case 109:case 115:RT(e,S,S,r&&JI(PT(e,S,S,0,0,i,a,w,i,b=[],d),_),i,_,d,a,r?b:_);break;default:RT(E,S,S,S,[""],_,0,a,_)}}c=u=f=0,m=y=1,w=E="",d=s;break;case 58:d=1+QI(E),f=p;default:if(m<1)if(123==v)--m;else if(125==v&&0==m++&&125==oT())continue;switch(E+=zI(v),v*m){case 38:y=u>0?1:(E+="\f",-1);break;case 44:a[c++]=(QI(E)-1)*y,y=1;break;case 64:45===aT()&&(E+=fT(sT())),h=aT(),u=d=QI(w=E+=vT(lT())),v++;break;case 45:45===p&&2==QI(E)&&(m=0)}}return o}function PT(e,t,n,r,i,o,s,a,l,c,u){for(var d=i-1,h=0===i?o:[""],f=$I(h),p=0,m=0,g=0;p<r;++p)for(var y=0,v=GI(e,d+1,d=VI(m=s[p])),w=e;y<f;++y)(w=qI(m>0?h[y]+" "+v:WI(v,/&\f/g,h[y])))&&(l[g++]=w);return rT(e,t,n,0===i?ET:a,l,c,u)}function OT(e,t,n){return rT(e,t,n,ST,zI(tT),GI(e,2,-2),0)}function NT(e,t,n,r){return rT(e,t,n,kT,GI(e,0,r),GI(e,r+1,-1),r)}var DT=function(e,t,n){for(var r=0,i=0;r=i,i=aT(),38===r&&12===i&&(t[n]=1),!uT(i);)sT();return cT(e,eT)},LT=function(e,t){return hT(function(e,t){var n=-1,r=44;do{switch(uT(r)){case 0:38===r&&12===aT()&&(t[n]=1),e[n]+=DT(eT-1,t,n);break;case 2:e[n]+=fT(r);break;case 4:if(44===r){e[++n]=58===aT()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=zI(r)}}while(r=sT());return e}(dT(e),t))},MT=new WeakMap,FT=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||MT.get(n))&&!r){MT.set(e,!0);for(var i=[],o=LT(t,i),s=n.props,a=0,l=0;a<o.length;a++)for(var c=0;c<s.length;c++,l++)e.props[l]=i[a]?o[a].replace(/&\f/g,s[c]):s[c]+" "+o[a]}}},jT=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function UT(e,t){switch(function(e,t){return 45^KI(e,0)?(((t<<2^KI(e,0))<<2^KI(e,1))<<2^KI(e,2))<<2^KI(e,3):0}(e,t)){case 5103:return _T+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return _T+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return _T+e+bT+e+wT+e+e;case 6828:case 4268:return _T+e+wT+e+e;case 6165:return _T+e+wT+"flex-"+e+e;case 5187:return _T+e+WI(e,/(\w+).+(:[^]+)/,_T+"box-$1$2"+wT+"flex-$1$2")+e;case 5443:return _T+e+wT+"flex-item-"+WI(e,/flex-|-self/,"")+e;case 4675:return _T+e+wT+"flex-line-pack"+WI(e,/align-content|flex-|-self/,"")+e;case 5548:return _T+e+wT+WI(e,"shrink","negative")+e;case 5292:return _T+e+wT+WI(e,"basis","preferred-size")+e;case 6060:return _T+"box-"+WI(e,"-grow","")+_T+e+wT+WI(e,"grow","positive")+e;case 4554:return _T+WI(e,/([^-])(transform)/g,"$1"+_T+"$2")+e;case 6187:return WI(WI(WI(e,/(zoom-|grab)/,_T+"$1"),/(image-set)/,_T+"$1"),e,"")+e;case 5495:case 3959:return WI(e,/(image-set\([^]*)/,_T+"$1$`$1");case 4968:return WI(WI(e,/(.+:)(flex-)?(.*)/,_T+"box-pack:$3"+wT+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+_T+e+e;case 4095:case 3583:case 4068:case 2532:return WI(e,/(.+)-inline(.+)/,_T+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(QI(e)-1-t>6)switch(KI(e,t+1)){case 109:if(45!==KI(e,t+4))break;case 102:return WI(e,/(.+:)(.+)-([^]+)/,"$1"+_T+"$2-$3$1"+bT+(108==KI(e,t+3)?"$3":"$2-$3"))+e;case 115:return~HI(e,"stretch")?UT(WI(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==KI(e,t+1))break;case 6444:switch(KI(e,QI(e)-3-(~HI(e,"!important")&&10))){case 107:return WI(e,":",":"+_T)+e;case 101:return WI(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+_T+(45===KI(e,14)?"inline-":"")+"box$3$1"+_T+"$2$3$1"+wT+"$2box$3")+e}break;case 5936:switch(KI(e,t+11)){case 114:return _T+e+wT+WI(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return _T+e+wT+WI(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return _T+e+wT+WI(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return _T+e+wT+e+e}return e}var VT=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case kT:e.return=UT(e.value,e.length);break;case IT:return TT([iT(e,{value:WI(e.value,"@","@"+_T)})],r);case ET:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return TT([iT(e,{props:[WI(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return TT([iT(e,{props:[WI(t,/:(plac\w+)/,":"+_T+"input-$1")]}),iT(e,{props:[WI(t,/:(plac\w+)/,":-moz-$1")]}),iT(e,{props:[WI(t,/:(plac\w+)/,wT+"input-$1")]})],r)}return""}))}}],zT=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r,i,o=e.stylisPlugins||VT,s={},a=[];r=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)s[t[n]]=!0;a.push(e)}));var l,c=[FT,jT],u=[CT,xT((function(e){l.insert(e)}))],d=function(e){var t=$I(e);return function(n,r,i,o){for(var s="",a=0;a<t;a++)s+=e[a](n,r,i,o)||"";return s}}(c.concat(o,u));i=function(e,t,n,r){l=n,TT(AT(e?e+"{"+t.styles+"}":t.styles),d),r&&(h.inserted[t.name]=!0)};var h={key:t,sheet:new UI({key:t,container:r,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:i};return h.sheet.hydrate(a),h};var BT={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function qT(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}var WT=/[A-Z]|^ms/g,HT=/_EMO_([^_]+?)_([^]*?)_EMO_/g,KT=function(e){return 45===e.charCodeAt(1)},GT=function(e){return null!=e&&"boolean"!==typeof e},QT=qT((function(e){return KT(e)?e:e.replace(WT,"-$&").toLowerCase()})),$T=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(HT,(function(e,t,n){return YT={name:t,styles:n,next:YT},t}))}return 1===BT[e]||KT(e)||"number"!==typeof t||0===t?t:t+"px"};function JT(e,t,n){if(null==n)return"";var r=n;if(void 0!==r.__emotion_styles)return r;switch(typeof n){case"boolean":return"";case"object":var i=n;if(1===i.anim)return YT={name:i.name,styles:i.styles,next:YT},i.name;var o=n;if(void 0!==o.styles){var s=o.next;if(void 0!==s)for(;void 0!==s;)YT={name:s.name,styles:s.styles,next:YT},s=s.next;return o.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=JT(e,t,n[i])+";";else for(var o in n){var s=n[o];if("object"!==typeof s){var a=s;null!=t&&void 0!==t[a]?r+=o+"{"+t[a]+"}":GT(a)&&(r+=QT(o)+":"+$T(o,a)+";")}else if(!Array.isArray(s)||"string"!==typeof s[0]||null!=t&&void 0!==t[s[0]]){var l=JT(e,t,s);switch(o){case"animation":case"animationName":r+=QT(o)+":"+l+";";break;default:r+=o+"{"+l+"}"}}else for(var c=0;c<s.length;c++)GT(s[c])&&(r+=QT(o)+":"+$T(o,s[c])+";")}return r}(e,t,n);case"function":if(void 0!==e){var a=YT,l=n(e);return YT=a,JT(e,t,l)}}var c=n;if(null==t)return c;var u=t[c];return void 0!==u?u:c}var YT,XT=/label:\s*([^\s;{]+)\s*(;|$)/g;function ZT(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";YT=void 0;var o=e[0];null==o||void 0===o.raw?(r=!1,i+=JT(n,t,o)):i+=o[0];for(var s=1;s<e.length;s++){if(i+=JT(n,t,e[s]),r)i+=o[s]}XT.lastIndex=0;for(var a,l="";null!==(a=XT.exec(i));)l+="-"+a[1];var c=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(i)+l;return{name:c,styles:i,next:YT}}var eC=!!i.useInsertionEffect&&i.useInsertionEffect,tC=eC||function(e){return e()},nC=(eC||r.useLayoutEffect,r.createContext("undefined"!==typeof HTMLElement?zT({key:"css"}):null)),rC=(nC.Provider,function(e){return(0,r.forwardRef)((function(t,n){var i=(0,r.useContext)(nC);return e(t,i,n)}))}),iC=r.createContext({});var oC=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},sC=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,aC=qT((function(e){return sC.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),lC=function(e){return"theme"!==e},cC=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?aC:lC},uC=function(e,t,n){var r;if(t){var i=t.shouldForwardProp;r=e.__emotion_forwardProp&&i?function(t){return e.__emotion_forwardProp(t)&&i(t)}:i}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},dC=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return oC(t,n,r),tC((function(){return function(e,t,n){oC(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0),i=i.next}while(void 0!==i)}}(t,n,r)})),null},hC=function e(t,n){var i,o,s=t.__emotion_real===t,a=s&&t.__emotion_base||t;void 0!==n&&(i=n.label,o=n.target);var l=uC(t,n,s),c=l||cC(a),u=!c("as");return function(){var d=arguments,h=s&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==i&&h.push("label:"+i+";"),null==d[0]||void 0===d[0].raw)h.push.apply(h,d);else{var f=d[0];h.push(f[0]);for(var p=d.length,m=1;m<p;m++)h.push(d[m],f[m])}var g=rC((function(e,t,n){var i=u&&e.as||a,s="",d=[],f=e;if(null==e.theme){for(var p in f={},e)f[p]=e[p];f.theme=r.useContext(iC)}"string"===typeof e.className?s=function(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):n&&(r+=n+" ")})),r}(t.registered,d,e.className):null!=e.className&&(s=e.className+" ");var m=ZT(h.concat(d),t.registered,f);s+=t.key+"-"+m.name,void 0!==o&&(s+=" "+o);var g=u&&void 0===l?cC(i):c,y={};for(var v in e)u&&"as"===v||g(v)&&(y[v]=e[v]);return y.className=s,n&&(y.ref=n),r.createElement(r.Fragment,null,r.createElement(dC,{cache:t,serialized:m,isStringTag:"string"===typeof i}),r.createElement(i,y))}));return g.displayName=void 0!==i?i:"Styled("+("string"===typeof a?a:a.displayName||a.name||"Component")+")",g.defaultProps=t.defaultProps,g.__emotion_real=g,g.__emotion_base=a,g.__emotion_styles=h,g.__emotion_forwardProp=l,Object.defineProperty(g,"toString",{value:function(){return"."+o}}),g.withComponent=function(t,r){return e(t,jI({},n,r,{shouldForwardProp:uC(g,r,!0)})).apply(void 0,h)},g}}.bind(null);["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){hC[e]=hC(e)}));const fC=[];function pC(e){return fC[0]=e,ZT(fC)}function mC(e){if("object"!==typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function gC(e){if(r.isValidElement(e)||!mC(e))return e;const t={};return Object.keys(e).forEach((n=>{t[n]=gC(e[n])})),t}function yC(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0};const i=n.clone?d({},e):e;return mC(e)&&mC(t)&&Object.keys(t).forEach((o=>{r.isValidElement(t[o])?i[o]=t[o]:mC(t[o])&&Object.prototype.hasOwnProperty.call(e,o)&&mC(e[o])?i[o]=yC(e[o],t[o],n):n.clone?i[o]=mC(t[o])?gC(t[o]):t[o]:i[o]=t[o]})),i}const vC=["values","unit","step"];function wC(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=e,i=s(e,vC),o=(e=>{const t=Object.keys(e).map((t=>({key:t,val:e[t]})))||[];return t.sort(((e,t)=>e.val-t.val)),t.reduce(((e,t)=>d(d({},e),{},{[t.key]:t.val})),{})})(t),a=Object.keys(o);function l(e){const r="number"===typeof t[e]?t[e]:e;return"@media (min-width:".concat(r).concat(n,")")}function c(e){const i="number"===typeof t[e]?t[e]:e;return"@media (max-width:".concat(i-r/100).concat(n,")")}function u(e,i){const o=a.indexOf(i);return"@media (min-width:".concat("number"===typeof t[e]?t[e]:e).concat(n,") and ")+"(max-width:".concat((-1!==o&&"number"===typeof t[a[o]]?t[a[o]]:i)-r/100).concat(n,")")}return d({keys:a,values:o,up:l,down:c,between:u,only:function(e){return a.indexOf(e)+1<a.length?u(e,a[a.indexOf(e)+1]):l(e)},not:function(e){const t=a.indexOf(e);return 0===t?l(a[1]):t===a.length-1?c(a[t]):u(e,a[a.indexOf(e)+1]).replace("@media","@media not all and")},unit:n},i)}const bC={borderRadius:4},_C={xs:0,sm:600,md:900,lg:1200,xl:1536},SC={keys:["xs","sm","md","lg","xl"],up:e=>"@media (min-width:".concat(_C[e],"px)")},EC={containerQueries:e=>({up:t=>{let n="number"===typeof t?t:_C[t]||t;return"number"===typeof n&&(n="".concat(n,"px")),e?"@container ".concat(e," (min-width:").concat(n,")"):"@container (min-width:".concat(n,")")}})};function kC(e,t,n){const r=e.theme||{};if(Array.isArray(t)){const e=r.breakpoints||SC;return t.reduce(((r,i,o)=>(r[e.up(e.keys[o])]=n(t[o]),r)),{})}if("object"===typeof t){const e=r.breakpoints||SC;return Object.keys(t).reduce(((i,o)=>{if(function(e,t){return"@"===t||t.startsWith("@")&&(e.some((e=>t.startsWith("@".concat(e))))||!!t.match(/^@\d/))}(e.keys,o)){const e=function(e,t){const n=t.match(/^@([^/]+)?\/?(.+)?$/);if(!n)return null;const[,r,i]=n,o=Number.isNaN(+r)?r||0:+r;return e.containerQueries(i).up(o)}(r.containerQueries?r:EC,o);e&&(i[e]=n(t[o],o))}else if(Object.keys(e.values||_C).includes(o)){i[e.up(o)]=n(t[o],o)}else{const e=o;i[e]=t[e]}return i}),{})}return n(t)}function IC(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(null===(e=t.keys)||void 0===e?void 0:e.reduce(((e,n)=>(e[t.up(n)]={},e)),{}))||{}}function TC(e,t){return e.reduce(((e,t)=>{const n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e}),t)}function CC(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||"string"!==typeof t)return null;if(e&&e.vars&&n){const n="vars.".concat(t).split(".").reduce(((e,t)=>e&&e[t]?e[t]:null),e);if(null!=n)return n}return t.split(".").reduce(((e,t)=>e&&null!=e[t]?e[t]:null),e)}function xC(e,t,n){let r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof e?e(n):Array.isArray(e)?e[n]||i:CC(e,n)||i,t&&(r=t(r,i,e)),r}const AC=function(e){const{prop:t,cssProperty:n=e.prop,themeKey:r,transform:i}=e,o=e=>{if(null==e[t])return null;const o=e[t],s=CC(e.theme,r)||{};return kC(e,o,(e=>{let r=xC(s,i,e);return e===r&&"string"===typeof e&&(r=xC(s,i,"".concat(t).concat("default"===e?"":PI(e)),e)),!1===n?r:{[n]:r}}))};return o.propTypes={},o.filterProps=[t],o};const RC=function(e,t){return t?yC(e,t,{clone:!1}):e};const PC={m:"margin",p:"padding"},OC={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},NC={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},DC=function(e){const t={};return n=>(void 0===t[n]&&(t[n]=e(n)),t[n])}((e=>{if(e.length>2){if(!NC[e])return[e];e=NC[e]}const[t,n]=e.split(""),r=PC[t],i=OC[n]||"";return Array.isArray(i)?i.map((e=>r+e)):[r+i]})),LC=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],MC=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],FC=[...LC,...MC];function jC(e,t,n,r){var i;const o=null!==(i=CC(e,t,!0))&&void 0!==i?i:n;return"number"===typeof o||"string"===typeof o?e=>"string"===typeof e?e:"string"===typeof o?"calc(".concat(e," * ").concat(o,")"):o*e:Array.isArray(o)?e=>{if("string"===typeof e)return e;const t=Math.abs(e);const n=o[t];return e>=0?n:"number"===typeof n?-n:"-".concat(n)}:"function"===typeof o?o:()=>{}}function UC(e){return jC(e,"spacing",8)}function VC(e,t){return"string"===typeof t||null==t?t:e(t)}function zC(e,t,n,r){if(!t.includes(n))return null;const i=function(e,t){return n=>e.reduce(((e,r)=>(e[r]=VC(t,n),e)),{})}(DC(n),r);return kC(e,e[n],i)}function BC(e,t){const n=UC(e.theme);return Object.keys(e).map((r=>zC(e,t,r,n))).reduce(RC,{})}function qC(e){return BC(e,LC)}function WC(e){return BC(e,MC)}function HC(e){return BC(e,FC)}qC.propTypes={},qC.filterProps=LC,WC.propTypes={},WC.filterProps=MC,HC.propTypes={},HC.filterProps=FC;function KC(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:UC({spacing:e});if(e.mui)return e;const n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(0===n.length?[1]:n).map((e=>{const n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return n.mui=!0,n}const GC=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.reduce(((e,t)=>(t.filterProps.forEach((n=>{e[n]=t})),e)),{}),i=e=>Object.keys(e).reduce(((t,n)=>r[n]?RC(t,r[n](e)):t),{});return i.propTypes={},i.filterProps=t.reduce(((e,t)=>e.concat(t.filterProps)),[]),i};function QC(e){return"number"!==typeof e?e:"".concat(e,"px solid")}function $C(e,t){return AC({prop:e,themeKey:"borders",transform:t})}const JC=$C("border",QC),YC=$C("borderTop",QC),XC=$C("borderRight",QC),ZC=$C("borderBottom",QC),ex=$C("borderLeft",QC),tx=$C("borderColor"),nx=$C("borderTopColor"),rx=$C("borderRightColor"),ix=$C("borderBottomColor"),ox=$C("borderLeftColor"),sx=$C("outline",QC),ax=$C("outlineColor"),lx=e=>{if(void 0!==e.borderRadius&&null!==e.borderRadius){const t=jC(e.theme,"shape.borderRadius",4),n=e=>({borderRadius:VC(t,e)});return kC(e,e.borderRadius,n)}return null};lx.propTypes={},lx.filterProps=["borderRadius"];GC(JC,YC,XC,ZC,ex,tx,nx,rx,ix,ox,lx,sx,ax);const cx=e=>{if(void 0!==e.gap&&null!==e.gap){const t=jC(e.theme,"spacing",8),n=e=>({gap:VC(t,e)});return kC(e,e.gap,n)}return null};cx.propTypes={},cx.filterProps=["gap"];const ux=e=>{if(void 0!==e.columnGap&&null!==e.columnGap){const t=jC(e.theme,"spacing",8),n=e=>({columnGap:VC(t,e)});return kC(e,e.columnGap,n)}return null};ux.propTypes={},ux.filterProps=["columnGap"];const dx=e=>{if(void 0!==e.rowGap&&null!==e.rowGap){const t=jC(e.theme,"spacing",8),n=e=>({rowGap:VC(t,e)});return kC(e,e.rowGap,n)}return null};dx.propTypes={},dx.filterProps=["rowGap"];GC(cx,ux,dx,AC({prop:"gridColumn"}),AC({prop:"gridRow"}),AC({prop:"gridAutoFlow"}),AC({prop:"gridAutoColumns"}),AC({prop:"gridAutoRows"}),AC({prop:"gridTemplateColumns"}),AC({prop:"gridTemplateRows"}),AC({prop:"gridTemplateAreas"}),AC({prop:"gridArea"}));function hx(e,t){return"grey"===t?t:e}GC(AC({prop:"color",themeKey:"palette",transform:hx}),AC({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:hx}),AC({prop:"backgroundColor",themeKey:"palette",transform:hx}));function fx(e){return e<=1&&0!==e?"".concat(100*e,"%"):e}const px=AC({prop:"width",transform:fx}),mx=e=>{if(void 0!==e.maxWidth&&null!==e.maxWidth){const t=t=>{var n,r;const i=(null===(n=e.theme)||void 0===n||null===(n=n.breakpoints)||void 0===n||null===(n=n.values)||void 0===n?void 0:n[t])||_C[t];return i?"px"!==(null===(r=e.theme)||void 0===r||null===(r=r.breakpoints)||void 0===r?void 0:r.unit)?{maxWidth:"".concat(i).concat(e.theme.breakpoints.unit)}:{maxWidth:i}:{maxWidth:fx(t)}};return kC(e,e.maxWidth,t)}return null};mx.filterProps=["maxWidth"];const gx=AC({prop:"minWidth",transform:fx}),yx=AC({prop:"height",transform:fx}),vx=AC({prop:"maxHeight",transform:fx}),wx=AC({prop:"minHeight",transform:fx}),bx=(AC({prop:"size",cssProperty:"width",transform:fx}),AC({prop:"size",cssProperty:"height",transform:fx}),GC(px,mx,gx,yx,vx,wx,AC({prop:"boxSizing"})),{border:{themeKey:"borders",transform:QC},borderTop:{themeKey:"borders",transform:QC},borderRight:{themeKey:"borders",transform:QC},borderBottom:{themeKey:"borders",transform:QC},borderLeft:{themeKey:"borders",transform:QC},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:QC},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:lx},color:{themeKey:"palette",transform:hx},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:hx},backgroundColor:{themeKey:"palette",transform:hx},p:{style:WC},pt:{style:WC},pr:{style:WC},pb:{style:WC},pl:{style:WC},px:{style:WC},py:{style:WC},padding:{style:WC},paddingTop:{style:WC},paddingRight:{style:WC},paddingBottom:{style:WC},paddingLeft:{style:WC},paddingX:{style:WC},paddingY:{style:WC},paddingInline:{style:WC},paddingInlineStart:{style:WC},paddingInlineEnd:{style:WC},paddingBlock:{style:WC},paddingBlockStart:{style:WC},paddingBlockEnd:{style:WC},m:{style:qC},mt:{style:qC},mr:{style:qC},mb:{style:qC},ml:{style:qC},mx:{style:qC},my:{style:qC},margin:{style:qC},marginTop:{style:qC},marginRight:{style:qC},marginBottom:{style:qC},marginLeft:{style:qC},marginX:{style:qC},marginY:{style:qC},marginInline:{style:qC},marginInlineStart:{style:qC},marginInlineEnd:{style:qC},marginBlock:{style:qC},marginBlockStart:{style:qC},marginBlockEnd:{style:qC},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:cx},rowGap:{style:dx},columnGap:{style:ux},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:fx},maxWidth:{style:mx},minWidth:{transform:fx},height:{transform:fx},maxHeight:{transform:fx},minHeight:{transform:fx},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}});const _x=function(){function e(e,t,n,r){const i={[e]:t,theme:n},o=r[e];if(!o)return{[e]:t};const{cssProperty:s=e,themeKey:a,transform:l,style:c}=o;if(null==t)return null;if("typography"===a&&"inherit"===t)return{[e]:t};const u=CC(n,a)||{};if(c)return c(i);return kC(i,t,(t=>{let n=xC(u,l,t);return t===n&&"string"===typeof t&&(n=xC(u,l,"".concat(e).concat("default"===t?"":PI(t)),t)),!1===s?n:{[s]:n}}))}return function t(n){var r;const{sx:i,theme:o={}}=n||{};if(!i)return null;const s=null!==(r=o.unstable_sxConfig)&&void 0!==r?r:bx;function a(n){let r=n;if("function"===typeof n)r=n(o);else if("object"!==typeof n)return n;if(!r)return null;const i=IC(o.breakpoints),a=Object.keys(i);let l=i;return Object.keys(r).forEach((n=>{const i=function(e,t){return"function"===typeof e?e(t):e}(r[n],o);if(null!==i&&void 0!==i)if("object"===typeof i)if(s[n])l=RC(l,e(n,i,o,s));else{const e=kC({theme:o},i,(e=>({[n]:e})));!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.reduce(((e,t)=>e.concat(Object.keys(t))),[]),i=new Set(r);return t.every((e=>i.size===Object.keys(e).length))}(e,i)?l=RC(l,e):l[n]=t({sx:i,theme:o})}else l=RC(l,e(n,i,o,s))})),function(e,t){if(!e.containerQueries)return t;const n=Object.keys(t).filter((e=>e.startsWith("@container"))).sort(((e,t)=>{var n,r;const i=/min-width:\s*([0-9.]+)/;return+((null===(n=e.match(i))||void 0===n?void 0:n[1])||0)-+((null===(r=t.match(i))||void 0===r?void 0:r[1])||0)}));return n.length?n.reduce(((e,n)=>{const r=t[n];return delete e[n],e[n]=r,e}),d({},t)):t}(o,TC(a,l))}return Array.isArray(i)?i.map(a):a(i)}}();_x.filterProps=["sx"];const Sx=_x;function Ex(e,t){const n=this;if(n.vars){var r;if(null===(r=n.colorSchemes)||void 0===r||!r[e]||"function"!==typeof n.getColorSchemeSelector)return{};let i=n.getColorSchemeSelector(e);return"&"===i?t:((i.includes("data-")||i.includes("."))&&(i="*:where(".concat(i.replace(/\s*&$/,""),") &")),{[i]:t})}return n.palette.mode===e?t:{}}const kx=["breakpoints","palette","spacing","shape"];const Ix=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{breakpoints:t={},palette:n={},spacing:r,shape:i={}}=e,o=s(e,kx),a=wC(t),l=KC(r);let c=yC({breakpoints:a,direction:"ltr",components:{},palette:d({mode:"light"},n),spacing:l,shape:d(d({},bC),i)},o);c=function(e){const t=(e,t)=>e.replace("@media",t?"@container ".concat(t):"@container");function n(n,r){n.up=function(){return t(e.breakpoints.up(...arguments),r)},n.down=function(){return t(e.breakpoints.down(...arguments),r)},n.between=function(){return t(e.breakpoints.between(...arguments),r)},n.only=function(){return t(e.breakpoints.only(...arguments),r)},n.not=function(){const n=t(e.breakpoints.not(...arguments),r);return n.includes("not all and")?n.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):n}}const r={},i=e=>(n(r,e),r);return n(i),d(d({},e),{},{containerQueries:i})}(c),c.applyStyles=Ex;for(var u=arguments.length,h=new Array(u>1?u-1:0),f=1;f<u;f++)h[f-1]=arguments[f];return c=h.reduce(((e,t)=>yC(e,t)),c),c.unstable_sxConfig=d(d({},bx),null===o||void 0===o?void 0:o.unstable_sxConfig),c.unstable_sx=function(e){return Sx({sx:e,theme:this})},c},Tx=["variants"];function Cx(e){const{variants:t}=e,n=s(e,Tx),r={variants:t,style:pC(n),isProcessed:!0};return r.style===n||t&&t.forEach((e=>{"function"!==typeof e.style&&(e.style=pC(e.style))})),r}const xx=["variants"],Ax=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],Rx=Ix();function Px(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}function Ox(e){return e?(t,n)=>n[e]:null}function Nx(e,t){const n="function"===typeof t?t(e):t;if(Array.isArray(n))return n.flatMap((t=>Nx(e,t)));if(Array.isArray(null===n||void 0===n?void 0:n.variants)){let t;if(n.isProcessed)t=n.style;else{const{variants:e}=n;t=s(n,xx)}return Dx(e,n.variants,[t])}return null!==n&&void 0!==n&&n.isProcessed?n.style:n}function Dx(e,t){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];e:for(let a=0;a<t.length;a+=1){const l=t[a];var i,o;if("function"===typeof l.props){if(null!==(i=n)&&void 0!==i||(n=d(d(d({},e),e.ownerState),{},{ownerState:e.ownerState})),!l.props(n))continue}else for(const t in l.props){var s;if(e[t]!==l.props[t]&&(null===(s=e.ownerState)||void 0===s?void 0:s[t])!==l.props[t])continue e}if("function"===typeof l.style)null!==(o=n)&&void 0!==o||(n=d(d(d({},e),e.ownerState),{},{ownerState:e.ownerState})),r.push(l.style(n));else r.push(l.style)}return r}function Lx(e,t){}function Mx(e){return e?e.charAt(0).toLowerCase()+e.slice(1):e}function Fx(e){return II(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,arguments.length>2&&void 0!==arguments[2]?arguments[2]:1)}function jx(e){if(e.type)return e;if("#"===e.charAt(0))return jx(function(e){e=e.slice(1);const t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g");let n=e.match(t);return n&&1===n[0].length&&(n=n.map((e=>e+e))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map(((e,t)=>t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3)).join(", "),")"):""}(e));const t=e.indexOf("("),n=e.substring(0,t);if(!["rgb","rgba","hsl","hsla","color"].includes(n))throw new Error(RI(9,e));let r,i=e.substring(t+1,e.length-1);if("color"===n){if(i=i.split(" "),r=i.shift(),4===i.length&&"/"===i[3].charAt(0)&&(i[3]=i[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(r))throw new Error(RI(10,r))}else i=i.split(",");return i=i.map((e=>parseFloat(e))),{type:n,values:i,colorSpace:r}}const Ux=(e,t)=>{try{return(e=>{const t=jx(e);return t.values.slice(0,3).map(((e,n)=>t.type.includes("hsl")&&0!==n?"".concat(e,"%"):e)).join(" ")})(e)}catch(n){return e}};function Vx(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return t.includes("rgb")?r=r.map(((e,t)=>t<3?parseInt(e,10):e)):t.includes("hsl")&&(r[1]="".concat(r[1],"%"),r[2]="".concat(r[2],"%")),r=t.includes("color")?"".concat(n," ").concat(r.join(" ")):"".concat(r.join(", ")),"".concat(t,"(").concat(r,")")}function zx(e){e=jx(e);const{values:t}=e,n=t[0],r=t[1]/100,i=t[2]/100,o=r*Math.min(i,1-i),s=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-o*Math.max(Math.min(t-3,9-t,1),-1)};let a="rgb";const l=[Math.round(255*s(0)),Math.round(255*s(8)),Math.round(255*s(4))];return"hsla"===e.type&&(a+="a",l.push(t[3])),Vx({type:a,values:l})}function Bx(e){let t="hsl"===(e=jx(e)).type||"hsla"===e.type?jx(zx(e)).values:e.values;return t=t.map((t=>("color"!==e.type&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4))),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function qx(e,t,n){try{return function(e,t){return e=jx(e),t=Fx(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]="/".concat(t):e.values[3]=t,Vx(e)}(e,t)}catch(r){return e}}function Wx(e,t){if(e=jx(e),t=Fx(t),e.type.includes("hsl"))e.values[2]*=1-t;else if(e.type.includes("rgb")||e.type.includes("color"))for(let n=0;n<3;n+=1)e.values[n]*=1-t;return Vx(e)}function Hx(e,t,n){try{return Wx(e,t)}catch(r){return e}}function Kx(e,t){if(e=jx(e),t=Fx(t),e.type.includes("hsl"))e.values[2]+=(100-e.values[2])*t;else if(e.type.includes("rgb"))for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(e.type.includes("color"))for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return Vx(e)}function Gx(e,t,n){try{return Kx(e,t)}catch(r){return e}}function Qx(e,t,n){try{return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.15;return Bx(e)>.5?Wx(e,t):Kx(e,t)}(e,t)}catch(r){return e}}const $x={black:"#000",white:"#fff"},Jx={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Yx={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Xx={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Zx={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},eA={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},tA={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},nA={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},rA=["mode","contrastThreshold","tonalOffset"];function iA(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:$x.white,default:$x.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const oA=iA();function sA(){return{text:{primary:$x.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:$x.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const aA=sA();function lA(e,t,n,r){const i=r.light||r,o=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=Kx(e.main,i):"dark"===t&&(e.dark=Wx(e.main,o)))}function cA(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:r=.2}=e,i=s(e,rA),o=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:eA[200],light:eA[50],dark:eA[400]}:{main:eA[700],light:eA[400],dark:eA[800]}}(t),a=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Yx[200],light:Yx[50],dark:Yx[400]}:{main:Yx[500],light:Yx[300],dark:Yx[700]}}(t),l=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Xx[500],light:Xx[300],dark:Xx[700]}:{main:Xx[700],light:Xx[400],dark:Xx[800]}}(t),c=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:tA[400],light:tA[300],dark:tA[700]}:{main:tA[700],light:tA[500],dark:tA[900]}}(t),u=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:nA[400],light:nA[300],dark:nA[700]}:{main:nA[800],light:nA[500],dark:nA[900]}}(t),h=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Zx[400],light:Zx[300],dark:Zx[700]}:{main:"#ed6c02",light:Zx[500],dark:Zx[900]}}(t);function f(e){const t=function(e,t){const n=Bx(e),r=Bx(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}(e,aA.text.primary)>=n?aA.text.primary:oA.text.primary;return t}const p=e=>{let{color:t,name:n,mainShade:i=500,lightShade:o=300,darkShade:s=700}=e;if(t=d({},t),!t.main&&t[i]&&(t.main=t[i]),!t.hasOwnProperty("main"))throw new Error(RI(11,n?" (".concat(n,")"):"",i));if("string"!==typeof t.main)throw new Error(RI(12,n?" (".concat(n,")"):"",JSON.stringify(t.main)));return lA(t,"light",o,r),lA(t,"dark",s,r),t.contrastText||(t.contrastText=f(t.main)),t};let m;"light"===t?m=iA():"dark"===t&&(m=sA());return yC(d({common:d({},$x),mode:t,primary:p({color:o,name:"primary"}),secondary:p({color:a,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:p({color:l,name:"error"}),warning:p({color:h,name:"warning"}),info:p({color:c,name:"info"}),success:p({color:u,name:"success"}),grey:Jx,contrastThreshold:n,getContrastText:f,augmentColor:p,tonalOffset:r},m),i)}function uA(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";function t(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];if(!r.length)return"";const o=r[0];return"string"!==typeof o||o.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?", ".concat(o):", var(--".concat(e?"".concat(e,"-"):"").concat(o).concat(t(...r.slice(1)),")")}return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return"var(--".concat(e?"".concat(e,"-"):"").concat(n).concat(t(...i),")")}}function dA(e){const t={};return Object.entries(e).forEach((e=>{const[n,r]=e;"object"===typeof r&&(t[n]="".concat(r.fontStyle?"".concat(r.fontStyle," "):"").concat(r.fontVariant?"".concat(r.fontVariant," "):"").concat(r.fontWeight?"".concat(r.fontWeight," "):"").concat(r.fontStretch?"".concat(r.fontStretch," "):"").concat(r.fontSize||"").concat(r.lineHeight?"/".concat(r.lineHeight," "):"").concat(r.fontFamily||""))})),t}const hA=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=e;t.forEach(((e,o)=>{o===t.length-1?Array.isArray(i)?i[Number(e)]=n:i&&"object"===typeof i&&(i[e]=n):i&&"object"===typeof i&&(i[e]||(i[e]=r.includes(e)?[]:{}),i=i[e])}))};function fA(e,t){const{prefix:n,shouldSkipGeneratingVar:r}=t||{},i={},o={},s={};return((e,t,n)=>{!function e(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];Object.entries(r).forEach((r=>{let[s,a]=r;(!n||n&&!n([...i,s]))&&void 0!==a&&null!==a&&("object"===typeof a&&Object.keys(a).length>0?e(a,[...i,s],Array.isArray(a)?[...o,s]:o):t([...i,s],a,o))}))}(e)})(e,((e,t,a)=>{if(("string"===typeof t||"number"===typeof t)&&(!r||!r(e,t))){const r="--".concat(n?"".concat(n,"-"):"").concat(e.join("-")),l=((e,t)=>{if("number"===typeof t)return["lineHeight","fontWeight","opacity","zIndex"].some((t=>e.includes(t)))||e[e.length-1].toLowerCase().includes("opacity")?t:"".concat(t,"px");return t})(e,t);Object.assign(i,{[r]:l}),hA(o,e,"var(".concat(r,")"),a),hA(s,e,"var(".concat(r,", ").concat(l,")"),a)}}),(e=>"vars"===e[0])),{css:i,vars:o,varsWithDefaults:s}}const pA=["colorSchemes","components","defaultColorScheme"];const mA=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{getSelector:n=w,disableCssColorScheme:r,colorSchemeSelector:i}=t,{colorSchemes:o={},components:a,defaultColorScheme:c="light"}=e,u=s(e,pA),{vars:h,css:f,varsWithDefaults:p}=fA(u,t);let m=p;const g={},{[c]:y}=o,v=s(o,[c].map(l));if(Object.entries(v||{}).forEach((e=>{let[n,r]=e;const{vars:i,css:o,varsWithDefaults:s}=fA(r,t);m=yC(m,s),g[n]={css:o,vars:i}})),y){const{css:e,vars:n,varsWithDefaults:r}=fA(y,t);m=yC(m,r),g[c]={css:e,vars:n}}function w(t,n){let r=i;if("class"===i&&(r=".%s"),"data"===i&&(r="[data-%s]"),null!==i&&void 0!==i&&i.startsWith("data-")&&!i.includes("%s")&&(r="[".concat(i,'="%s"]')),t){if("media"===r){var s;if(e.defaultColorScheme===t)return":root";const r=(null===(s=o[t])||void 0===s||null===(s=s.palette)||void 0===s?void 0:s.mode)||t;return{["@media (prefers-color-scheme: ".concat(r,")")]:{":root":n}}}if(r)return e.defaultColorScheme===t?":root, ".concat(r.replace("%s",String(t))):r.replace("%s",String(t))}return":root"}return{vars:m,generateThemeVars:()=>{let e=d({},h);return Object.entries(g).forEach((t=>{let[,{vars:n}]=t;e=yC(e,n)})),e},generateStyleSheets:()=>{const t=[],i=e.defaultColorScheme||"light";function a(e,n){Object.keys(n).length&&t.push("string"===typeof e?{[e]:d({},n)}:e)}a(n(void 0,d({},f)),f);const{[i]:c}=g,u=s(g,[i].map(l));if(c){var h;const{css:e}=c,t=null===(h=o[i])||void 0===h||null===(h=h.palette)||void 0===h?void 0:h.mode,s=d(!r&&t?{colorScheme:t}:{},e);a(n(i,d({},s)),s)}return Object.entries(u).forEach((e=>{var t;let[i,{css:s}]=e;const l=null===(t=o[i])||void 0===t||null===(t=t.palette)||void 0===t?void 0:t.mode,c=d(!r&&l?{colorScheme:l}:{},s);a(n(i,d({},c)),c)})),t}}};function gA(e,t){return d({toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}}},t)}const yA=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];const vA={textTransform:"uppercase"},wA='"Roboto", "Helvetica", "Arial", sans-serif';function bA(e,t){const n="function"===typeof t?t(e):t,{fontFamily:r=wA,fontSize:i=14,fontWeightLight:o=300,fontWeightRegular:a=400,fontWeightMedium:l=500,fontWeightBold:c=700,htmlFontSize:u=16,allVariants:h,pxToRem:f}=n,p=s(n,yA);const m=i/14,g=f||(e=>"".concat(e/u*m,"rem")),y=(e,t,n,i,o)=>{return d(d(d({fontFamily:r,fontWeight:e,fontSize:g(t),lineHeight:n},r===wA?{letterSpacing:"".concat((s=i/t,Math.round(1e5*s)/1e5),"em")}:{}),o),h);var s},v={h1:y(o,96,1.167,-1.5),h2:y(o,60,1.2,-.5),h3:y(a,48,1.167,0),h4:y(a,34,1.235,.25),h5:y(a,24,1.334,0),h6:y(l,20,1.6,.15),subtitle1:y(a,16,1.75,.15),subtitle2:y(l,14,1.57,.1),body1:y(a,16,1.5,.15),body2:y(a,14,1.43,.15),button:y(l,14,1.75,.4,vA),caption:y(a,12,1.66,.4),overline:y(a,12,2.66,1,vA),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return yC(d({htmlFontSize:u,pxToRem:g,fontFamily:r,fontSize:i,fontWeightLight:o,fontWeightRegular:a,fontWeightMedium:l,fontWeightBold:c},v),p,{clone:!1})}function _A(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}const SA=["none",_A(0,2,1,-1,0,1,1,0,0,1,3,0),_A(0,3,1,-2,0,2,2,0,0,1,5,0),_A(0,3,3,-2,0,3,4,0,0,1,8,0),_A(0,2,4,-1,0,4,5,0,0,1,10,0),_A(0,3,5,-1,0,5,8,0,0,1,14,0),_A(0,3,5,-1,0,6,10,0,0,1,18,0),_A(0,4,5,-2,0,7,10,1,0,2,16,1),_A(0,5,5,-3,0,8,10,1,0,3,14,2),_A(0,5,6,-3,0,9,12,1,0,3,16,2),_A(0,6,6,-3,0,10,14,1,0,4,18,3),_A(0,6,7,-4,0,11,15,1,0,4,20,3),_A(0,7,8,-4,0,12,17,2,0,5,22,4),_A(0,7,8,-4,0,13,19,2,0,5,24,4),_A(0,7,9,-4,0,14,21,2,0,5,26,4),_A(0,8,9,-5,0,15,22,2,0,6,28,5),_A(0,8,10,-5,0,16,24,2,0,6,30,5),_A(0,8,11,-5,0,17,26,2,0,6,32,5),_A(0,9,11,-5,0,18,28,2,0,7,34,6),_A(0,9,12,-6,0,19,29,2,0,7,36,6),_A(0,10,13,-6,0,20,31,3,0,8,38,7),_A(0,10,13,-6,0,21,33,3,0,8,40,7),_A(0,10,14,-6,0,22,35,3,0,8,42,7),_A(0,11,14,-7,0,23,36,3,0,9,44,8),_A(0,11,15,-7,0,24,38,3,0,9,46,8)],EA=["duration","easing","delay"],kA={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},IA={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function TA(e){return"".concat(Math.round(e),"ms")}function CA(e){if(!e)return 0;const t=e/36;return Math.min(Math.round(10*(4+15*t**.25+t/5)),3e3)}function xA(e){const t=d(d({},kA),e.easing),n=d(d({},IA),e.duration);return d(d({getAutoHeightDuration:CA,create:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{duration:i=n.standard,easing:o=t.easeInOut,delay:a=0}=r;s(r,EA);return(Array.isArray(e)?e:[e]).map((e=>"".concat(e," ").concat("string"===typeof i?i:TA(i)," ").concat(o," ").concat("string"===typeof a?a:TA(a)))).join(",")}},e),{},{easing:t,duration:n})}const AA={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function RA(){const e=d({},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});return function e(t){const n=Object.entries(t);for(let i=0;i<n.length;i++){const[o,s]=n[i];!mC(r=s)&&"undefined"!==typeof r&&"string"!==typeof r&&"boolean"!==typeof r&&"number"!==typeof r&&!Array.isArray(r)||o.startsWith("unstable_")?delete t[o]:mC(s)&&(t[o]=d({},s),e(t[o]))}var r}(e),"import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';\n\nconst theme = ".concat(JSON.stringify(e,null,2),";\n\ntheme.breakpoints = createBreakpoints(theme.breakpoints || {});\ntheme.transitions = createTransitions(theme.transitions || {});\n\nexport default theme;")}const PA=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function OA(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{breakpoints:t,mixins:n={},spacing:r,palette:i={},transitions:o={},typography:a={},shape:l}=e,c=s(e,PA);if(e.vars)throw new Error(RI(20));const u=cA(i),h=Ix(e);let f=yC(h,{mixins:gA(h.breakpoints,n),palette:u,shadows:SA.slice(),typography:bA(u,a),transitions:xA(o),zIndex:d({},AA)});f=yC(f,c);for(var p=arguments.length,m=new Array(p>1?p-1:0),g=1;g<p;g++)m[g-1]=arguments[g];return f=m.reduce(((e,t)=>yC(e,t)),f),f.unstable_sxConfig=d(d({},bx),null===c||void 0===c?void 0:c.unstable_sxConfig),f.unstable_sx=function(e){return Sx({sx:e,theme:this})},f.toRuntimeSource=RA,f}const NA=OA;const DA=["palette","opacity","overlays"],LA=[...Array(25)].map(((e,t)=>{if(0===t)return"none";const n=function(e){let t;return t=e<1?5.11916*e**2:4.5*Math.log(e+1)+2,Math.round(10*t)/1e3}(t);return"linear-gradient(rgba(255 255 255 / ".concat(n,"), rgba(255 255 255 / ").concat(n,"))")}));function MA(e){return{inputPlaceholder:"dark"===e?.5:.42,inputUnderline:"dark"===e?.7:.42,switchTrackDisabled:"dark"===e?.2:.12,switchTrack:"dark"===e?.3:.38}}function FA(e){return"dark"===e?LA:[]}function jA(e){var t;return!!e[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!e[0].match(/sxConfig$/)||"palette"===e[0]&&!(null===(t=e[1])||void 0===t||!t.match(/(mode|contrastThreshold|tonalOffset)/))}const UA=e=>[...[...Array(25)].map(((t,n)=>"--".concat(e?"".concat(e,"-"):"","overlays-").concat(n))),"--".concat(e?"".concat(e,"-"):"","palette-AppBar-darkBg"),"--".concat(e?"".concat(e,"-"):"","palette-AppBar-darkColor")],VA=e=>(t,n)=>{const r=e.rootSelector||":root",i=e.colorSchemeSelector;let o=i;if("class"===i&&(o=".%s"),"data"===i&&(o="[data-%s]"),null!==i&&void 0!==i&&i.startsWith("data-")&&!i.includes("%s")&&(o="[".concat(i,'="%s"]')),e.defaultColorScheme===t){if("dark"===t){const i={};return UA(e.cssVarPrefix).forEach((e=>{i[e]=n[e],delete n[e]})),"media"===o?{[r]:n,"@media (prefers-color-scheme: dark)":{[r]:i}}:o?{[o.replace("%s",t)]:i,["".concat(r,", ").concat(o.replace("%s",t))]:n}:{[r]:d(d({},n),i)}}if(o&&"media"!==o)return"".concat(r,", ").concat(o.replace("%s",String(t)))}else if(t){if("media"===o)return{["@media (prefers-color-scheme: ".concat(String(t),")")]:{[r]:n}};if(o)return o.replace("%s",String(t))}return r},zA=["palette"],BA=["colorSchemes","defaultColorScheme","disableCssColorScheme","cssVarPrefix","shouldSkipGeneratingVar","colorSchemeSelector","rootSelector"];function qA(e,t,n){!e[t]&&n&&(e[t]=n)}function WA(e){return"string"===typeof e&&e.startsWith("hsl")?zx(e):e}function HA(e,t){"".concat(t,"Channel")in e||(e["".concat(t,"Channel")]=Ux(WA(e[t]),("MUI: Can't create `palette.".concat(t,"Channel` because `palette.").concat(t,"` is not one of these formats: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla(), color()."),"To suppress this warning, you need to explicitly provide the `palette.".concat(t,'Channel` as a string (in rgb format, for example "12 12 12") or undefined if you want to remove the channel token.'))))}const KA=e=>{try{return e()}catch(t){}};function GA(e,t,n,r){var i,o,a;if(!t)return;t=!0===t?{}:t;const l="dark"===r?"dark":"light";var c;if(!n)return void(e[r]=function(e){const{palette:t={mode:"light"},opacity:n,overlays:r}=e,i=s(e,DA),o=cA(t);return d({palette:o,opacity:d(d({},MA(o.mode)),n),overlays:r||FA(o.mode)},i)}(d(d({},t),{},{palette:d({mode:l},null===(c=t)||void 0===c?void 0:c.palette)})));const u=NA(d(d({},n),{},{palette:d({mode:l},null===(i=t)||void 0===i?void 0:i.palette)})),{palette:h}=u,f=s(u,zA);return e[r]=d(d({},t),{},{palette:h,opacity:d(d({},MA(l)),null===(o=t)||void 0===o?void 0:o.opacity),overlays:(null===(a=t)||void 0===a?void 0:a.overlays)||FA(l)}),f}function QA(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{colorSchemes:t={light:!0},defaultColorScheme:n,disableCssColorScheme:r=!1,cssVarPrefix:i="mui",shouldSkipGeneratingVar:o=jA,colorSchemeSelector:a=(t.light&&t.dark?"media":void 0),rootSelector:c=":root"}=e,u=s(e,BA),h=Object.keys(t)[0],f=n||(t.light&&"light"!==h?"light":h),p=function(){return uA(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"mui")}(i),{[f]:m,light:g,dark:y}=t,v=d({},s(t,[f,"light","dark"].map(l)));let w=m;if(("dark"===f&&!("dark"in t)||"light"===f&&!("light"in t))&&(w=!0),!w)throw new Error(RI(21,f));const b=GA(v,w,u,f);g&&!v.light&&GA(v,g,void 0,"light"),y&&!v.dark&&GA(v,y,void 0,"dark");let _=d(d({defaultColorScheme:f},b),{},{cssVarPrefix:i,colorSchemeSelector:a,rootSelector:c,getCssVar:p,colorSchemes:v,font:d(d({},dA(b.typography)),b.font),spacing:(S=u.spacing,"number"===typeof S?"".concat(S,"px"):"string"===typeof S||"function"===typeof S||Array.isArray(S)?S:"8px")});var S;Object.keys(_.colorSchemes).forEach((e=>{const t=_.colorSchemes[e].palette,n=e=>{const n=e.split("-"),r=n[1],i=n[2];return p(e,t[r][i])};var r;if("light"===t.mode&&(qA(t.common,"background","#fff"),qA(t.common,"onBackground","#000")),"dark"===t.mode&&(qA(t.common,"background","#000"),qA(t.common,"onBackground","#fff")),r=t,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"].forEach((e=>{r[e]||(r[e]={})})),"light"===t.mode){qA(t.Alert,"errorColor",Hx(t.error.light,.6)),qA(t.Alert,"infoColor",Hx(t.info.light,.6)),qA(t.Alert,"successColor",Hx(t.success.light,.6)),qA(t.Alert,"warningColor",Hx(t.warning.light,.6)),qA(t.Alert,"errorFilledBg",n("palette-error-main")),qA(t.Alert,"infoFilledBg",n("palette-info-main")),qA(t.Alert,"successFilledBg",n("palette-success-main")),qA(t.Alert,"warningFilledBg",n("palette-warning-main")),qA(t.Alert,"errorFilledColor",KA((()=>t.getContrastText(t.error.main)))),qA(t.Alert,"infoFilledColor",KA((()=>t.getContrastText(t.info.main)))),qA(t.Alert,"successFilledColor",KA((()=>t.getContrastText(t.success.main)))),qA(t.Alert,"warningFilledColor",KA((()=>t.getContrastText(t.warning.main)))),qA(t.Alert,"errorStandardBg",Gx(t.error.light,.9)),qA(t.Alert,"infoStandardBg",Gx(t.info.light,.9)),qA(t.Alert,"successStandardBg",Gx(t.success.light,.9)),qA(t.Alert,"warningStandardBg",Gx(t.warning.light,.9)),qA(t.Alert,"errorIconColor",n("palette-error-main")),qA(t.Alert,"infoIconColor",n("palette-info-main")),qA(t.Alert,"successIconColor",n("palette-success-main")),qA(t.Alert,"warningIconColor",n("palette-warning-main")),qA(t.AppBar,"defaultBg",n("palette-grey-100")),qA(t.Avatar,"defaultBg",n("palette-grey-400")),qA(t.Button,"inheritContainedBg",n("palette-grey-300")),qA(t.Button,"inheritContainedHoverBg",n("palette-grey-A100")),qA(t.Chip,"defaultBorder",n("palette-grey-400")),qA(t.Chip,"defaultAvatarColor",n("palette-grey-700")),qA(t.Chip,"defaultIconColor",n("palette-grey-700")),qA(t.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),qA(t.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),qA(t.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),qA(t.LinearProgress,"primaryBg",Gx(t.primary.main,.62)),qA(t.LinearProgress,"secondaryBg",Gx(t.secondary.main,.62)),qA(t.LinearProgress,"errorBg",Gx(t.error.main,.62)),qA(t.LinearProgress,"infoBg",Gx(t.info.main,.62)),qA(t.LinearProgress,"successBg",Gx(t.success.main,.62)),qA(t.LinearProgress,"warningBg",Gx(t.warning.main,.62)),qA(t.Skeleton,"bg","rgba(".concat(n("palette-text-primaryChannel")," / 0.11)")),qA(t.Slider,"primaryTrack",Gx(t.primary.main,.62)),qA(t.Slider,"secondaryTrack",Gx(t.secondary.main,.62)),qA(t.Slider,"errorTrack",Gx(t.error.main,.62)),qA(t.Slider,"infoTrack",Gx(t.info.main,.62)),qA(t.Slider,"successTrack",Gx(t.success.main,.62)),qA(t.Slider,"warningTrack",Gx(t.warning.main,.62));const e=Qx(t.background.default,.8);qA(t.SnackbarContent,"bg",e),qA(t.SnackbarContent,"color",KA((()=>t.getContrastText(e)))),qA(t.SpeedDialAction,"fabHoverBg",Qx(t.background.paper,.15)),qA(t.StepConnector,"border",n("palette-grey-400")),qA(t.StepContent,"border",n("palette-grey-400")),qA(t.Switch,"defaultColor",n("palette-common-white")),qA(t.Switch,"defaultDisabledColor",n("palette-grey-100")),qA(t.Switch,"primaryDisabledColor",Gx(t.primary.main,.62)),qA(t.Switch,"secondaryDisabledColor",Gx(t.secondary.main,.62)),qA(t.Switch,"errorDisabledColor",Gx(t.error.main,.62)),qA(t.Switch,"infoDisabledColor",Gx(t.info.main,.62)),qA(t.Switch,"successDisabledColor",Gx(t.success.main,.62)),qA(t.Switch,"warningDisabledColor",Gx(t.warning.main,.62)),qA(t.TableCell,"border",Gx(qx(t.divider,1),.88)),qA(t.Tooltip,"bg",qx(t.grey[700],.92))}if("dark"===t.mode){qA(t.Alert,"errorColor",Gx(t.error.light,.6)),qA(t.Alert,"infoColor",Gx(t.info.light,.6)),qA(t.Alert,"successColor",Gx(t.success.light,.6)),qA(t.Alert,"warningColor",Gx(t.warning.light,.6)),qA(t.Alert,"errorFilledBg",n("palette-error-dark")),qA(t.Alert,"infoFilledBg",n("palette-info-dark")),qA(t.Alert,"successFilledBg",n("palette-success-dark")),qA(t.Alert,"warningFilledBg",n("palette-warning-dark")),qA(t.Alert,"errorFilledColor",KA((()=>t.getContrastText(t.error.dark)))),qA(t.Alert,"infoFilledColor",KA((()=>t.getContrastText(t.info.dark)))),qA(t.Alert,"successFilledColor",KA((()=>t.getContrastText(t.success.dark)))),qA(t.Alert,"warningFilledColor",KA((()=>t.getContrastText(t.warning.dark)))),qA(t.Alert,"errorStandardBg",Hx(t.error.light,.9)),qA(t.Alert,"infoStandardBg",Hx(t.info.light,.9)),qA(t.Alert,"successStandardBg",Hx(t.success.light,.9)),qA(t.Alert,"warningStandardBg",Hx(t.warning.light,.9)),qA(t.Alert,"errorIconColor",n("palette-error-main")),qA(t.Alert,"infoIconColor",n("palette-info-main")),qA(t.Alert,"successIconColor",n("palette-success-main")),qA(t.Alert,"warningIconColor",n("palette-warning-main")),qA(t.AppBar,"defaultBg",n("palette-grey-900")),qA(t.AppBar,"darkBg",n("palette-background-paper")),qA(t.AppBar,"darkColor",n("palette-text-primary")),qA(t.Avatar,"defaultBg",n("palette-grey-600")),qA(t.Button,"inheritContainedBg",n("palette-grey-800")),qA(t.Button,"inheritContainedHoverBg",n("palette-grey-700")),qA(t.Chip,"defaultBorder",n("palette-grey-700")),qA(t.Chip,"defaultAvatarColor",n("palette-grey-300")),qA(t.Chip,"defaultIconColor",n("palette-grey-300")),qA(t.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),qA(t.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),qA(t.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),qA(t.LinearProgress,"primaryBg",Hx(t.primary.main,.5)),qA(t.LinearProgress,"secondaryBg",Hx(t.secondary.main,.5)),qA(t.LinearProgress,"errorBg",Hx(t.error.main,.5)),qA(t.LinearProgress,"infoBg",Hx(t.info.main,.5)),qA(t.LinearProgress,"successBg",Hx(t.success.main,.5)),qA(t.LinearProgress,"warningBg",Hx(t.warning.main,.5)),qA(t.Skeleton,"bg","rgba(".concat(n("palette-text-primaryChannel")," / 0.13)")),qA(t.Slider,"primaryTrack",Hx(t.primary.main,.5)),qA(t.Slider,"secondaryTrack",Hx(t.secondary.main,.5)),qA(t.Slider,"errorTrack",Hx(t.error.main,.5)),qA(t.Slider,"infoTrack",Hx(t.info.main,.5)),qA(t.Slider,"successTrack",Hx(t.success.main,.5)),qA(t.Slider,"warningTrack",Hx(t.warning.main,.5));const e=Qx(t.background.default,.98);qA(t.SnackbarContent,"bg",e),qA(t.SnackbarContent,"color",KA((()=>t.getContrastText(e)))),qA(t.SpeedDialAction,"fabHoverBg",Qx(t.background.paper,.15)),qA(t.StepConnector,"border",n("palette-grey-600")),qA(t.StepContent,"border",n("palette-grey-600")),qA(t.Switch,"defaultColor",n("palette-grey-300")),qA(t.Switch,"defaultDisabledColor",n("palette-grey-600")),qA(t.Switch,"primaryDisabledColor",Hx(t.primary.main,.55)),qA(t.Switch,"secondaryDisabledColor",Hx(t.secondary.main,.55)),qA(t.Switch,"errorDisabledColor",Hx(t.error.main,.55)),qA(t.Switch,"infoDisabledColor",Hx(t.info.main,.55)),qA(t.Switch,"successDisabledColor",Hx(t.success.main,.55)),qA(t.Switch,"warningDisabledColor",Hx(t.warning.main,.55)),qA(t.TableCell,"border",Hx(qx(t.divider,1),.68)),qA(t.Tooltip,"bg",qx(t.grey[700],.92))}HA(t.background,"default"),HA(t.background,"paper"),HA(t.common,"background"),HA(t.common,"onBackground"),HA(t,"divider"),Object.keys(t).forEach((e=>{const n=t[e];"tonalOffset"!==e&&n&&"object"===typeof n&&(n.main&&qA(t[e],"mainChannel",Ux(WA(n.main))),n.light&&qA(t[e],"lightChannel",Ux(WA(n.light))),n.dark&&qA(t[e],"darkChannel",Ux(WA(n.dark))),n.contrastText&&qA(t[e],"contrastTextChannel",Ux(WA(n.contrastText))),"text"===e&&(HA(t[e],"primary"),HA(t[e],"secondary")),"action"===e&&(n.active&&HA(t[e],"active"),n.selected&&HA(t[e],"selected")))}))}));for(var E=arguments.length,k=new Array(E>1?E-1:0),I=1;I<E;I++)k[I-1]=arguments[I];_=k.reduce(((e,t)=>yC(e,t)),_);const T={prefix:i,disableCssColorScheme:r,shouldSkipGeneratingVar:o,getSelector:VA(_)},{vars:C,generateThemeVars:x,generateStyleSheets:A}=mA(_,T);return _.vars=C,Object.entries(_.colorSchemes[_.defaultColorScheme]).forEach((e=>{let[t,n]=e;_[t]=n})),_.generateThemeVars=x,_.generateStyleSheets=A,_.generateSpacing=function(){return KC(u.spacing,UC(this))},_.getColorSchemeSelector=function(e){return function(t){return"media"===e?"@media (prefers-color-scheme: ".concat(t,")"):e?e.startsWith("data-")&&!e.includes("%s")?"[".concat(e,'="').concat(t,'"] &'):"class"===e?".".concat(t," &"):"data"===e?"[data-".concat(t,"] &"):"".concat(e.replace("%s",t)," &"):"&"}}(a),_.spacing=_.generateSpacing(),_.shouldSkipGeneratingVar=o,_.unstable_sxConfig=d(d({},bx),null===u||void 0===u?void 0:u.unstable_sxConfig),_.unstable_sx=function(e){return Sx({sx:e,theme:this})},_.toRuntimeSource=RA,_}const $A=["palette","cssVariables","colorSchemes","defaultColorScheme"];function JA(e,t,n){e.colorSchemes&&n&&(e.colorSchemes[t]=d(d({},!0!==n&&n),{},{palette:cA(d(d({},!0===n?{}:n.palette),{},{mode:t}))}))}const YA=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{palette:t,cssVariables:n=!1,colorSchemes:r=(t?void 0:{light:!0}),defaultColorScheme:i=(null===t||void 0===t?void 0:t.mode)}=e,o=s(e,$A),a=i||"light",l=null===r||void 0===r?void 0:r[a],c=d(d({},r),t?{[a]:d(d({},"boolean"!==typeof l&&l),{},{palette:t})}:void 0);for(var u=arguments.length,h=new Array(u>1?u-1:0),f=1;f<u;f++)h[f-1]=arguments[f];if(!1===n){if(!("colorSchemes"in e))return NA(e,...h);let n=t;"palette"in e||c[a]&&(!0!==c[a]?n=c[a].palette:"dark"===a&&(n={mode:"dark"}));const r=NA(d(d({},e),{},{palette:n}),...h);return r.defaultColorScheme=a,r.colorSchemes=c,"light"===r.palette.mode&&(r.colorSchemes.light=d(d({},!0!==c.light&&c.light),{},{palette:r.palette}),JA(r,"dark",c.dark)),"dark"===r.palette.mode&&(r.colorSchemes.dark=d(d({},!0!==c.dark&&c.dark),{},{palette:r.palette}),JA(r,"light",c.light)),r}return t||"light"in c||"light"!==a||(c.light=!0),QA(d(d({},o),{},{colorSchemes:c,defaultColorScheme:a},"boolean"!==typeof n&&n),...h)}();const XA=function(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e},ZA=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:t,defaultTheme:n=Rx,rootShouldForwardProp:r=Px,slotShouldForwardProp:i=Px}=e;function o(e){!function(e,t,n){e.theme=function(e){for(const t in e)return!1;return!0}(e.theme)?n:e.theme[t]||e.theme}(e,t,n)}return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))}(e,(e=>e.filter((e=>e!==Sx))));const{name:n,slot:a,skipVariantsResolver:l,skipSx:c,overridesResolver:u=Ox(Mx(a))}=t,h=s(t,Ax),f=void 0!==l?l:a&&"Root"!==a&&"root"!==a||!1,p=c||!1;let m=Px;"Root"===a||"root"===a?m=r:a?m=i:function(e){return"string"===typeof e&&e.charCodeAt(0)>96}(e)&&(m=void 0);const g=function(e,t){return hC(e,t)}(e,d({shouldForwardProp:m,label:Lx(n,a)},h)),y=e=>{if("function"===typeof e&&e.__emotion_real!==e)return function(t){return Nx(t,e)};if(mC(e)){const t=Cx(e);return t.variants?function(e){return Nx(e,t)}:t.style}return e},v=function(){const t=[];for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];const a=i.map(y),l=[];if(t.push(o),n&&u&&l.push((function(e){var t;const r=null===(t=e.theme.components)||void 0===t||null===(t=t[n])||void 0===t?void 0:t.styleOverrides;if(!r)return null;const i={};for(const n in r)i[n]=Nx(e,r[n]);return u(e,i)})),n&&!f&&l.push((function(e){var t;const r=e.theme,i=null===r||void 0===r||null===(t=r.components)||void 0===t||null===(t=t[n])||void 0===t?void 0:t.variants;return i?Dx(e,i):null})),p||l.push(Sx),Array.isArray(a[0])){const e=a.shift(),n=new Array(t.length).fill(""),r=new Array(l.length).fill("");let i;i=[...n,...e,...r],i.raw=[...n,...e.raw,...r],t.unshift(i)}const c=[...t,...a,...l],d=g(...c);return e.muiName&&(d.muiName=e.muiName),d};return g.withConfig&&(v.withConfig=g.withConfig),v}}({themeId:"$$material",defaultTheme:YA,rootShouldForwardProp:e=>XA(e)&&"classes"!==e}),eR=ZA,tR={theme:void 0};const nR=function(e){let t,n;return function(r){let i=t;return void 0!==i&&r.theme===n||(tR.theme=r.theme,i=Cx(e(tR)),t=i,n=r.theme),i}};function rR(e,t){const n=d({},t);for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)){const i=r;if("components"===i||"slots"===i)n[i]=d(d({},e[i]),n[i]);else if("componentsProps"===i||"slotProps"===i){const r=e[i],o=t[i];if(o)if(r){n[i]=d({},o);for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e)){const t=e;n[i][t]=rR(r[t],o[t])}}else n[i]=o;else n[i]=r||{}}else void 0===n[i]&&(n[i]=e[i])}return n}const iR=r.createContext(void 0);function oR(e){let{props:t,name:n}=e;return function(e){const{theme:t,name:n,props:r}=e;if(!t||!t.components||!t.components[n])return r;const i=t.components[n];return i.defaultProps?rR(i.defaultProps,r):i.styleOverrides||i.variants?r:rR(i,r)}({props:t,name:n,theme:{components:r.useContext(iR)}})}function sR(e){return oR(e)}const aR=e=>e,lR=(()=>{let e=aR;return{configure(t){e=t},generate:t=>e(t),reset(){e=aR}}})(),cR={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function uR(e,t){const n=cR[t];return n?"".concat(arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui","-").concat(n):"".concat(lR.generate(e),"-").concat(t)}function dR(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui";const r={};return t.forEach((t=>{r[t]=uR(e,t,n)})),r}function hR(e){return uR("MuiSvgIcon",e)}dR("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const fR=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],pR=eR("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"inherit"!==n.color&&t["color".concat(OI(n.color))],t["fontSize".concat(OI(n.fontSize))]]}})(nR((e=>{var t,n,r,i,o,s,a,l,c,u,d,h,f,p,m;let{theme:g}=e;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:null===(t=g.transitions)||void 0===t||null===(n=t.create)||void 0===n?void 0:n.call(t,"fill",{duration:null===(r=(null!==(i=g.vars)&&void 0!==i?i:g).transitions)||void 0===r||null===(r=r.duration)||void 0===r?void 0:r.shorter}),variants:[{props:e=>!e.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:(null===(o=g.typography)||void 0===o||null===(s=o.pxToRem)||void 0===s?void 0:s.call(o,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:(null===(a=g.typography)||void 0===a||null===(l=a.pxToRem)||void 0===l?void 0:l.call(a,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:(null===(c=g.typography)||void 0===c||null===(u=c.pxToRem)||void 0===u?void 0:u.call(c,35))||"2.1875rem"}},...Object.entries((null!==(d=g.vars)&&void 0!==d?d:g).palette).filter((e=>{let[,t]=e;return t&&t.main})).map((e=>{var t,n;let[r]=e;return{props:{color:r},style:{color:null===(t=(null!==(n=g.vars)&&void 0!==n?n:g).palette)||void 0===t||null===(t=t[r])||void 0===t?void 0:t.main}}})),{props:{color:"action"},style:{color:null===(h=(null!==(f=g.vars)&&void 0!==f?f:g).palette)||void 0===h||null===(h=h.action)||void 0===h?void 0:h.active}},{props:{color:"disabled"},style:{color:null===(p=(null!==(m=g.vars)&&void 0!==m?m:g).palette)||void 0===p||null===(p=p.action)||void 0===p?void 0:p.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}}))),mR=r.forwardRef((function(e,t){const n=sR({props:e,name:"MuiSvgIcon"}),{children:i,className:o,color:a="inherit",component:l="svg",fontSize:c="medium",htmlColor:u,inheritViewBox:h=!1,titleAccess:f,viewBox:p="0 0 24 24"}=n,m=s(n,fR),g=r.isValidElement(i)&&"svg"===i.type,y=d(d({},n),{},{color:a,component:l,fontSize:c,instanceFontSize:e.fontSize,inheritViewBox:h,viewBox:p,hasSvgAsChild:g}),v={};h||(v.viewBox=p);const w=(e=>{const{color:t,fontSize:n,classes:r}=e;return CI({root:["root","inherit"!==t&&"color".concat(OI(t)),"fontSize".concat(OI(n))]},hR,r)})(y);return(0,qt.jsxs)(pR,d(d(d(d({as:l,className:kI(w.root,o),focusable:"false",color:u,"aria-hidden":!f||void 0,role:f?"img":void 0,ref:t},v),m),g&&i.props),{},{ownerState:y,children:[g?i.props.children:i,f?(0,qt.jsx)("title",{children:f}):null]}))}));mR&&(mR.muiName="SvgIcon");const gR=mR;function yR(e,t){function n(n,r){return(0,qt.jsx)(gR,d(d({"data-testid":"".concat(t,"Icon"),ref:r},n),{},{children:e}))}return n.muiName=gR.muiName,r.memo(r.forwardRef(n))}const vR=yR((0,qt.jsx)("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star"),wR=yR((0,qt.jsx)("path",{d:"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"}),"StarBorder");function bR(e){return uR("MuiRating",e)}const _R=dR("MuiRating",["root","sizeSmall","sizeMedium","sizeLarge","readOnly","disabled","focusVisible","visuallyHidden","pristine","label","labelEmptyValueActive","icon","iconEmpty","iconFilled","iconHover","iconFocus","iconActive","decimal"]),SR=["value"],ER=["component","className","defaultValue","disabled","emptyIcon","emptyLabelText","getLabelText","highlightSelectedOnly","icon","IconContainerComponent","max","name","onChange","onChangeActive","onMouseLeave","onMouseMove","precision","readOnly","size","value"];function kR(e,t){if(null==e)return e;const n=Math.round(e/t)*t;return Number(n.toFixed(function(e){const t=e.toString().split(".")[1];return t?t.length:0}(t)))}const IR=eR("span",{name:"MuiRating",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{["& .".concat(_R.visuallyHidden)]:t.visuallyHidden},t.root,t["size".concat(OI(n.size))],n.readOnly&&t.readOnly]}})(nR((e=>{let{theme:t}=e;return{display:"inline-flex",position:"relative",fontSize:t.typography.pxToRem(24),color:"#faaf00",cursor:"pointer",textAlign:"left",width:"min-content",WebkitTapHighlightColor:"transparent",["&.".concat(_R.disabled)]:{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},["&.".concat(_R.focusVisible," .").concat(_R.iconActive)]:{outline:"1px solid #999"},["& .".concat(_R.visuallyHidden)]:TI,variants:[{props:{size:"small"},style:{fontSize:t.typography.pxToRem(18)}},{props:{size:"large"},style:{fontSize:t.typography.pxToRem(30)}},{props:e=>{let{ownerState:t}=e;return t.readOnly},style:{pointerEvents:"none"}}]}}))),TR=eR("label",{name:"MuiRating",slot:"Label",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.label,n.emptyValueFocused&&t.labelEmptyValueActive]}})({cursor:"inherit",variants:[{props:e=>{let{ownerState:t}=e;return t.emptyValueFocused},style:{top:0,bottom:0,position:"absolute",outline:"1px solid #999",width:"100%"}}]}),CR=eR("span",{name:"MuiRating",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.iconEmpty&&t.iconEmpty,n.iconFilled&&t.iconFilled,n.iconHover&&t.iconHover,n.iconFocus&&t.iconFocus,n.iconActive&&t.iconActive]}})(nR((e=>{let{theme:t}=e;return{display:"flex",transition:t.transitions.create("transform",{duration:t.transitions.duration.shortest}),pointerEvents:"none",variants:[{props:e=>{let{ownerState:t}=e;return t.iconActive},style:{transform:"scale(1.2)"}},{props:e=>{let{ownerState:t}=e;return t.iconEmpty},style:{color:(t.vars||t).palette.action.disabled}}]}}))),xR=eR("span",{name:"MuiRating",slot:"Decimal",shouldForwardProp:e=>XA(e)&&"iconActive"!==e,overridesResolver:(e,t)=>{const{iconActive:n}=e;return[t.decimal,n&&t.iconActive]}})({position:"relative",variants:[{props:e=>{let{iconActive:t}=e;return t},style:{transform:"scale(1.2)"}}]});function AR(e){const{value:t}=e,n=s(e,SR);return(0,qt.jsx)("span",d({},n))}function RR(e){const{classes:t,disabled:n,emptyIcon:i,focus:o,getLabelText:s,highlightSelectedOnly:a,hover:l,icon:c,IconContainerComponent:u,isActive:h,itemValue:f,labelProps:p,name:m,onBlur:g,onChange:y,onClick:v,onFocus:w,readOnly:b,ownerState:_,ratingValue:S,ratingValueRounded:E}=e,k=a?f===S:f<=S,I=f<=l,T=f<=o,C=f===E,x="".concat(m,"-").concat(LI()),A=(0,qt.jsx)(CR,{as:u,value:f,className:kI(t.icon,k?t.iconFilled:t.iconEmpty,I&&t.iconHover,T&&t.iconFocus,h&&t.iconActive),ownerState:d(d({},_),{},{iconEmpty:!k,iconFilled:k,iconHover:I,iconFocus:T,iconActive:h}),children:i&&!k?i:c});return b?(0,qt.jsx)("span",d(d({},p),{},{children:A})):(0,qt.jsxs)(r.Fragment,{children:[(0,qt.jsxs)(TR,d(d({ownerState:d(d({},_),{},{emptyValueFocused:void 0}),htmlFor:x},p),{},{children:[A,(0,qt.jsx)("span",{className:t.visuallyHidden,children:s(f)})]})),(0,qt.jsx)("input",{className:t.visuallyHidden,onFocus:w,onBlur:g,onChange:y,onClick:v,disabled:n,value:f,id:x,type:"radio",name:m,checked:C})]})}const PR=(0,qt.jsx)(vR,{fontSize:"inherit"}),OR=(0,qt.jsx)(wR,{fontSize:"inherit"});function NR(e){return"".concat(e||"0"," Star").concat(1!==e?"s":"")}const DR=r.forwardRef((function(e,t){const n=sR({name:"MuiRating",props:e}),{component:i="span",className:o,defaultValue:a=null,disabled:l=!1,emptyIcon:c=OR,emptyLabelText:u="Empty",getLabelText:h=NR,highlightSelectedOnly:f=!1,icon:p=PR,IconContainerComponent:m=AR,max:g=5,name:y,onChange:v,onChangeActive:w,onMouseLeave:b,onMouseMove:_,precision:S=1,readOnly:E=!1,size:k="medium",value:I}=n,T=s(n,ER),C=LI(y),[x,A]=MI({controlled:I,default:a,name:"Rating"}),R=kR(x,S),P=(()=>{const e=r.useContext(xI);return null!==e&&void 0!==e&&e})(),[{hover:O,focus:N},D]=r.useState({hover:-1,focus:-1});let L=R;-1!==O&&(L=O),-1!==N&&(L=N);const[M,F]=r.useState(!1),j=r.useRef(),U=FI(j,t),V=e=>{let t=""===e.target.value?null:parseFloat(e.target.value);-1!==O&&(t=O),A(t),v&&v(e,t)},z=e=>{0===e.clientX&&0===e.clientY||(D({hover:-1,focus:-1}),A(null),v&&parseFloat(e.target.value)===R&&v(e,null))},B=e=>{AI(e.target)&&F(!0);const t=parseFloat(e.target.value);D((e=>({hover:e.hover,focus:t})))},q=e=>{if(-1!==O)return;AI(e.target)||F(!1);D((e=>({hover:e.hover,focus:-1})))},[W,H]=r.useState(!1),K=d(d({},n),{},{component:i,defaultValue:a,disabled:l,emptyIcon:c,emptyLabelText:u,emptyValueFocused:W,focusVisible:M,getLabelText:h,icon:p,IconContainerComponent:m,max:g,precision:S,readOnly:E,size:k}),G=(e=>{const{classes:t,size:n,readOnly:r,disabled:i,emptyValueFocused:o,focusVisible:s}=e;return CI({root:["root","size".concat(OI(n)),i&&"disabled",s&&"focusVisible",r&&"readOnly"],label:["label","pristine"],labelEmptyValue:[o&&"labelEmptyValueActive"],icon:["icon"],iconEmpty:["iconEmpty"],iconFilled:["iconFilled"],iconHover:["iconHover"],iconFocus:["iconFocus"],iconActive:["iconActive"],decimal:["decimal"],visuallyHidden:["visuallyHidden"]},bR,t)})(K);return(0,qt.jsxs)(IR,d(d({as:i,ref:U,onMouseMove:e=>{_&&_(e);const t=j.current,{right:n,left:r,width:i}=t.getBoundingClientRect();let o;o=P?(n-e.clientX)/i:(e.clientX-r)/i;let s=kR(g*o+S/2,S);s=II(s,S,g),D((e=>e.hover===s&&e.focus===s?e:{hover:s,focus:s})),F(!1),w&&O!==s&&w(e,s)},onMouseLeave:e=>{b&&b(e);D({hover:-1,focus:-1}),w&&-1!==O&&w(e,-1)},className:kI(G.root,o,E&&"MuiRating-readOnly"),ownerState:K,role:E?"img":null,"aria-label":E?h(L):null},T),{},{children:[Array.from(new Array(g)).map(((e,t)=>{const n=t+1,r={classes:G,disabled:l,emptyIcon:c,focus:N,getLabelText:h,highlightSelectedOnly:f,hover:O,icon:p,IconContainerComponent:m,name:C,onBlur:q,onChange:V,onClick:z,onFocus:B,ratingValue:L,ratingValueRounded:R,readOnly:E,ownerState:K},i=n===Math.ceil(L)&&(-1!==O||-1!==N);if(S<1){const e=Array.from(new Array(1/S));return(0,qt.jsx)(xR,{className:kI(G.decimal,i&&G.iconActive),ownerState:K,iconActive:i,children:e.map(((t,i)=>{const o=kR(n-1+(i+1)*S,S);return(0,qt.jsx)(RR,d(d({},r),{},{isActive:!1,itemValue:o,labelProps:{style:e.length-1===i?{}:{width:o===L?"".concat((i+1)*S*100,"%"):"0%",overflow:"hidden",position:"absolute"}}}),o)}))},n)}return(0,qt.jsx)(RR,d(d({},r),{},{isActive:i,itemValue:n}),n)})),!E&&!l&&(0,qt.jsxs)(TR,{className:kI(G.label,G.labelEmptyValue),ownerState:K,children:[(0,qt.jsx)("input",{className:G.visuallyHidden,value:"",id:"".concat(C,"-empty"),type:"radio",name:C,checked:null==R,onFocus:()=>H(!0),onBlur:()=>H(!1),onChange:V}),(0,qt.jsx)("span",{className:G.visuallyHidden,children:u})]})]}))})),LR=DR,MR={card_container:"Product_card_container__Fte3Q",button:"Product_button__qMD+C",rating:"Product_rating__IMXbc",products_container:"Product_products_container__MjrVN",product_flexed:"Product_product_flexed__OXM21"};const FR=function(e){let{product:t,flex:n,renderDesc:i}=e;const{image:o,title:s,id:a,rating:l,price:c,description:u}=t,[d,h]=(0,r.useContext)(Yt);console.log(d);const f=(null===l||void 0===l?void 0:l.rate)||0,p=(null===l||void 0===l?void 0:l.count)||0,m=o||"default-image-url.jpg",g=u||"No description available.";return(0,qt.jsxs)("div",{className:"".concat(MR.card_container," ").concat(n?MR.product_flexed:""),children:[(0,qt.jsx)(ht,{to:"/products/".concat(a),children:(0,qt.jsx)("img",{src:m,alt:s,className:MR.img_container})}),(0,qt.jsxs)("div",{children:[(0,qt.jsx)("h3",{children:s}),i&&(0,qt.jsx)("div",{style:{maxWidth:"750px"},children:g}),(0,qt.jsxs)("div",{className:MR.rating,children:[(0,qt.jsx)(LR,{value:f,precision:.1}),(0,qt.jsx)("small",{children:p})]}),(0,qt.jsx)("div",{children:(0,qt.jsx)(SI,{amount:c})}),(0,qt.jsx)("button",{className:MR.button,onClick:()=>{h({type:Kt,item:{image:o,title:s,id:a,rating:l,price:c,description:u}})},children:"Add to Cart"})]})]})};var jR={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function UR(e){if("number"===typeof e)return{value:e,unit:"px"};var t,n=(e.match(/^[0-9.]*/)||"").toString();t=n.includes(".")?parseFloat(n):parseInt(n,10);var r=(e.match(/[^0-9]*$/)||"").toString();return jR[r]?{value:t,unit:r}:(console.warn("React Spinners: ".concat(e," is not a valid css value. Defaulting to ").concat(t,"px.")),{value:t,unit:"px"})}function VR(e){var t=UR(e);return"".concat(t.value).concat(t.unit)}var zR=function(e,t,n){var r="react-spinners-".concat(e,"-").concat(n);if("undefined"==typeof window||!window.document)return r;var i=document.createElement("style");document.head.appendChild(i);var o=i.sheet,s="\n    @keyframes ".concat(r," {\n      ").concat(t,"\n    }\n  ");return o&&o.insertRule(s,0),r},BR=function(){return BR=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},BR.apply(this,arguments)},qR=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},WR=zR("FadeLoader","50% {opacity: 0.3} 100% {opacity: 1}","fade");const HR=function(e){var t=e.loading,n=void 0===t||t,i=e.color,o=void 0===i?"#000000":i,s=e.speedMultiplier,a=void 0===s?1:s,l=e.cssOverride,c=void 0===l?{}:l,u=e.height,d=void 0===u?15:u,h=e.width,f=void 0===h?5:h,p=e.radius,m=void 0===p?2:p,g=e.margin,y=void 0===g?2:g,v=qR(e,["loading","color","speedMultiplier","cssOverride","height","width","radius","margin"]),w=UR(y).value+18,b=w/2+w/5.5,_=BR({display:"inherit",position:"relative",fontSize:"0",top:w,left:w,width:"".concat(3*w,"px"),height:"".concat(3*w,"px")},c),S=function(e){return{position:"absolute",width:VR(f),height:VR(d),margin:VR(y),backgroundColor:o,borderRadius:VR(m),transition:"2s",animationFillMode:"both",animation:"".concat(WR," ").concat(1.2/a,"s ").concat(.12*e,"s infinite ease-in-out")}},E=BR(BR({},S(1)),{top:"".concat(w,"px"),left:"0"}),k=BR(BR({},S(2)),{top:"".concat(b,"px"),left:"".concat(b,"px"),transform:"rotate(-45deg)"}),I=BR(BR({},S(3)),{top:"0",left:"".concat(w,"px"),transform:"rotate(90deg)"}),T=BR(BR({},S(4)),{top:"".concat(-1*b,"px"),left:"".concat(b,"px"),transform:"rotate(45deg)"}),C=BR(BR({},S(5)),{top:"".concat(-1*w,"px"),left:"0"}),x=BR(BR({},S(6)),{top:"".concat(-1*b,"px"),left:"".concat(-1*b,"px"),transform:"rotate(-45deg)"}),A=BR(BR({},S(7)),{top:"0",left:"".concat(-1*w,"px"),transform:"rotate(90deg)"}),R=BR(BR({},S(8)),{top:"".concat(b,"px"),left:"".concat(-1*b,"px"),transform:"rotate(45deg)"});return n?r.createElement("span",BR({style:_},v),r.createElement("span",{style:E}),r.createElement("span",{style:k}),r.createElement("span",{style:I}),r.createElement("span",{style:T}),r.createElement("span",{style:C}),r.createElement("span",{style:x}),r.createElement("span",{style:A}),r.createElement("span",{style:R})):null};const KR=function(){return(0,qt.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",heigh:"50vh"},children:(0,qt.jsx)(HR,{color:"#36d7b7"})})};const GR=function(){const[e,t]=(0,r.useState)([]),[n,i]=(0,r.useState)(!0);return(0,r.useEffect)((()=>{wI.get("https://fakestoreapi.com/products").then((e=>{t(e.data),i(!1)})).catch((e=>{console.error("Error fetching products:",e),i(!1)}))}),[]),(0,qt.jsx)(qt.Fragment,{children:n?(0,qt.jsx)(KR,{}):(0,qt.jsx)("section",{className:MR.products_container,children:e.map((e=>e&&e.rating?(0,qt.jsx)(FR,{product:e},e.id):(0,qt.jsx)("p",{children:"Product data is incomplete."},e.id)))})})};const QR=function(){return(0,qt.jsxs)(FS,{children:[(0,qt.jsx)(zS,{}),(0,qt.jsx)(KS,{}),(0,qt.jsx)(GR,{})]})},$R="Signup_login__o7pXZ",JR="Signup_login__container__l2DCA",YR="Signup_login__signInButton__eUBXg",XR="Signup_login__registerButton__sVghy";var ZR=function(){return ZR=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ZR.apply(this,arguments)},eP=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},tP=zR("ClipLoader","0% {transform: rotate(0deg) scale(1)} 50% {transform: rotate(180deg) scale(0.8)} 100% {transform: rotate(360deg) scale(1)}","clip");const nP=function(e){var t=e.loading,n=void 0===t||t,i=e.color,o=void 0===i?"#000000":i,s=e.speedMultiplier,a=void 0===s?1:s,l=e.cssOverride,c=void 0===l?{}:l,u=e.size,d=void 0===u?35:u,h=eP(e,["loading","color","speedMultiplier","cssOverride","size"]),f=ZR({background:"transparent !important",width:VR(d),height:VR(d),borderRadius:"100%",border:"2px solid",borderTopColor:o,borderBottomColor:"transparent",borderLeftColor:o,borderRightColor:o,display:"inline-block",animation:"".concat(tP," ").concat(.75/a,"s 0s infinite linear"),animationFillMode:"both"},c);return n?r.createElement("span",ZR({style:f},h)):null};const rP=function(){var e,t;const[n,i]=(0,r.useState)(""),[o,s]=(0,r.useState)(""),[a,l]=(0,r.useState)(""),[c,u]=(0,r.useState)({signIn:!1,signUP:!1}),h=he(),f=ce(),[{user:p},m]=(0,r.useContext)(Yt),g=async e=>{e.preventDefault(),"signin"==e.target.name?(u(d(d({},c),{},{signIn:!0})),aa(DS,n,o).then((e=>{var t;m({type:Qt,user:e.user}),u(d(d({},c),{},{signIn:!1})),h((null===f||void 0===f||null===(t=f.state)||void 0===t?void 0:t.redirect)||"/")})).catch((e=>{l(e.message),u(d(d({},c),{},{signIn:!1}))}))):(u(d(d({},c),{},{signUP:!0})),sa(DS,n,o).then((e=>{var t;m({type:Qt,user:e.user}),u(d(d({},c),{},{signUP:!1})),h((null===f||void 0===f||null===(t=f.state)||void 0===t?void 0:t.redirect)||"/")})).catch((e=>{l(e.message),u(d(d({},c),{},{signUP:!1}))})))};return(0,qt.jsxs)("section",{className:$R,children:[(0,qt.jsx)(ht,{to:"/",children:(0,qt.jsx)("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a9/Amazon_logo.svg/1024px-Amazon_logo.svg.png",alt:""})}),(0,qt.jsxs)("div",{className:JR,children:[(0,qt.jsx)("h1",{children:"Sign In"}),(null===f||void 0===f||null===(e=f.state)||void 0===e?void 0:e.msg)&&(0,qt.jsx)("small",{style:{padding:"5px",textAlign:"center",color:"red",fontWeight:"bold"},children:null===f||void 0===f||null===(t=f.state)||void 0===t?void 0:t.msg}),(0,qt.jsxs)("form",{action:"",children:[(0,qt.jsxs)("div",{children:[(0,qt.jsx)("label",{htmlFor:"email",children:"Email"}),(0,qt.jsx)("input",{value:n,onChange:e=>i(e.target.value),type:"email",id:"email"})]}),(0,qt.jsxs)("div",{children:[(0,qt.jsx)("label",{htmlFor:"password",children:"Email"}),(0,qt.jsx)("input",{value:o,onChange:e=>s(e.target.value),type:"password",id:"password"})]}),(0,qt.jsx)("button",{name:"signin",onClick:g,className:YR,children:c.signIn?(0,qt.jsx)(nP,{color:"#000",size:15}):" Sign In"})]}),(0,qt.jsx)("p",{children:"By signing-in you agree to the AMAZON FAKE CLONE Conditions of Use & Sale. Please see our Privacy Notice, our Cookies Notice and our Interest-Based Ads Notice."}),(0,qt.jsx)("button",{name:"signup",onClick:g,className:XR,children:c.signUP?(0,qt.jsx)(nP,{color:"#000",size:15}):"Create your Amazon Account"}),a&&(0,qt.jsx)("small",{style:{paddingTop:"5px",color:"red"},children:a})]})]})},iP="Payment_payment__header__p2P9S",oP="Payment_payment__PGA0Q",sP="Payment_flex__p--UL",aP="Payment_payment__card__container__hP2my",lP="Payment_payment__price__X4rNK",cP="Payment_payment__details__7z0o6",uP="Payment_loading__e1PhP";var dP=n(393);const hP=wI.create({baseURL:"https://amazon-api-deploy-3rma.onrender.com"});const fP=function(){const[{user:e,basket:t},n]=(0,r.useContext)(Yt),i=null===t||void 0===t?void 0:t.reduce(((e,t)=>t.amount+e),0),o=t.reduce(((e,t)=>t.price*t.amount+e),0),[s,a]=(0,r.useState)(null),[l,c]=(0,r.useState)(!1),u=(0,dP.useStripe)(),d=(0,dP.useElements)(),h=he();return(0,qt.jsxs)(FS,{children:[(0,qt.jsxs)("div",{className:iP,children:["Checkout (",i,") items"]}),(0,qt.jsxs)("section",{className:oP,children:[(0,qt.jsxs)("div",{className:sP,children:[(0,qt.jsx)("h3",{children:"Delivery Address"}),(0,qt.jsxs)("div",{children:[(0,qt.jsx)("div",{children:null===e||void 0===e?void 0:e.email}),(0,qt.jsx)("div",{children:"123 React Lane"}),(0,qt.jsx)("div",{children:"Chicago, IL"})]})]}),(0,qt.jsx)("hr",{}),(0,qt.jsxs)("div",{className:sP,children:[(0,qt.jsx)("h3",{children:"Review items and delivery"}),(0,qt.jsx)("div",{children:null===t||void 0===t?void 0:t.map(((e,t)=>(0,qt.jsx)(FR,{product:e,flex:!0},t)))})]}),(0,qt.jsx)("hr",{}),(0,qt.jsxs)("div",{className:sP,children:[(0,qt.jsx)("h3",{children:"Payment methods"}),(0,qt.jsx)("div",{className:aP,children:(0,qt.jsx)("div",{className:cP,children:(0,qt.jsxs)("form",{onSubmit:async r=>{r.preventDefault();try{var i;c(!0);const r=null===(i=(await hP({method:"POST",url:"/payment/create?total=".concat(100*o)})).data)||void 0===i?void 0:i.clientSecret,s=(await u.confirmCardPayment(r,{payment_method:{card:d.getElement(dP.CardElement)}})).error.payment_intent;await LS.collection("users").doc(null===e||void 0===e?void 0:e.uid).collection("orders").doc(s.id).set({basket:t,amount:s.amount,created:s.created}).catch((e=>{console.log(e.message)})),n({type:$t}),c(!1),h("/orders",{state:{msg:"you have placed new Order"}})}catch(s){console.log(s.message),c(!1)}},children:[s&&(0,qt.jsx)("small",{style:{color:"red"},children:s}),(0,qt.jsx)(dP.CardElement,{onChange:e=>{var t,n;null!==e&&void 0!==e&&null!==(t=e.error)&&void 0!==t&&t.message?a(null===e||void 0===e||null===(n=e.error)||void 0===n?void 0:n.message):a("")}}),(0,qt.jsxs)("div",{className:lP,children:[(0,qt.jsx)("div",{children:(0,qt.jsxs)("span",{style:{display:"flex",gap:"10px"},children:[(0,qt.jsx)("p",{children:"Total Order |"})," ",(0,qt.jsx)(SI,{amount:o})]})}),(0,qt.jsx)("button",{type:"submit",children:l?(0,qt.jsxs)("div",{className:uP,children:[(0,qt.jsx)(nP,{color:"gray",size:12}),(0,qt.jsx)("p",{children:"Please Wait ..."})]}):" Pay Now"})]})]})})})]})]})]})},pP="Orders_container__jF-z0",mP="Orders_orders__container__wzDys";const gP=function(){const[{user:e},t]=(0,r.useContext)(Yt),[n,i]=(0,r.useState)([]);return(0,r.useEffect)((()=>{e?LS.collection("users").doc(e.uid).collection("orders").orderBy("created","desc").onSnapshot((e=>{console.log(e),i(e.docs.map((e=>({id:e.id,data:e.data()}))))})):i([])}),[]),(0,qt.jsx)(FS,{children:(0,qt.jsx)("section",{className:pP,children:(0,qt.jsxs)("div",{className:mP,children:[(0,qt.jsx)("h2",{children:"Your Orders"}),0==(null===n||void 0===n?void 0:n.length)&&(0,qt.jsx)("div",{style:{padding:"20px"},children:"you don't have orders yet."}),(0,qt.jsx)("div",{children:null===n||void 0===n?void 0:n.map(((e,t)=>{var n,r;return(0,qt.jsxs)("div",{children:[(0,qt.jsx)("hr",{}),(0,qt.jsxs)("p",{children:["Order ID: ",null===e||void 0===e?void 0:e.id]}),null===e||void 0===e||null===(n=e.data)||void 0===n||null===(r=n.basket)||void 0===r?void 0:r.map((e=>(0,qt.jsx)(FR,{flex:!0,product:e},e.id)))]},t)}))})]})})})},yP="Cart_container__Szwip",vP="Cart_subtotal__JQd93",wP="Cart_btn_container__RX73c",bP="Cart_btn__0BBzY",_P="Cart_cart_product__QeElt",SP="Cart_cart_container__Hd0oQ";function EP(e){return jt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 294.1L383 167c9.4-9.4 24.6-9.4 33.9 0s9.3 24.6 0 34L273 345c-9.1 9.1-23.7 9.3-33.1.7L95 201.1c-4.7-4.7-7-10.9-7-17s2.3-12.3 7-17c9.4-9.4 24.6-9.4 33.9 0l127.1 127z"},child:[]}]})(e)}function kP(e){return jt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 217.9L383 345c9.4 9.4 24.6 9.4 33.9 0 9.4-9.4 9.3-24.6 0-34L273 167c-9.1-9.1-23.7-9.3-33.1-.7L95 310.9c-4.7 4.7-7 10.9-7 17s2.3 12.3 7 17c9.4 9.4 24.6 9.4 33.9 0l127.1-127z"},child:[]}]})(e)}const IP=function(){const[{basket:e,user:t},n]=(0,r.useContext)(Yt),i=e.reduce(((e,t)=>t.price*t.amount+e),0);return(0,qt.jsx)(FS,{children:(0,qt.jsxs)("section",{className:yP,children:[(0,qt.jsxs)("div",{className:SP,children:[(0,qt.jsxs)("h1",{children:["Hello, ",(null===t||void 0===t?void 0:t.name)||"Guest"]}),(0,qt.jsx)("h2",{children:"Your Shopping Basket"}),(0,qt.jsx)("hr",{}),null!==e&&void 0!==e&&e.length?e.map((e=>(0,qt.jsxs)("section",{className:_P,children:[(0,qt.jsx)(FR,{product:e,renderDesc:!0,flex:!0}),(0,qt.jsxs)("div",{className:wP,children:[(0,qt.jsx)("button",{className:bP,onClick:()=>(e=>{n({type:Kt,item:e})})(e),"aria-label":"Increase quantity",children:(0,qt.jsx)(kP,{size:40})}),(0,qt.jsxs)("span",{children:[" ",e.amount," "]}),(0,qt.jsx)("button",{className:bP,onClick:()=>{return t=e.id,void n({type:Gt,id:t});var t},"aria-label":"Decrease quantity",children:(0,qt.jsx)(EP,{size:40})})]})]},e.id))):(0,qt.jsxs)("p",{children:["Oops! No items in your cart. ",(0,qt.jsx)(ht,{to:"/products",children:"Start shopping now!"})]})]}),0!==(null===e||void 0===e?void 0:e.length)&&(0,qt.jsxs)("div",{className:vP,children:[(0,qt.jsxs)("div",{children:[(0,qt.jsxs)("p",{children:["Subtotal (",null===e||void 0===e?void 0:e.length," items)"]}),(0,qt.jsx)(SI,{amount:i})]}),(0,qt.jsxs)("span",{children:[(0,qt.jsx)("input",{type:"checkbox"}),(0,qt.jsx)("small",{children:"This order contains a gift"})]}),(0,qt.jsx)(ht,{to:"/payments",children:"Continue to Checkout"})]})]})})},TP="https://fakestoreapi.com",CP="Results_products_container__IBTun";const xP=function(){const[e,t]=(0,r.useState)([]),[n,i]=(0,r.useState)(!0),[o,s]=(0,r.useState)(null),{categoryName:a}=fe();return(0,r.useEffect)((()=>{i(!0),s(null),wI.get("".concat(TP,"/products/category/").concat(a)).then((e=>{t(e.data)})).catch((e=>{console.error(e),s("Failed to fetch products. Please try again later.")})).finally((()=>{i(!1)}))}),[a]),(0,qt.jsx)(FS,{children:(0,qt.jsxs)("section",{children:[(0,qt.jsx)("h1",{style:{padding:"30px"},children:"Results"}),(0,qt.jsxs)("p",{style:{padding:"30px"},children:["Category: ",a]}),(0,qt.jsx)("hr",{}),n&&(0,qt.jsx)("p",{children:"Loading products..."}),o&&(0,qt.jsx)("p",{style:{color:"red"},children:o}),!n&&!o&&0===e.length&&(0,qt.jsx)("p",{children:"No products found in this category."}),(0,qt.jsx)("div",{className:CP,children:!n&&!o&&(null===e||void 0===e?void 0:e.map((e=>(0,qt.jsx)(FR,{product:e},e.id))))})]})})};const AP=function(){const{productId:e}=fe(),[t,n]=(0,r.useState)({}),[i,o]=(0,r.useState)(!0),[s,a]=(0,r.useState)(null);return console.log("Product ID:",e),(0,r.useEffect)((()=>{if(!e)return a("Invalid product ID."),void o(!1);o(!0),console.log("Fetching product details for ID:",e),wI.get("".concat(TP,"/products/").concat(e)).then((e=>{console.log("API Response:",e.data),n(e.data),o(!1)})).catch((e=>{var t;console.error("API Error:",(null===(t=e.response)||void 0===t?void 0:t.data)||e.message),a("Failed to load product details."),o(!1)}))}),[e]),i?(0,qt.jsx)(FS,{children:(0,qt.jsx)(KR,{})}):s?(0,qt.jsx)(FS,{children:(0,qt.jsxs)("p",{children:["Error: ",s]})}):(0,qt.jsx)(FS,{children:(0,qt.jsx)(FR,{product:t,flex:!0,renderDesc:!0})})};var RP,PP="https://js.stripe.com/v3",OP=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,NP="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",DP=function(e){var t=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",n=document.createElement("script");n.src="".concat(PP).concat(t);var r=document.head||document.body;if(!r)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return r.appendChild(n),n},LP=null,MP=null,FP=null,jP=function(e){return null!==LP?LP:(LP=new Promise((function(t,n){if("undefined"!==typeof window&&"undefined"!==typeof document)if(window.Stripe&&e&&console.warn(NP),window.Stripe)t(window.Stripe);else try{var r=function(){for(var e=document.querySelectorAll('script[src^="'.concat(PP,'"]')),t=0;t<e.length;t++){var n=e[t];if(OP.test(n.src))return n}return null}();if(r&&e)console.warn(NP);else if(r){if(r&&null!==FP&&null!==MP){var i;r.removeEventListener("load",FP),r.removeEventListener("error",MP),null===(i=r.parentNode)||void 0===i||i.removeChild(r),r=DP(e)}}else r=DP(e);FP=function(e,t){return function(){window.Stripe?e(window.Stripe):t(new Error("Stripe.js not available"))}}(t,n),MP=function(e){return function(){e(new Error("Failed to load Stripe.js"))}}(n),r.addEventListener("load",FP),r.addEventListener("error",MP)}catch(o){return void n(o)}else t(null)}))).catch((function(e){return LP=null,Promise.reject(e)}))},UP=!1,VP=function(){return RP||(RP=jP(null).catch((function(e){return RP=null,Promise.reject(e)})))};Promise.resolve().then((function(){return VP()})).catch((function(e){UP||console.warn(e)}));const zP=function(e){let{children:t,msg:n,redirect:i}=e;const o=he(),[{basket:s,user:a},l]=(0,r.useContext)(Yt);return(0,r.useEffect)((()=>{a||o("/auth",{state:{msg:n,redirect:i}})}),[a]),t},BP=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];UP=!0;var r=Date.now();return VP().then((function(e){return function(e,t,n){if(null===e)return null;var r=e.apply(void 0,t);return function(e,t){e&&e._registerWrapper&&e._registerWrapper({name:"stripe-js",version:"5.1.0",startTime:t})}(r,n),r}(e,t,r)}))}("pk_test_51QTpxmL0Npjdyf8taybZlKDCiD8BhG7IJPq6ZOf6wHoOdeYOJma5gerznVJ7APbJabX5MnOqvBLNBmHDYRAQGQbc00ObiWp0K2");const qP=function(){return(0,qt.jsx)(ut,{children:(0,qt.jsxs)(Re,{children:[(0,qt.jsx)(xe,{path:"/",element:(0,qt.jsx)(QR,{})}),(0,qt.jsx)(xe,{path:"/auth",element:(0,qt.jsx)(rP,{})}),(0,qt.jsx)(xe,{path:"/payments",element:(0,qt.jsx)(zP,{msg:"you must log in to pay",redirect:"/payments",children:(0,qt.jsx)(dP.Elements,{stripe:BP,children:(0,qt.jsx)(fP,{})})})}),(0,qt.jsx)(xe,{path:"/orders",element:(0,qt.jsx)(zP,{msg:"you must log in to see your orders",redirect:"/orders",children:(0,qt.jsx)(gP,{})})}),(0,qt.jsx)(xe,{path:"/category/:categoryName",element:(0,qt.jsx)(xP,{})}),(0,qt.jsx)(xe,{path:"/products/:productId",element:(0,qt.jsx)(AP,{})}),(0,qt.jsx)(xe,{path:"/cart",element:(0,qt.jsx)(IP,{})})]})})};const WP=function(){const[{user:e},t]=(0,r.useContext)(Yt);return(0,r.useEffect)((()=>{if(!DS)return void console.error("Firebase auth is not initialized");const e=DS.onAuthStateChanged((e=>{t(e?{type:Qt,user:e}:{type:Qt,user:null})}));return()=>e()}),[t]),(0,qt.jsx)(qP,{})};o.createRoot(document.getElementById("root")).render((0,qt.jsx)(r.StrictMode,{children:(0,qt.jsx)(Xt,{reducer:(e,t)=>{switch(t.type){case Kt:if(e.basket.find((e=>e.id===t.item.id))){const n=e.basket.map((e=>e.id===t.item.id?d(d({},e),{},{amount:e.amount+1}):e));return d(d({},e),{},{basket:n})}return d(d({},e),{},{basket:[...e.basket,d(d({},t.item),{},{amount:1})]});case Gt:const n=e.basket.findIndex((e=>e.id===t.id));let r=[...e.basket];return n>=0&&(r[n].amount>1?r[n]=d(d({},r[n]),{},{amount:r[n].amount-1}):r.splice(n,1)),d(d({},e),{},{basket:r});case $t:return d(d({},e),{},{basket:[]});case Qt:return d(d({},e),{},{user:t.user});default:return e}},initialState:Jt,children:(0,qt.jsx)(WP,{})})}))})()})();
//# sourceMappingURL=main.e34fd7ee.js.map